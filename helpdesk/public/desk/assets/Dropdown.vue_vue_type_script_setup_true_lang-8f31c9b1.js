import{A as x,aa as y,d as C,c_ as Z,c as S,c$ as J,d0 as X,Z as Y,cV as ee,ah as te,cW as F,ab as $,ad as O,af as ae,d5 as ne,d2 as le,ag as B,M as re,X as oe,a9 as ue,ao as R,db as se,ae as ie,dc as ce,dd as I,ai as b,de,an as N,df as H,a8 as pe,u as fe,e as k,f as D,w,g as _,h as M,C as ve,D as me,a1 as L,aP as ge,s as be,t as E,x as V,k as P,G as j,y as K,F as U,v as q,R as ye,l as he,P as Ie}from"./index-62a62e6e.js";let z=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function G(n){var f,s;let c=(f=n.innerText)!=null?f:"",d=n.cloneNode(!0);if(!(d instanceof HTMLElement))return c;let i=!1;for(let p of d.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))p.remove(),i=!0;let e=i?(s=d.innerText)!=null?s:"":c;return z.test(e)&&(e=e.replace(z,"")),e}function ke(n){let f=n.getAttribute("aria-label");if(typeof f=="string")return f.trim();let s=n.getAttribute("aria-labelledby");if(s){let c=s.split(" ").map(d=>{let i=document.getElementById(d);if(i){let e=i.getAttribute("aria-label");return typeof e=="string"?e.trim():G(i).trim()}return null}).filter(Boolean);if(c.length>0)return c.join(", ")}return G(n).trim()}function xe(n){let f=x(""),s=x("");return()=>{let c=y(n);if(!c)return"";let d=c.innerText;if(f.value===d)return s.value;let i=ke(c).trim().toLowerCase();return f.value=d,s.value=i,i}}var Se=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(Se||{}),we=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(we||{});function De(n){requestAnimationFrame(()=>requestAnimationFrame(n))}let Q=Symbol("MenuContext");function A(n){let f=ie(Q,null);if(f===null){let s=new Error(`<${n} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,A),s}return f}let Me=C({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(n,{slots:f,attrs:s}){let c=x(1),d=x(null),i=x(null),e=x([]),p=x(""),a=x(null),u=x(1);function g(t=r=>r){let r=a.value!==null?e.value[a.value]:null,o=pe(t(e.value.slice()),h=>y(h.dataRef.domRef)),v=r?o.indexOf(r):null;return v===-1&&(v=null),{items:o,activeItemIndex:v}}let l={menuState:c,buttonRef:d,itemsRef:i,items:e,searchQuery:p,activeItemIndex:a,activationTrigger:u,closeMenu:()=>{c.value=1,a.value=null},openMenu:()=>c.value=0,goToItem(t,r,o){let v=g(),h=ce(t===I.Specific?{focus:I.Specific,id:r}:{focus:t},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});p.value="",a.value=h,u.value=o??1,e.value=v.items},search(t){let r=p.value!==""?0:1;p.value+=t.toLowerCase();let o=(a.value!==null?e.value.slice(a.value+r).concat(e.value.slice(0,a.value+r)):e.value).find(h=>h.dataRef.textValue.startsWith(p.value)&&!h.dataRef.disabled),v=o?e.value.indexOf(o):-1;v===-1||v===a.value||(a.value=v,u.value=1)},clearSearch(){p.value=""},registerItem(t,r){let o=g(v=>[...v,{id:t,dataRef:r}]);e.value=o.items,a.value=o.activeItemIndex,u.value=1},unregisterItem(t){let r=g(o=>{let v=o.findIndex(h=>h.id===t);return v!==-1&&o.splice(v,1),o});e.value=r.items,a.value=r.activeItemIndex,u.value=1}};return Z([d,i],(t,r)=>{var o;l.closeMenu(),J(r,X.Loose)||(t.preventDefault(),(o=y(d))==null||o.focus())},S(()=>c.value===0)),Y(Q,l),ee(S(()=>te(c.value,{0:F.Open,1:F.Closed}))),()=>{let t={open:c.value===0,close:l.closeMenu};return $({ourProps:{},theirProps:n,slot:t,slots:f,attrs:s,name:"Menu"})}}}),Re=C({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(n,{attrs:f,slots:s,expose:c}){var d;let i=(d=n.id)!=null?d:`headlessui-menu-button-${O()}`,e=A("MenuButton");c({el:e.buttonRef,$el:e.buttonRef});function p(l){switch(l.key){case b.Space:case b.Enter:case b.ArrowDown:l.preventDefault(),l.stopPropagation(),e.openMenu(),R(()=>{var t;(t=y(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case b.ArrowUp:l.preventDefault(),l.stopPropagation(),e.openMenu(),R(()=>{var t;(t=y(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function a(l){switch(l.key){case b.Space:l.preventDefault();break}}function u(l){n.disabled||(e.menuState.value===0?(e.closeMenu(),R(()=>{var t;return(t=y(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(l.preventDefault(),e.openMenu(),De(()=>{var t;return(t=y(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let g=ae(S(()=>({as:n.as,type:f.type})),e.buttonRef);return()=>{var l;let t={open:e.menuState.value===0},{...r}=n,o={ref:e.buttonRef,id:i,type:g.value,"aria-haspopup":"menu","aria-controls":(l=y(e.itemsRef))==null?void 0:l.id,"aria-expanded":e.menuState.value===0,onKeydown:p,onKeyup:a,onClick:u};return $({ourProps:o,theirProps:r,slot:t,attrs:f,slots:s,name:"MenuButton"})}}}),Pe=C({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(n,{attrs:f,slots:s,expose:c}){var d;let i=(d=n.id)!=null?d:`headlessui-menu-items-${O()}`,e=A("MenuItems"),p=x(null);c({el:e.itemsRef,$el:e.itemsRef}),ne({container:S(()=>y(e.itemsRef)),enabled:S(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function a(t){var r;switch(p.value&&clearTimeout(p.value),t.key){case b.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case b.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let o=e.items.value[e.activeItemIndex.value];(r=y(o.dataRef.domRef))==null||r.click()}e.closeMenu(),H(y(e.buttonRef));break;case b.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case b.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case b.Home:case b.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case b.End:case b.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case b.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>{var o;return(o=y(e.buttonRef))==null?void 0:o.focus({preventScroll:!0})});break;case b.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>de(y(e.buttonRef),t.shiftKey?N.Previous:N.Next));break;default:t.key.length===1&&(e.search(t.key),p.value=setTimeout(()=>e.clearSearch(),350));break}}function u(t){switch(t.key){case b.Space:t.preventDefault();break}}let g=le(),l=S(()=>g!==null?(g.value&F.Open)===F.Open:e.menuState.value===0);return()=>{var t,r;let o={open:e.menuState.value===0},{...v}=n,h={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(r=y(e.buttonRef))==null?void 0:r.id,id:i,onKeydown:a,onKeyup:u,role:"menu",tabIndex:0,ref:e.itemsRef};return $({ourProps:h,theirProps:v,slot:o,attrs:f,slots:s,features:B.RenderStrategy|B.Static,visible:l.value,name:"MenuItems"})}}}),Ce=C({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(n,{slots:f,attrs:s,expose:c}){var d;let i=(d=n.id)!=null?d:`headlessui-menu-item-${O()}`,e=A("MenuItem"),p=x(null);c({el:p,$el:p});let a=S(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===i:!1),u=xe(p),g=S(()=>({disabled:n.disabled,get textValue(){return u()},domRef:p}));re(()=>e.registerItem(i,g)),oe(()=>e.unregisterItem(i)),ue(()=>{e.menuState.value===0&&a.value&&e.activationTrigger.value!==0&&R(()=>{var m,T;return(T=(m=y(p))==null?void 0:m.scrollIntoView)==null?void 0:T.call(m,{block:"nearest"})})});function l(m){if(n.disabled)return m.preventDefault();e.closeMenu(),H(y(e.buttonRef))}function t(){if(n.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,i)}let r=se();function o(m){r.update(m)}function v(m){r.wasMoved(m)&&(n.disabled||a.value||e.goToItem(I.Specific,i,0))}function h(m){r.wasMoved(m)&&(n.disabled||a.value&&e.goToItem(I.Nothing))}return()=>{let{disabled:m,...T}=n,W={active:a.value,disabled:m,close:e.closeMenu};return $({ourProps:{id:i,ref:p,role:"menuitem",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,onClick:l,onFocus:t,onPointerenter:o,onMouseenter:o,onPointermove:v,onMousemove:v,onPointerleave:h,onMouseleave:h},theirProps:{...s,...T},slot:W,attrs:s,slots:f,name:"MenuItem"})}}});const Te={key:0,class:"flex h-7 items-center px-2 text-sm font-medium text-ink-gray-6"},Fe=["onClick"],$e={class:"whitespace-nowrap text-ink-gray-7"},_e=C({__name:"Dropdown",props:{button:{},options:{default:()=>[]},placement:{default:"left"}},setup(n){const f=fe(),s=n,c=a=>{let u=()=>{a.route?f.push(a.route):a.onClick&&a.onClick()};return{label:a.label,icon:a.icon,component:a.component,onClick:u}},d=a=>(a||[]).filter(Boolean).filter(u=>u.condition?u.condition():!0).map(u=>c(u)),i=S(()=>{let a=[],u=null,g=0;for(let l of s.options)if(l!=null){if("group"in l){u&&(a.push(u),u=null);let t={key:g,...l,items:d(l.items)};a.push(t)}else u||(u={key:g,group:"",hideLabel:!0,items:[]}),u.items.push(...d([l]));g++}return u&&a.push(u),a}),e=S(()=>({enterActiveClass:"transition duration-100 ease-out",enterFromClass:"transform scale-95 opacity-0",enterToClass:"transform scale-100 opacity-100",leaveActiveClass:"transition duration-75 ease-in",leaveFromClass:"transform scale-100 opacity-100",leaveToClass:"transform scale-95 opacity-0"})),p=S(()=>s.placement==="left"?"bottom-start":s.placement==="right"?"bottom-end":s.placement==="center"?"bottom-center":"bottom");return(a,u)=>(k(),D(M(Me),{as:"div",class:"relative inline-block text-left"},{default:w(({open:g})=>[_(M(Ie),{transition:e.value,show:g,placement:p.value},{target:w(()=>[_(M(Re),{as:"div"},{default:w(()=>[a.$slots.default?ve(a.$slots,"default",me(L({key:0},{open:g}))):(k(),D(M(ge),L({key:1,active:g},a.button),{default:w(()=>{var l;return[be(E(a.button?((l=a.button)==null?void 0:l.label)||null:"Options"),1)]}),_:2},1040,["active"]))]),_:2},1024)]),body:w(()=>[_(M(Pe),{class:V(["mt-2 min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",{"left-0 origin-top-left":a.placement=="left","right-0 origin-top-right":a.placement=="right","inset-x-0 origin-top":a.placement=="center"}])},{default:w(()=>[(k(!0),P(U,null,j(i.value,l=>(k(),P("div",{key:l.key,class:"p-1.5"},[l.group&&!l.hideLabel?(k(),P("div",Te,E(l.group),1)):K("",!0),(k(!0),P(U,null,j(l.items,t=>(k(),D(M(Ce),{key:t.label},{default:w(({active:r})=>[t.component?(k(),D(q(t.component),{key:0,active:r},null,8,["active"])):(k(),P("button",{key:1,class:V([r?"bg-surface-gray-3":"text-ink-gray-6","group flex h-7 w-full items-center rounded px-2 text-base"]),onClick:t.onClick},[t.icon&&typeof t.icon=="string"?(k(),D(ye,{key:0,name:t.icon,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-6","aria-hidden":"true"},null,8,["name"])):t.icon?(k(),D(q(t.icon),{key:1,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-6"})):K("",!0),he("span",$e,E(t.label),1)],10,Fe))]),_:2},1024))),128))]))),128))]),_:1},8,["class"])]),_:2},1032,["transition","show","placement"])]),_:3}))}});export{Pe as M,Re as S,_e as _,Ce as b,Me as g};
//# sourceMappingURL=Dropdown.vue_vue_type_script_setup_true_lang-8f31c9b1.js.map
