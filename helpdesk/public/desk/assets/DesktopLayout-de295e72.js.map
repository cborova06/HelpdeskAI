{"version":3,"file":"DesktopLayout-de295e72.js","sources":["../../../../node_modules/@headlessui/vue/dist/components/switch/switch.js","../../../../node_modules/ohash/dist/shared/ohash.D__AXeF1.mjs","../../../../node_modules/reka-ui/dist/shared/arrays.js","../../../../node_modules/defu/dist/defu.mjs","../../../../node_modules/reka-ui/dist/shared/useBodyScrollLock.js","../../../../node_modules/reka-ui/dist/shared/useDirection.js","../../../../node_modules/reka-ui/dist/shared/useFilter.js","../../../../node_modules/reka-ui/dist/shared/useFormControl.js","../../../../node_modules/aria-hidden/dist/es2015/index.js","../../../../node_modules/reka-ui/dist/shared/useHideOthers.js","../../../../node_modules/reka-ui/dist/shared/useKbd.js","../../../../node_modules/reka-ui/dist/shared/useTypeahead.js","../../../../node_modules/reka-ui/dist/RovingFocus/utils.js","../../../../node_modules/reka-ui/dist/VisuallyHidden/VisuallyHiddenInputBubble.js","../../../../node_modules/reka-ui/dist/VisuallyHidden/VisuallyHiddenInput.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxAnchor.js","../../../../node_modules/reka-ui/dist/Listbox/utils.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxRoot.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxContent.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxFilter.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxGroup.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxItem.js","../../../../node_modules/reka-ui/dist/Listbox/ListboxItemIndicator.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxRoot.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxContentImpl.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxContent.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxEmpty.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxGroup.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxInput.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxItem.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxItemIndicator.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxLabel.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxPortal.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxTrigger.js","../../../../node_modules/reka-ui/dist/shared/useNonce.js","../../../../node_modules/reka-ui/dist/Combobox/ComboboxViewport.js","../../../../node_modules/frappe-ui/src/components/Combobox/Combobox.vue","../../../../node_modules/frappe-ui/src/components/Switch/Switch.vue","../../../../desk/src/components/notifications/Notifications.vue","../../../../desk/src/components/icons/FrappeCloudIcon.vue","../../../../desk/src/components/icons/FieldDependencyIcon.vue","../../../../desk/src/components/icons/InviteCustomer.vue","../../../../node_modules/frappe-ui/frappe/Icons/StepsIcon.vue","../../../../node_modules/frappe-ui/frappe/Icons/MinimizeIcon.vue","../../../../node_modules/frappe-ui/frappe/Icons/MaximizeIcon.vue","../../../../node_modules/frappe-ui/frappe/Icons/HelpIcon.vue","../../../../node_modules/frappe-ui/frappe/Onboarding/OnboardingSteps.vue","../../../../node_modules/frappe-ui/frappe/HelpCenter/HelpCenter.vue","../../../../node_modules/frappe-ui/frappe/Help/HelpModal.vue","../../../../node_modules/frappe-ui/frappe/Onboarding/GettingStartedBanner.vue","../../../../node_modules/frappe-ui/frappe/Onboarding/IntermediateStepModal.vue","../../../../node_modules/frappe-ui/frappe/Icons/LightningIcon.vue","../../../../node_modules/frappe-ui/frappe/Billing/TrialBanner.vue","../../../../desk/src/components/layouts/AppHeader.vue","../../../../desk/src/components/Settings/agents.ts","../../../../desk/src/components/desk/global/AddNewAgentsDialog.vue","../../../../desk/src/components/Settings/SettingsLayoutHeader.vue","../../../../desk/src/components/Settings/AgentCard.vue","../../../../desk/src/components/Settings/Agents.vue","../../../../desk/src/components/Settings/Branding.vue","../../../../desk/src/assets/images/gmail.png","../../../../desk/src/assets/images/outlook.png","../../../../desk/src/assets/images/sendgrid.png","../../../../desk/src/assets/images/sparkpost.webp","../../../../desk/src/assets/images/yahoo.png","../../../../desk/src/assets/images/yandex.png","../../../../desk/src/assets/images/frappe-mail.svg","../../../../desk/src/components/Settings/emailConfig.ts","../../../../desk/src/components/Settings/EmailProviderIcon.vue","../../../../desk/src/components/Settings/EmailAdd.vue","../../../../desk/src/components/Settings/EmailAccountCard.vue","../../../../desk/src/components/Settings/EmailAccountList.vue","../../../../desk/src/components/Settings/EmailEdit.vue","../../../../desk/src/components/Settings/EmailConfig.vue","../../../../desk/src/stores/assignmentRules.ts","../../../../desk/src/components/Settings/Teams/TeamEdit.vue","../../../../desk/src/components/Settings/NewTeamModal.vue","../../../../desk/src/components/Settings/Teams/TeamsList.vue","../../../../desk/src/components/Settings/Teams/TeamsConfig.vue","../../../../desk/src/stores/sla.ts","../../../../desk/src/components/Settings/Sla/SlaPolicyListItem.vue","../../../../desk/src/components/Settings/Sla/SlaPolicyList.vue","../../../../desk/src/components/Settings/Sla/SlaPolicies.vue","../../../../desk/src/components/ConfirmDialog.vue","../../../../desk/src/components/conditions-filter/filterableFields.ts","../../../../desk/src/components/conditions-filter/CFCondition.vue","../../../../desk/src/components/conditions-filter/CFConditions.vue","../../../../desk/src/components/Settings/Sla/SlaAssignmentConditions.vue","../../../../desk/src/components/Settings/Sla/Modals/WorkDayModal.vue","../../../../desk/src/components/Settings/Sla/SlaWorkDaysListItem.vue","../../../../desk/src/components/Settings/Sla/SlaWorkDaysList.vue","../../../../desk/src/stores/holidayList.ts","../../../../desk/src/components/Settings/Sla/SlaHolidays.vue","../../../../desk/src/components/frappe-ui/DurationPicker.vue","../../../../desk/src/components/Settings/Sla/utils.ts","../../../../desk/src/components/Settings/Sla/Modals/EditResponseResolutionModal.vue","../../../../desk/src/components/Settings/Sla/SlaPriorityListItem.vue","../../../../desk/src/components/Settings/Sla/SlaPriorityList.vue","../../../../desk/src/components/Settings/Sla/SlaStatusListItem.vue","../../../../desk/src/components/Settings/Sla/SlaStatusList.vue","../../../../desk/src/components/Settings/Sla/SlaPolicyView.vue","../../../../desk/src/components/Settings/Sla/Sla.vue","../../../../desk/src/components/Settings/Holiday/HolidayListItem.vue","../../../../desk/src/components/Settings/Holiday/HolidayList.vue","../../../../desk/src/components/Settings/Holiday/Holidays.vue","../../../../desk/src/components/Settings/Holiday/Modals/AddHolidayModal.vue","../../../../desk/src/components/Settings/Holiday/HolidaysTableView.vue","../../../../node_modules/dayjs/plugin/isSameOrBefore.js","../../../../node_modules/dayjs/plugin/weekday.js","../../../../desk/src/components/Settings/Holiday/utils.ts","../../../../desk/src/components/Settings/Holiday/RecurringHolidaysList.vue","../../../../desk/src/components/Settings/Holiday/HLCalender.vue","../../../../desk/src/components/Settings/Holiday/HolidaysCalendarView.vue","../../../../desk/src/components/Settings/Holiday/HolidayView.vue","../../../../desk/src/components/Settings/Holiday/Holiday.vue","../../../../desk/src/components/Settings/FieldDependency/fieldDependency.ts","../../../../desk/src/components/frappe-ui/MultiSelectCombobox.vue","../../../../desk/src/components/DocumentationButton.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyCriteria.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyFieldsSelection.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyValueSelection.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependency.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyList.vue","../../../../desk/src/components/Settings/FieldDependency/FieldDependencyConfig.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRuleListItem.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRulesListView.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRulesList.vue","../../../../desk/src/components/Settings/Assignment Rules/AssigneeSearch.vue","../../../../desk/src/components/Settings/Assignment Rules/AssigneeRules.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRulesSection.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentScheduleItem.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentSchedule.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRuleView.vue","../../../../desk/src/components/Settings/Assignment Rules/AssignmentRules.vue","../../../../desk/src/components/Settings/settingsModal.ts","../../../../desk/src/components/Settings/SettingsModal.vue","../../../../desk/src/composables/fc.ts","../../../../desk/src/components/layouts/Sidebar.vue","../../../../desk/src/components/layouts/DesktopLayout.vue"],"sourcesContent":["import{computed as u,defineComponent as v,Fragment as H,h as S,inject as M,onMounted as I,provide as P,ref as w,watch as j}from\"vue\";import{useControllable as G}from'../../hooks/use-controllable.js';import{useId as V}from'../../hooks/use-id.js';import{useResolveButtonType as F}from'../../hooks/use-resolve-button-type.js';import{Features as O,Hidden as A}from'../../internal/hidden.js';import{Keys as g}from'../../keyboard.js';import{dom as N}from'../../utils/dom.js';import{attemptSubmit as $}from'../../utils/form.js';import{compact as U,omit as _,render as k}from'../../utils/render.js';import{Description as q,useDescriptions as z}from'../description/description.js';import{Label as J,useLabels as Q}from'../label/label.js';let C=Symbol(\"GroupContext\"),oe=v({name:\"SwitchGroup\",props:{as:{type:[Object,String],default:\"template\"}},setup(l,{slots:c,attrs:i}){let r=w(null),f=Q({name:\"SwitchLabel\",props:{htmlFor:u(()=>{var t;return(t=r.value)==null?void 0:t.id}),onClick(t){r.value&&(t.currentTarget.tagName===\"LABEL\"&&t.preventDefault(),r.value.click(),r.value.focus({preventScroll:!0}))}}}),p=z({name:\"SwitchDescription\"});return P(C,{switchRef:r,labelledby:f,describedby:p}),()=>k({theirProps:l,ourProps:{},slot:{},slots:c,attrs:i,name:\"SwitchGroup\"})}}),ue=v({name:\"Switch\",emits:{\"update:modelValue\":l=>!0},props:{as:{type:[Object,String],default:\"button\"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(l,{emit:c,attrs:i,slots:r,expose:f}){var h;let p=(h=l.id)!=null?h:`headlessui-switch-${V()}`,n=M(C,null),[t,s]=G(u(()=>l.modelValue),e=>c(\"update:modelValue\",e),u(()=>l.defaultChecked));function m(){s(!t.value)}let E=w(null),o=n===null?E:n.switchRef,L=F(u(()=>({as:l.as,type:i.type})),o);f({el:o,$el:o});function D(e){e.preventDefault(),m()}function R(e){e.key===g.Space?(e.preventDefault(),m()):e.key===g.Enter&&$(e.currentTarget)}function x(e){e.preventDefault()}let d=u(()=>{var e,a;return(a=(e=N(o))==null?void 0:e.closest)==null?void 0:a.call(e,\"form\")});return I(()=>{j([d],()=>{if(!d.value||l.defaultChecked===void 0)return;function e(){s(l.defaultChecked)}return d.value.addEventListener(\"reset\",e),()=>{var a;(a=d.value)==null||a.removeEventListener(\"reset\",e)}},{immediate:!0})}),()=>{let{name:e,value:a,form:K,tabIndex:y,...b}=l,T={checked:t.value},B={id:p,ref:o,role:\"switch\",type:L.value,tabIndex:y===-1?0:y,\"aria-checked\":t.value,\"aria-labelledby\":n==null?void 0:n.labelledby.value,\"aria-describedby\":n==null?void 0:n.describedby.value,onClick:D,onKeyup:R,onKeypress:x};return S(H,[e!=null&&t.value!=null?S(A,U({features:O.Hidden,as:\"input\",type:\"checkbox\",hidden:!0,readOnly:!0,checked:t.value,form:K,disabled:b.disabled,name:e,value:a})):null,k({ourProps:B,theirProps:{...i,..._(b,[\"modelValue\",\"defaultChecked\"])},slot:T,attrs:i,slots:r,name:\"Switch\"})])}}}),de=J,ce=q;export{ue as Switch,ce as SwitchDescription,oe as SwitchGroup,de as SwitchLabel};\n","function serialize(o){return typeof o==\"string\"?`'${o}'`:new c().serialize(o)}const c=/*@__PURE__*/function(){class o{#t=new Map;compare(t,r){const e=typeof t,n=typeof r;return e===\"string\"&&n===\"string\"?t.localeCompare(r):e===\"number\"&&n===\"number\"?t-r:String.prototype.localeCompare.call(this.serialize(t,true),this.serialize(r,true))}serialize(t,r){if(t===null)return \"null\";switch(typeof t){case \"string\":return r?t:`'${t}'`;case \"bigint\":return `${t}n`;case \"object\":return this.$object(t);case \"function\":return this.$function(t)}return String(t)}serializeObject(t){const r=Object.prototype.toString.call(t);if(r!==\"[object Object]\")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),t);const e=t.constructor,n=e===Object||e===void 0?\"\":e.name;if(n!==\"\"&&globalThis[n]===e)return this.serializeBuiltInType(n,t);if(typeof t.toJSON==\"function\"){const i=t.toJSON();return n+(i!==null&&typeof i==\"object\"?this.$object(i):`(${this.serialize(i)})`)}return this.serializeObjectEntries(n,Object.entries(t))}serializeBuiltInType(t,r){const e=this[\"$\"+t];if(e)return e.call(this,r);if(typeof r?.entries==\"function\")return this.serializeObjectEntries(t,r.entries());throw new Error(`Cannot serialize ${t}`)}serializeObjectEntries(t,r){const e=Array.from(r).sort((i,a)=>this.compare(i[0],a[0]));let n=`${t}{`;for(let i=0;i<e.length;i++){const[a,l]=e[i];n+=`${this.serialize(a,true)}:${this.serialize(l)}`,i<e.length-1&&(n+=\",\");}return n+\"}\"}$object(t){let r=this.#t.get(t);return r===void 0&&(this.#t.set(t,`#${this.#t.size}`),r=this.serializeObject(t),this.#t.set(t,r)),r}$function(t){const r=Function.prototype.toString.call(t);return r.slice(-15)===\"[native code] }\"?`${t.name||\"\"}()[native]`:`${t.name}(${t.length})${r.replace(/\\s*\\n\\s*/g,\"\")}`}$Array(t){let r=\"[\";for(let e=0;e<t.length;e++)r+=this.serialize(t[e]),e<t.length-1&&(r+=\",\");return r+\"]\"}$Date(t){try{return `Date(${t.toISOString()})`}catch{return \"Date(null)\"}}$ArrayBuffer(t){return `ArrayBuffer[${new Uint8Array(t).join(\",\")}]`}$Set(t){return `Set${this.$Array(Array.from(t).sort((r,e)=>this.compare(r,e)))}`}$Map(t){return this.serializeObjectEntries(\"Map\",t.entries())}}for(const s of [\"Error\",\"RegExp\",\"URL\"])o.prototype[\"$\"+s]=function(t){return `${s}(${t})`};for(const s of [\"Int8Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"Int16Array\",\"Uint16Array\",\"Int32Array\",\"Uint32Array\",\"Float32Array\",\"Float64Array\"])o.prototype[\"$\"+s]=function(t){return `${s}[${t.join(\",\")}]`};for(const s of [\"BigInt64Array\",\"BigUint64Array\"])o.prototype[\"$\"+s]=function(t){return `${s}[${t.join(\"n,\")}${t.length>0?\"n\":\"\"}]`};return o}();\n\nfunction isEqual(object1, object2) {\n  if (object1 === object2) {\n    return true;\n  }\n  if (serialize(object1) === serialize(object2)) {\n    return true;\n  }\n  return false;\n}\n\nexport { isEqual as i, serialize as s };\n","import { isEqual } from \"ohash\";\n\n//#region src/shared/arrays.ts\n/**\n* The function `areEqual` compares two arrays and returns true if they are equal in length and have\n* the same elements at corresponding indexes.\n* @param {any[]} arrayA - An array of any type of elements.\n* @param {any[]} arrayB - It looks like you haven't provided the value for `arrayB`. Could you please\n* provide the arrayB value so that I can assist you further?\n* @returns The function `areEqual` is returning a boolean value, either `true` if the two input arrays\n* `arrayA` and `arrayB` are equal, or `false` if they are not equal.\n*/\nfunction areEqual(arrayA, arrayB) {\n\tif (arrayA.length !== arrayB.length) return false;\n\tfor (let index = 0; index < arrayA.length; index++) if (arrayA[index] !== arrayB[index]) return false;\n\treturn true;\n}\n/**\n* The function `findValuesBetween` takes an array and two values, then returns a subarray containing\n* elements between the first occurrence of the start value and the first occurrence of the end value\n* in the array.\n* @param {T[]} array - The `array` parameter is an array of values of type `T`.\n* @param {T} start - The `start` parameter is the value that marks the beginning of the range you want\n* to find in the array.\n* @param {T} end - The `end` parameter in the `findValuesBetween` function represents the end value\n* that you want to find in the array. This function will return a subarray of values that are between\n* the `start` and `end` values in the original array.\n* @returns The `findValuesBetween` function returns an array of values from the input array that are\n* between the `start` and `end` values (inclusive). If either the `start` or `end` values are not\n* found in the input array, an empty array is returned.\n*/\nfunction findValuesBetween(array, start, end) {\n\tconst startIndex = array.findIndex((i) => isEqual(i, start));\n\tconst endIndex = array.findIndex((i) => isEqual(i, end));\n\tif (startIndex === -1 || endIndex === -1) return [];\n\tconst [minIndex, maxIndex] = [startIndex, endIndex].sort((a, b) => a - b);\n\treturn array.slice(minIndex, maxIndex + 1);\n}\n\n//#endregion\nexport { areEqual, findValuesBetween };\n//# sourceMappingURL=arrays.js.map","function isPlainObject(value) {\n  if (value === null || typeof value !== \"object\") {\n    return false;\n  }\n  const prototype = Object.getPrototypeOf(value);\n  if (prototype !== null && prototype !== Object.prototype && Object.getPrototypeOf(prototype) !== null) {\n    return false;\n  }\n  if (Symbol.iterator in value) {\n    return false;\n  }\n  if (Symbol.toStringTag in value) {\n    return Object.prototype.toString.call(value) === \"[object Module]\";\n  }\n  return true;\n}\n\nfunction _defu(baseObject, defaults, namespace = \".\", merger) {\n  if (!isPlainObject(defaults)) {\n    return _defu(baseObject, {}, namespace, merger);\n  }\n  const object = Object.assign({}, defaults);\n  for (const key in baseObject) {\n    if (key === \"__proto__\" || key === \"constructor\") {\n      continue;\n    }\n    const value = baseObject[key];\n    if (value === null || value === void 0) {\n      continue;\n    }\n    if (merger && merger(object, key, value, namespace)) {\n      continue;\n    }\n    if (Array.isArray(value) && Array.isArray(object[key])) {\n      object[key] = [...value, ...object[key]];\n    } else if (isPlainObject(value) && isPlainObject(object[key])) {\n      object[key] = _defu(\n        value,\n        object[key],\n        (namespace ? `${namespace}.` : \"\") + key.toString(),\n        merger\n      );\n    } else {\n      object[key] = value;\n    }\n  }\n  return object;\n}\nfunction createDefu(merger) {\n  return (...arguments_) => (\n    // eslint-disable-next-line unicorn/no-array-reduce\n    arguments_.reduce((p, c) => _defu(p, c, \"\", merger), {})\n  );\n}\nconst defu = createDefu();\nconst defuFn = createDefu((object, key, currentValue) => {\n  if (object[key] !== void 0 && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\nconst defuArrayFn = createDefu((object, key, currentValue) => {\n  if (Array.isArray(object[key]) && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\n\nexport { createDefu, defu as default, defu, defuArrayFn, defuFn };\n","import { injectConfigProviderContext } from \"../ConfigProvider/ConfigProvider.js\";\nimport { computed, nextTick, ref, watch } from \"vue\";\nimport { createSharedComposable, useEventListener } from \"@vueuse/core\";\nimport { isClient, isIOS, tryOnBeforeUnmount } from \"@vueuse/shared\";\nimport { defu } from \"defu\";\n\n//#region src/shared/useBodyScrollLock.ts\nconst useBodyLockStackCount = createSharedComposable(() => {\n\tconst map = ref(/* @__PURE__ */ new Map());\n\tconst initialOverflow = ref();\n\tconst locked = computed(() => {\n\t\tfor (const value of map.value.values()) if (value) return true;\n\t\treturn false;\n\t});\n\tconst context = injectConfigProviderContext({ scrollBody: ref(true) });\n\tlet stopTouchMoveListener = null;\n\tconst resetBodyStyle = () => {\n\t\tdocument.body.style.paddingRight = \"\";\n\t\tdocument.body.style.marginRight = \"\";\n\t\tdocument.body.style.pointerEvents = \"\";\n\t\tdocument.documentElement.style.removeProperty(\"--scrollbar-width\");\n\t\tdocument.body.style.overflow = initialOverflow.value ?? \"\";\n\t\tisIOS && stopTouchMoveListener?.();\n\t\tinitialOverflow.value = void 0;\n\t};\n\twatch(locked, (val, oldVal) => {\n\t\tif (!isClient) return;\n\t\tif (!val) {\n\t\t\tif (oldVal) resetBodyStyle();\n\t\t\treturn;\n\t\t}\n\t\tif (initialOverflow.value === void 0) initialOverflow.value = document.body.style.overflow;\n\t\tconst verticalScrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n\t\tconst defaultConfig = {\n\t\t\tpadding: verticalScrollbarWidth,\n\t\t\tmargin: 0\n\t\t};\n\t\tconst config = context.scrollBody?.value ? typeof context.scrollBody.value === \"object\" ? defu({\n\t\t\tpadding: context.scrollBody.value.padding === true ? verticalScrollbarWidth : context.scrollBody.value.padding,\n\t\t\tmargin: context.scrollBody.value.margin === true ? verticalScrollbarWidth : context.scrollBody.value.margin\n\t\t}, defaultConfig) : defaultConfig : {\n\t\t\tpadding: 0,\n\t\t\tmargin: 0\n\t\t};\n\t\tif (verticalScrollbarWidth > 0) {\n\t\t\tdocument.body.style.paddingRight = typeof config.padding === \"number\" ? `${config.padding}px` : String(config.padding);\n\t\t\tdocument.body.style.marginRight = typeof config.margin === \"number\" ? `${config.margin}px` : String(config.margin);\n\t\t\tdocument.documentElement.style.setProperty(\"--scrollbar-width\", `${verticalScrollbarWidth}px`);\n\t\t\tdocument.body.style.overflow = \"hidden\";\n\t\t}\n\t\tif (isIOS) stopTouchMoveListener = useEventListener(document, \"touchmove\", (e) => preventDefault(e), { passive: false });\n\t\tnextTick(() => {\n\t\t\tdocument.body.style.pointerEvents = \"none\";\n\t\t\tdocument.body.style.overflow = \"hidden\";\n\t\t});\n\t}, {\n\t\timmediate: true,\n\t\tflush: \"sync\"\n\t});\n\treturn map;\n});\nfunction useBodyScrollLock(initialState) {\n\tconst id = Math.random().toString(36).substring(2, 7);\n\tconst map = useBodyLockStackCount();\n\tmap.value.set(id, initialState ?? false);\n\tconst locked = computed({\n\t\tget: () => map.value.get(id) ?? false,\n\t\tset: (value) => map.value.set(id, value)\n\t});\n\ttryOnBeforeUnmount(() => {\n\t\tmap.value.delete(id);\n\t});\n\treturn locked;\n}\nfunction checkOverflowScroll(ele) {\n\tconst style = window.getComputedStyle(ele);\n\tif (style.overflowX === \"scroll\" || style.overflowY === \"scroll\" || style.overflowX === \"auto\" && ele.clientWidth < ele.scrollWidth || style.overflowY === \"auto\" && ele.clientHeight < ele.scrollHeight) return true;\n\telse {\n\t\tconst parent = ele.parentNode;\n\t\tif (!(parent instanceof Element) || parent.tagName === \"BODY\") return false;\n\t\treturn checkOverflowScroll(parent);\n\t}\n}\nfunction preventDefault(rawEvent) {\n\tconst e = rawEvent || window.event;\n\tconst _target = e.target;\n\tif (_target instanceof Element && checkOverflowScroll(_target)) return false;\n\tif (e.touches.length > 1) return true;\n\tif (e.preventDefault && e.cancelable) e.preventDefault();\n\treturn false;\n}\n\n//#endregion\nexport { useBodyScrollLock };\n//# sourceMappingURL=useBodyScrollLock.js.map","import { injectConfigProviderContext } from \"../ConfigProvider/ConfigProvider.js\";\nimport { computed, ref } from \"vue\";\n\n//#region src/shared/useDirection.ts\nfunction useDirection(dir) {\n\tconst context = injectConfigProviderContext({ dir: ref(\"ltr\") });\n\treturn computed(() => dir?.value || context.dir?.value || \"ltr\");\n}\n\n//#endregion\nexport { useDirection };\n//# sourceMappingURL=useDirection.js.map","import { computed, unref } from \"vue\";\n\n//#region src/shared/useFilter.ts\n/**\n* Provides locale-aware string filtering functions.\n* Uses `Intl.Collator` for comparison to ensure proper Unicode handling.\n*\n* @param options - Optional collator options to customize comparison behavior.\n*   See [Intl.CollatorOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Collator/Collator#options) for details.\n* @returns An object with methods to check if a string starts with, ends with, or contains a substring.\n*\n* @example\n* const { startsWith, endsWith, contains } = useFilter();\n*\n* startsWith('hello', 'he'); // true\n* endsWith('hello', 'lo'); // true\n* contains('hello', 'ell'); // true\n*/\nfunction useFilter(options) {\n\tconst computedOptions = computed(() => unref(options));\n\tconst collator = computed(() => new Intl.Collator(\"en\", {\n\t\tusage: \"search\",\n\t\t...computedOptions.value\n\t}));\n\tconst startsWith = (string, substring) => {\n\t\tif (substring.length === 0) return true;\n\t\tstring = string.normalize(\"NFC\");\n\t\tsubstring = substring.normalize(\"NFC\");\n\t\treturn collator.value.compare(string.slice(0, substring.length), substring) === 0;\n\t};\n\tconst endsWith = (string, substring) => {\n\t\tif (substring.length === 0) return true;\n\t\tstring = string.normalize(\"NFC\");\n\t\tsubstring = substring.normalize(\"NFC\");\n\t\treturn collator.value.compare(string.slice(-substring.length), substring) === 0;\n\t};\n\tconst contains = (string, substring) => {\n\t\tif (substring.length === 0) return true;\n\t\tstring = string.normalize(\"NFC\");\n\t\tsubstring = substring.normalize(\"NFC\");\n\t\tlet scan = 0;\n\t\tconst sliceLen = substring.length;\n\t\tfor (; scan + sliceLen <= string.length; scan++) {\n\t\t\tconst slice = string.slice(scan, scan + sliceLen);\n\t\t\tif (collator.value.compare(substring, slice) === 0) return true;\n\t\t}\n\t\treturn false;\n\t};\n\treturn {\n\t\tstartsWith,\n\t\tendsWith,\n\t\tcontains\n\t};\n}\n\n//#endregion\nexport { useFilter };\n//# sourceMappingURL=useFilter.js.map","import { computed } from \"vue\";\nimport { toValue as toValue$1, unrefElement } from \"@vueuse/core\";\n\n//#region src/shared/useFormControl.ts\nfunction useFormControl(el) {\n\treturn computed(() => toValue$1(el) ? Boolean(unrefElement(el)?.closest(\"form\")) : true);\n}\n\n//#endregion\nexport { useFormControl };\n//# sourceMappingURL=useFormControl.js.map","var getDefaultParent = function (originalTarget) {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n    return sampleTarget.ownerDocument.body;\n};\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = function (node) {\n    return node && (node.host || unwrapHost(node.parentNode));\n};\nvar correctTargets = function (parent, targets) {\n    return targets\n        .map(function (target) {\n        if (parent.contains(target)) {\n            return target;\n        }\n        var correctedTarget = unwrapHost(target);\n        if (correctedTarget && parent.contains(correctedTarget)) {\n            return correctedTarget;\n        }\n        console.error('aria-hidden', target, 'in not contained inside', parent, '. Doing nothing');\n        return null;\n    })\n        .filter(function (x) { return Boolean(x); });\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @param {String} [controlAttribute] - html Attribute to control\n * @return {Undo} undo command\n */\nvar applyAttributeToOthers = function (originalTarget, parentNode, markerName, controlAttribute) {\n    var targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var elementsToKeep = new Set();\n    var elementsToStop = new Set(targets);\n    var keep = function (el) {\n        if (!el || elementsToKeep.has(el)) {\n            return;\n        }\n        elementsToKeep.add(el);\n        keep(el.parentNode);\n    };\n    targets.forEach(keep);\n    var deep = function (parent) {\n        if (!parent || elementsToStop.has(parent)) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function (node) {\n            if (elementsToKeep.has(node)) {\n                deep(node);\n            }\n            else {\n                try {\n                    var attr = node.getAttribute(controlAttribute);\n                    var alreadyHidden = attr !== null && attr !== 'false';\n                    var counterValue = (counterMap.get(node) || 0) + 1;\n                    var markerValue = (markerCounter.get(node) || 0) + 1;\n                    counterMap.set(node, counterValue);\n                    markerCounter.set(node, markerValue);\n                    hiddenNodes.push(node);\n                    if (counterValue === 1 && alreadyHidden) {\n                        uncontrolledNodes.set(node, true);\n                    }\n                    if (markerValue === 1) {\n                        node.setAttribute(markerName, 'true');\n                    }\n                    if (!alreadyHidden) {\n                        node.setAttribute(controlAttribute, 'true');\n                    }\n                }\n                catch (e) {\n                    console.error('aria-hidden: cannot operate on ', node, e);\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    elementsToKeep.clear();\n    lockCount++;\n    return function () {\n        hiddenNodes.forEach(function (node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute(controlAttribute);\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            // clear\n            counterMap = new WeakMap();\n            counterMap = new WeakMap();\n            uncontrolledNodes = new WeakMap();\n            markerMap = {};\n        }\n    };\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-aria-hidden'; }\n    var targets = Array.from(Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    // we should not hide aria-live elements - https://github.com/theKashey/aria-hidden/issues/10\n    // and script elements, as they have no impact on accessibility.\n    targets.push.apply(targets, Array.from(activeParentNode.querySelectorAll('[aria-live], script')));\n    return applyAttributeToOthers(targets, activeParentNode, markerName, 'aria-hidden');\n};\n/**\n * Marks everything except given node(or nodes) as inert\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var inertOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-inert-ed'; }\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    return applyAttributeToOthers(originalTarget, activeParentNode, markerName, 'inert');\n};\n/**\n * @returns if current browser supports inert\n */\nexport var supportsInert = function () {\n    return typeof HTMLElement !== 'undefined' && HTMLElement.prototype.hasOwnProperty('inert');\n};\n/**\n * Automatic function to \"suppress\" DOM elements - _hide_ or _inert_ in the best possible way\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var suppressOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-suppressed'; }\n    return (supportsInert() ? inertOthers : hideOthers)(originalTarget, parentNode, markerName);\n};\n","import { onUnmounted, watch } from \"vue\";\nimport { unrefElement } from \"@vueuse/core\";\nimport { hideOthers } from \"aria-hidden\";\n\n//#region src/shared/useHideOthers.ts\n/**\n* The `useHideOthers` function is a TypeScript function that takes a target element reference and\n* hides all other elements in ARIA when the target element is present, and restores the visibility of the\n* hidden elements when the target element is removed.\n* @param {MaybeElementRef} target - The `target` parameter is a reference to the element that you want\n* to hide other elements when it is clicked or focused.\n*/\nfunction useHideOthers(target) {\n\tlet undo;\n\twatch(() => unrefElement(target), (el) => {\n\t\tif (el) undo = hideOthers(el);\n\t\telse if (undo) undo();\n\t});\n\tonUnmounted(() => {\n\t\tif (undo) undo();\n\t});\n}\n\n//#endregion\nexport { useHideOthers };\n//# sourceMappingURL=useHideOthers.js.map","//#region src/shared/useKbd.ts\nfunction useKbd() {\n\treturn {\n\t\tALT: \"Alt\",\n\t\tARROW_DOWN: \"ArrowDown\",\n\t\tARROW_LEFT: \"ArrowLeft\",\n\t\tARROW_RIGHT: \"ArrowRight\",\n\t\tARROW_UP: \"ArrowUp\",\n\t\tBACKSPACE: \"Backspace\",\n\t\tCAPS_LOCK: \"CapsLock\",\n\t\tCONTROL: \"Control\",\n\t\tDELETE: \"Delete\",\n\t\tEND: \"End\",\n\t\tENTER: \"Enter\",\n\t\tESCAPE: \"Escape\",\n\t\tF1: \"F1\",\n\t\tF10: \"F10\",\n\t\tF11: \"F11\",\n\t\tF12: \"F12\",\n\t\tF2: \"F2\",\n\t\tF3: \"F3\",\n\t\tF4: \"F4\",\n\t\tF5: \"F5\",\n\t\tF6: \"F6\",\n\t\tF7: \"F7\",\n\t\tF8: \"F8\",\n\t\tF9: \"F9\",\n\t\tHOME: \"Home\",\n\t\tMETA: \"Meta\",\n\t\tPAGE_DOWN: \"PageDown\",\n\t\tPAGE_UP: \"PageUp\",\n\t\tSHIFT: \"Shift\",\n\t\tSPACE: \" \",\n\t\tTAB: \"Tab\",\n\t\tCTRL: \"Control\",\n\t\tASTERISK: \"*\",\n\t\tSPACE_CODE: \"Space\"\n\t};\n}\n\n//#endregion\nexport { useKbd };\n//# sourceMappingURL=useKbd.js.map","import { getActiveElement } from \"./getActiveElement.js\";\nimport { refAutoReset } from \"@vueuse/shared\";\n\n//#region src/shared/useTypeahead.ts\nfunction useTypeahead(callback) {\n\tconst search = refAutoReset(\"\", 1e3);\n\tconst handleTypeaheadSearch = (key, items) => {\n\t\tsearch.value = search.value + key;\n\t\tif (callback) callback(key);\n\t\telse {\n\t\t\tconst currentItem = getActiveElement();\n\t\t\tconst itemsWithTextValue = items.map((item) => ({\n\t\t\t\t...item,\n\t\t\t\ttextValue: item.value?.textValue ?? item.ref.textContent?.trim() ?? \"\"\n\t\t\t}));\n\t\t\tconst currentMatch = itemsWithTextValue.find((item) => item.ref === currentItem);\n\t\t\tconst values = itemsWithTextValue.map((item) => item.textValue);\n\t\t\tconst nextMatch = getNextMatch(values, search.value, currentMatch?.textValue);\n\t\t\tconst newItem = itemsWithTextValue.find((item) => item.textValue === nextMatch);\n\t\t\tif (newItem) newItem.ref.focus();\n\t\t\treturn newItem?.ref;\n\t\t}\n\t};\n\tconst resetTypeahead = () => {\n\t\tsearch.value = \"\";\n\t};\n\treturn {\n\t\tsearch,\n\t\thandleTypeaheadSearch,\n\t\tresetTypeahead\n\t};\n}\n/**\n* Wraps an array around itself at a given start index\n* Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n*/\nfunction wrapArray(array, startIndex) {\n\treturn array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n/**\n* This is the \"meat\" of the typeahead matching logic. It takes in all the values,\n* the search and the current match, and returns the next match (or `undefined`).\n*\n* We normalize the search because if a user has repeatedly pressed a character,\n* we want the exact same behavior as if we only had that one character\n* (ie. cycle through options starting with that character)\n*\n* We also reorder the values by wrapping the array around the current match.\n* This is so we always look forward from the current match, and picking the first\n* match will always be the correct one.\n*\n* Finally, if the normalized search is exactly one character, we exclude the\n* current match from the values because otherwise it would be the first to match always\n* and focus would never move. This is as opposed to the regular case, where we\n* don't want focus to move if the current match still matches.\n*/\nfunction getNextMatch(values, search, currentMatch) {\n\tconst isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n\tconst normalizedSearch = isRepeated ? search[0] : search;\n\tconst currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n\tlet wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n\tconst excludeCurrentMatch = normalizedSearch.length === 1;\n\tif (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n\tconst nextMatch = wrappedValues.find((value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase()));\n\treturn nextMatch !== currentMatch ? nextMatch : void 0;\n}\n\n//#endregion\nexport { getNextMatch, useTypeahead, wrapArray };\n//# sourceMappingURL=useTypeahead.js.map","import { getActiveElement } from \"../shared/getActiveElement.js\";\n\n//#region src/RovingFocus/utils.ts\nconst ENTRY_FOCUS = \"rovingFocusGroup.onEntryFocus\";\nconst EVENT_OPTIONS = {\n\tbubbles: false,\n\tcancelable: true\n};\nconst MAP_KEY_TO_FOCUS_INTENT = {\n\tArrowLeft: \"prev\",\n\tArrowUp: \"prev\",\n\tArrowRight: \"next\",\n\tArrowDown: \"next\",\n\tPageUp: \"first\",\n\tHome: \"first\",\n\tPageDown: \"last\",\n\tEnd: \"last\"\n};\nfunction getDirectionAwareKey(key, dir) {\n\tif (dir !== \"rtl\") return key;\n\treturn key === \"ArrowLeft\" ? \"ArrowRight\" : key === \"ArrowRight\" ? \"ArrowLeft\" : key;\n}\nfunction getFocusIntent(event, orientation, dir) {\n\tconst key = getDirectionAwareKey(event.key, dir);\n\tif (orientation === \"vertical\" && [\"ArrowLeft\", \"ArrowRight\"].includes(key)) return void 0;\n\tif (orientation === \"horizontal\" && [\"ArrowUp\", \"ArrowDown\"].includes(key)) return void 0;\n\treturn MAP_KEY_TO_FOCUS_INTENT[key];\n}\nfunction focusFirst(candidates, preventScroll = false) {\n\tconst PREVIOUSLY_FOCUSED_ELEMENT = getActiveElement();\n\tfor (const candidate of candidates) {\n\t\tif (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n\t\tcandidate.focus({ preventScroll });\n\t\tif (getActiveElement() !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n\t}\n}\n/**\n* Wraps an array around itself at a given start index\n* Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n*/\nfunction wrapArray(array, startIndex) {\n\treturn array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\n//#endregion\nexport { ENTRY_FOCUS, EVENT_OPTIONS, MAP_KEY_TO_FOCUS_INTENT, focusFirst, getFocusIntent, wrapArray };\n//# sourceMappingURL=utils.js.map","import { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { VisuallyHidden_default } from \"./VisuallyHidden.js\";\nimport { computed, createBlock, defineComponent, mergeProps, openBlock, watch } from \"vue\";\n\n//#region src/VisuallyHidden/VisuallyHiddenInputBubble.vue?vue&type=script&setup=true&lang.ts\nvar VisuallyHiddenInputBubble_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\tinheritAttrs: false,\n\t__name: \"VisuallyHiddenInputBubble\",\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tchecked: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tfeature: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"fully-hidden\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tconst valueState = computed(() => props.checked ?? props.value);\n\t\twatch(valueState, (cur, prev) => {\n\t\t\tif (!currentElement.value) return;\n\t\t\tconst input = currentElement.value;\n\t\t\tconst inputProto = window.HTMLInputElement.prototype;\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(inputProto, \"value\");\n\t\t\tconst setValue = descriptor.set;\n\t\t\tif (setValue && cur !== prev) {\n\t\t\t\tconst inputEvent = new Event(\"input\", { bubbles: true });\n\t\t\t\tconst changeEvent = new Event(\"change\", { bubbles: true });\n\t\t\t\tsetValue.call(input, cur);\n\t\t\t\tinput.dispatchEvent(inputEvent);\n\t\t\t\tinput.dispatchEvent(changeEvent);\n\t\t\t}\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(VisuallyHidden_default, mergeProps({\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement\n\t\t\t}, {\n\t\t\t\t...props,\n\t\t\t\t..._ctx.$attrs\n\t\t\t}, { as: \"input\" }), null, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/VisuallyHidden/VisuallyHiddenInputBubble.vue\nvar VisuallyHiddenInputBubble_default = VisuallyHiddenInputBubble_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { VisuallyHiddenInputBubble_default };\n//# sourceMappingURL=VisuallyHiddenInputBubble.js.map","import { VisuallyHiddenInputBubble_default } from \"./VisuallyHiddenInputBubble.js\";\nimport { Fragment, computed, createBlock, createCommentVNode, createElementBlock, defineComponent, mergeProps, openBlock, renderList } from \"vue\";\n\n//#region src/VisuallyHidden/VisuallyHiddenInput.vue?vue&type=script&setup=true&lang.ts\nvar VisuallyHiddenInput_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\tinheritAttrs: false,\n\t__name: \"VisuallyHiddenInput\",\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tchecked: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tfeature: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"fully-hidden\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst isFormArrayEmptyAndRequired = computed(() => typeof props.value === \"object\" && Array.isArray(props.value) && props.value.length === 0 && props.required);\n\t\tconst parsedValue = computed(() => {\n\t\t\tif (typeof props.value === \"string\" || typeof props.value === \"number\" || typeof props.value === \"boolean\" || props.value === null || props.value === void 0) return [{\n\t\t\t\tname: props.name,\n\t\t\t\tvalue: props.value\n\t\t\t}];\n\t\t\telse if (typeof props.value === \"object\" && Array.isArray(props.value)) return props.value.flatMap((obj, index) => {\n\t\t\t\tif (typeof obj === \"object\") return Object.entries(obj).map(([key, value]) => ({\n\t\t\t\t\tname: `${props.name}[${index}][${key}]`,\n\t\t\t\t\tvalue\n\t\t\t\t}));\n\t\t\t\telse return {\n\t\t\t\t\tname: `${props.name}[${index}]`,\n\t\t\t\t\tvalue: obj\n\t\t\t\t};\n\t\t\t});\n\t\t\telse if (props.value !== null && typeof props.value === \"object\" && !Array.isArray(props.value)) return Object.entries(props.value).map(([key, value]) => ({\n\t\t\t\tname: `${props.name}[${key}]`,\n\t\t\t\tvalue\n\t\t\t}));\n\t\t\treturn [];\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createElementBlock(Fragment, null, [createCommentVNode(\" We render single input if it's required \"), isFormArrayEmptyAndRequired.value ? (openBlock(), createBlock(VisuallyHiddenInputBubble_default, mergeProps({ key: _ctx.name }, {\n\t\t\t\t...props,\n\t\t\t\t..._ctx.$attrs\n\t\t\t}, {\n\t\t\t\tname: _ctx.name,\n\t\t\t\tvalue: _ctx.value\n\t\t\t}), null, 16, [\"name\", \"value\"])) : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(parsedValue.value, (parsed) => {\n\t\t\t\treturn openBlock(), createBlock(VisuallyHiddenInputBubble_default, mergeProps({ key: parsed.name }, { ref_for: true }, {\n\t\t\t\t\t...props,\n\t\t\t\t\t..._ctx.$attrs\n\t\t\t\t}, {\n\t\t\t\t\tname: parsed.name,\n\t\t\t\t\tvalue: parsed.value\n\t\t\t\t}), null, 16, [\"name\", \"value\"]);\n\t\t\t}), 128))], 2112);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/VisuallyHidden/VisuallyHiddenInput.vue\nvar VisuallyHiddenInput_default = VisuallyHiddenInput_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { VisuallyHiddenInput_default };\n//# sourceMappingURL=VisuallyHiddenInput.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { PopperAnchor_default } from \"../Popper/PopperAnchor.js\";\nimport { createBlock, createVNode, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxAnchor.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxAnchor_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxAnchor\",\n\tprops: {\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst { forwardRef } = useForwardExpose();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(PopperAnchor_default), {\n\t\t\t\t\"as-child\": \"\",\n\t\t\t\treference: _ctx.reference\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), mergeProps({\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tas: _ctx.as\n\t\t\t\t}, _ctx.$attrs), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16, [\"as-child\", \"as\"])]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"reference\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxAnchor.vue\nvar ComboboxAnchor_default = ComboboxAnchor_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxAnchor_default };\n//# sourceMappingURL=ComboboxAnchor.js.map","import { isEqual } from \"ohash\";\n\n//#region src/Listbox/utils.ts\nfunction queryCheckedElement(parentEl) {\n\treturn parentEl?.querySelector(\"[data-state=checked]\");\n}\nfunction valueComparator(value, currentValue, comparator) {\n\tif (value === void 0) return false;\n\telse if (Array.isArray(value)) return value.some((val) => compare(val, currentValue, comparator));\n\telse return compare(value, currentValue, comparator);\n}\nfunction compare(value, currentValue, comparator) {\n\tif (value === void 0 || currentValue === void 0) return false;\n\tif (typeof value === \"string\") return value === currentValue;\n\tif (typeof comparator === \"function\") return comparator(value, currentValue);\n\tif (typeof comparator === \"string\") return value?.[comparator] === currentValue?.[comparator];\n\treturn isEqual(value, currentValue);\n}\n\n//#endregion\nexport { compare, queryCheckedElement, valueComparator };\n//# sourceMappingURL=utils.js.map","import { findValuesBetween } from \"../shared/arrays.js\";\nimport { createContext } from \"../shared/createContext.js\";\nimport { useDirection } from \"../shared/useDirection.js\";\nimport { useFormControl } from \"../shared/useFormControl.js\";\nimport { useKbd } from \"../shared/useKbd.js\";\nimport { useTypeahead } from \"../shared/useTypeahead.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { getFocusIntent } from \"../RovingFocus/utils.js\";\nimport { VisuallyHiddenInput_default } from \"../VisuallyHidden/VisuallyHiddenInput.js\";\nimport { compare } from \"./utils.js\";\nimport { createBlock, createCommentVNode, defineComponent, nextTick, openBlock, ref, renderSlot, toRefs, unref, watch, withCtx } from \"vue\";\nimport { createEventHook, useVModel } from \"@vueuse/core\";\n\n//#region src/Listbox/ListboxRoot.vue?vue&type=script&setup=true&lang.ts\nconst [injectListboxRootContext, provideListboxRootContext] = createContext(\"ListboxRoot\");\nvar ListboxRoot_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxRoot\",\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdefaultValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tmultiple: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\torientation: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"vertical\"\n\t\t},\n\t\tdir: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tselectionBehavior: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"toggle\"\n\t\t},\n\t\thighlightOnHover: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tby: {\n\t\t\ttype: [String, Function],\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"update:modelValue\",\n\t\t\"highlight\",\n\t\t\"entryFocus\",\n\t\t\"leave\"\n\t],\n\tsetup(__props, { expose: __expose, emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { multiple, highlightOnHover, orientation, disabled, selectionBehavior, dir: propDir } = toRefs(props);\n\t\tconst { getItems } = useCollection({ isProvider: true });\n\t\tconst { handleTypeaheadSearch } = useTypeahead();\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tconst kbd = useKbd();\n\t\tconst dir = useDirection(propDir);\n\t\tconst isFormControl = useFormControl(currentElement);\n\t\tconst firstValue = ref();\n\t\tconst isUserAction = ref(false);\n\t\tconst focusable = ref(true);\n\t\tconst modelValue = useVModel(props, \"modelValue\", emits, {\n\t\t\tdefaultValue: props.defaultValue ?? (multiple.value ? [] : void 0),\n\t\t\tpassive: props.modelValue === void 0,\n\t\t\tdeep: true\n\t\t});\n\t\tfunction onValueChange(val) {\n\t\t\tisUserAction.value = true;\n\t\t\tif (props.multiple) {\n\t\t\t\tconst modelArray = Array.isArray(modelValue.value) ? [...modelValue.value] : [];\n\t\t\t\tconst index = modelArray.findIndex((i) => compare(i, val, props.by));\n\t\t\t\tif (props.selectionBehavior === \"toggle\") {\n\t\t\t\t\tindex === -1 ? modelArray.push(val) : modelArray.splice(index, 1);\n\t\t\t\t\tmodelValue.value = modelArray;\n\t\t\t\t} else {\n\t\t\t\t\tmodelValue.value = [val];\n\t\t\t\t\tfirstValue.value = val;\n\t\t\t\t}\n\t\t\t} else if (props.selectionBehavior === \"toggle\") if (compare(modelValue.value, val, props.by)) modelValue.value = void 0;\n\t\t\telse modelValue.value = val;\n\t\t\telse modelValue.value = val;\n\t\t\tsetTimeout(() => {\n\t\t\t\tisUserAction.value = false;\n\t\t\t}, 1);\n\t\t}\n\t\tconst highlightedElement = ref(null);\n\t\tconst previousElement = ref(null);\n\t\tconst isVirtual = ref(false);\n\t\tconst isComposing = ref(false);\n\t\tconst virtualFocusHook = createEventHook();\n\t\tconst virtualKeydownHook = createEventHook();\n\t\tconst virtualHighlightHook = createEventHook();\n\t\tfunction getCollectionItem() {\n\t\t\treturn getItems().map((i) => i.ref).filter((i) => i.dataset.disabled !== \"\");\n\t\t}\n\t\tfunction changeHighlight(el, scrollIntoView = true) {\n\t\t\tif (!el) return;\n\t\t\thighlightedElement.value = el;\n\t\t\tif (focusable.value) highlightedElement.value.focus();\n\t\t\tif (scrollIntoView) highlightedElement.value.scrollIntoView({ block: \"nearest\" });\n\t\t\tconst highlightedItem = getItems().find((i) => i.ref === el);\n\t\t\temits(\"highlight\", highlightedItem);\n\t\t}\n\t\tfunction highlightItem(value) {\n\t\t\tif (isVirtual.value) virtualHighlightHook.trigger(value);\n\t\t\telse {\n\t\t\t\tconst item = getItems().find((i) => compare(i.value, value, props.by));\n\t\t\t\tif (item) {\n\t\t\t\t\thighlightedElement.value = item.ref;\n\t\t\t\t\tchangeHighlight(item.ref);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfunction onKeydownEnter(event) {\n\t\t\tif (highlightedElement.value && highlightedElement.value.isConnected) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tif (!isComposing.value) highlightedElement.value.click();\n\t\t\t}\n\t\t}\n\t\tfunction onKeydownTypeAhead(event) {\n\t\t\tif (!focusable.value) return;\n\t\t\tisUserAction.value = true;\n\t\t\tif (isVirtual.value) virtualKeydownHook.trigger(event);\n\t\t\telse {\n\t\t\t\tconst isMetaKey = event.altKey || event.ctrlKey || event.metaKey;\n\t\t\t\tif (isMetaKey && event.key === \"a\" && multiple.value) {\n\t\t\t\t\tconst collection = getItems();\n\t\t\t\t\tconst values = collection.map((i) => i.value);\n\t\t\t\t\tmodelValue.value = [...values];\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tchangeHighlight(collection[collection.length - 1].ref);\n\t\t\t\t} else if (!isMetaKey) {\n\t\t\t\t\tconst el = handleTypeaheadSearch(event.key, getItems());\n\t\t\t\t\tif (el) changeHighlight(el);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tisUserAction.value = false;\n\t\t\t}, 1);\n\t\t}\n\t\tfunction onCompositionStart() {\n\t\t\tisComposing.value = true;\n\t\t}\n\t\tfunction onCompositionEnd() {\n\t\t\tnextTick(() => {\n\t\t\t\tisComposing.value = false;\n\t\t\t});\n\t\t}\n\t\tfunction highlightFirstItem() {\n\t\t\tnextTick(() => {\n\t\t\t\tconst event = new KeyboardEvent(\"keydown\", { key: \"PageUp\" });\n\t\t\t\tonKeydownNavigation(event);\n\t\t\t});\n\t\t}\n\t\tfunction onLeave(event) {\n\t\t\tconst el = highlightedElement.value;\n\t\t\tif (el?.isConnected) previousElement.value = el;\n\t\t\thighlightedElement.value = null;\n\t\t\temits(\"leave\", event);\n\t\t}\n\t\tfunction onEnter(event) {\n\t\t\tconst entryFocusEvent = new CustomEvent(\"listbox.entryFocus\", {\n\t\t\t\tbubbles: false,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t\tevent.currentTarget?.dispatchEvent(entryFocusEvent);\n\t\t\temits(\"entryFocus\", entryFocusEvent);\n\t\t\tif (entryFocusEvent.defaultPrevented) return;\n\t\t\tif (previousElement.value) changeHighlight(previousElement.value);\n\t\t\telse {\n\t\t\t\tconst el = getCollectionItem()?.[0];\n\t\t\t\tchangeHighlight(el);\n\t\t\t}\n\t\t}\n\t\tfunction onKeydownNavigation(event) {\n\t\t\tconst intent = getFocusIntent(event, orientation.value, dir.value);\n\t\t\tif (!intent) return;\n\t\t\tlet collection = getCollectionItem();\n\t\t\tif (highlightedElement.value) {\n\t\t\t\tif (intent === \"last\") collection.reverse();\n\t\t\t\telse if (intent === \"prev\" || intent === \"next\") {\n\t\t\t\t\tif (intent === \"prev\") collection.reverse();\n\t\t\t\t\tconst currentIndex = collection.indexOf(highlightedElement.value);\n\t\t\t\t\tcollection = collection.slice(currentIndex + 1);\n\t\t\t\t}\n\t\t\t\thandleMultipleReplace(event, collection[0]);\n\t\t\t}\n\t\t\tif (collection.length) {\n\t\t\t\tconst index = !highlightedElement.value && intent === \"prev\" ? collection.length - 1 : 0;\n\t\t\t\tchangeHighlight(collection[index]);\n\t\t\t}\n\t\t\tif (isVirtual.value) return virtualKeydownHook.trigger(event);\n\t\t}\n\t\tfunction handleMultipleReplace(event, targetEl) {\n\t\t\tif (isVirtual.value || props.selectionBehavior !== \"replace\" || !multiple.value || !Array.isArray(modelValue.value)) return;\n\t\t\tconst isMetaKey = event.altKey || event.ctrlKey || event.metaKey;\n\t\t\tif (isMetaKey && !event.shiftKey) return;\n\t\t\tif (event.shiftKey) {\n\t\t\t\tconst collection = getItems().filter((i) => i.ref.dataset.disabled !== \"\");\n\t\t\t\tlet lastValue = collection.find((i) => i.ref === targetEl)?.value;\n\t\t\t\tif (event.key === kbd.END) lastValue = collection[collection.length - 1].value;\n\t\t\t\telse if (event.key === kbd.HOME) lastValue = collection[0].value;\n\t\t\t\tif (!lastValue || !firstValue.value) return;\n\t\t\t\tconst values = findValuesBetween(collection.map((i) => i.value), firstValue.value, lastValue);\n\t\t\t\tmodelValue.value = values;\n\t\t\t}\n\t\t}\n\t\tasync function highlightSelected(event) {\n\t\t\tawait nextTick();\n\t\t\tif (isVirtual.value) virtualFocusHook.trigger(event);\n\t\t\telse {\n\t\t\t\tconst collection = getCollectionItem();\n\t\t\t\tconst item = collection.find((i) => i.dataset.state === \"checked\");\n\t\t\t\tif (item) changeHighlight(item);\n\t\t\t\telse if (collection.length) changeHighlight(collection[0]);\n\t\t\t}\n\t\t}\n\t\twatch(modelValue, () => {\n\t\t\tif (!isUserAction.value) nextTick(() => {\n\t\t\t\thighlightSelected();\n\t\t\t});\n\t\t}, {\n\t\t\timmediate: true,\n\t\t\tdeep: true\n\t\t});\n\t\t__expose({\n\t\t\thighlightedElement,\n\t\t\thighlightItem,\n\t\t\thighlightFirstItem,\n\t\t\thighlightSelected,\n\t\t\tgetItems\n\t\t});\n\t\tprovideListboxRootContext({\n\t\t\tmodelValue,\n\t\t\tonValueChange,\n\t\t\tmultiple,\n\t\t\torientation,\n\t\t\tdir,\n\t\t\tdisabled,\n\t\t\thighlightOnHover,\n\t\t\thighlightedElement,\n\t\t\tisVirtual,\n\t\t\tvirtualFocusHook,\n\t\t\tvirtualKeydownHook,\n\t\t\tvirtualHighlightHook,\n\t\t\tby: props.by,\n\t\t\tfirstValue,\n\t\t\tselectionBehavior,\n\t\t\tfocusable,\n\t\t\tonLeave,\n\t\t\tonEnter,\n\t\t\tchangeHighlight,\n\t\t\tonKeydownEnter,\n\t\t\tonKeydownNavigation,\n\t\t\tonKeydownTypeAhead,\n\t\t\tonCompositionStart,\n\t\t\tonCompositionEnd,\n\t\t\thighlightFirstItem\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), {\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement,\n\t\t\t\tas: _ctx.as,\n\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\tdir: unref(dir),\n\t\t\t\t\"data-disabled\": unref(disabled) ? \"\" : void 0,\n\t\t\t\tonPointerleave: onLeave,\n\t\t\t\tonFocusout: _cache[0] || (_cache[0] = async (event) => {\n\t\t\t\t\tconst target = event.relatedTarget || event.target;\n\t\t\t\t\tawait nextTick();\n\t\t\t\t\tif (highlightedElement.value && unref(currentElement) && !unref(currentElement).contains(target)) onLeave(event);\n\t\t\t\t})\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", { modelValue: unref(modelValue) }), unref(isFormControl) && _ctx.name ? (openBlock(), createBlock(unref(VisuallyHiddenInput_default), {\n\t\t\t\t\tkey: 0,\n\t\t\t\t\tname: _ctx.name,\n\t\t\t\t\tvalue: unref(modelValue),\n\t\t\t\t\tdisabled: unref(disabled),\n\t\t\t\t\trequired: _ctx.required\n\t\t\t\t}, null, 8, [\n\t\t\t\t\t\"name\",\n\t\t\t\t\t\"value\",\n\t\t\t\t\t\"disabled\",\n\t\t\t\t\t\"required\"\n\t\t\t\t])) : createCommentVNode(\"v-if\", true)]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"as\",\n\t\t\t\t\"as-child\",\n\t\t\t\t\"dir\",\n\t\t\t\t\"data-disabled\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxRoot.vue\nvar ListboxRoot_default = ListboxRoot_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxRoot_default, injectListboxRootContext };\n//# sourceMappingURL=ListboxRoot.js.map","import { Primitive } from \"../Primitive/Primitive.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { injectListboxRootContext } from \"./ListboxRoot.js\";\nimport { createBlock, createVNode, defineComponent, openBlock, renderSlot, unref, withCtx, withKeys, withModifiers } from \"vue\";\nimport { refAutoReset } from \"@vueuse/shared\";\n\n//#region src/Listbox/ListboxContent.vue?vue&type=script&setup=true&lang.ts\nvar ListboxContent_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxContent\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst { CollectionSlot } = useCollection();\n\t\tconst rootContext = injectListboxRootContext();\n\t\tconst isClickFocus = refAutoReset(false, 10);\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(CollectionSlot), null, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), {\n\t\t\t\t\trole: \"listbox\",\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\ttabindex: unref(rootContext).focusable.value ? unref(rootContext).highlightedElement.value ? \"-1\" : \"0\" : void 0,\n\t\t\t\t\t\"aria-orientation\": unref(rootContext).orientation.value,\n\t\t\t\t\t\"aria-multiselectable\": !!unref(rootContext).multiple.value,\n\t\t\t\t\t\"data-orientation\": unref(rootContext).orientation.value,\n\t\t\t\t\tonMousedown: _cache[0] || (_cache[0] = withModifiers(($event) => isClickFocus.value = true, [\"left\"])),\n\t\t\t\t\tonFocus: _cache[1] || (_cache[1] = (ev) => {\n\t\t\t\t\t\tif (unref(isClickFocus)) return;\n\t\t\t\t\t\tunref(rootContext).onEnter(ev);\n\t\t\t\t\t}),\n\t\t\t\t\tonKeydown: [\n\t\t\t\t\t\t_cache[2] || (_cache[2] = withKeys(withModifiers((event) => {\n\t\t\t\t\t\t\tunref(rootContext).focusable.value && unref(rootContext).onKeydownNavigation(event);\n\t\t\t\t\t\t}, [\"prevent\"]), [\n\t\t\t\t\t\t\t\"down\",\n\t\t\t\t\t\t\t\"up\",\n\t\t\t\t\t\t\t\"left\",\n\t\t\t\t\t\t\t\"right\",\n\t\t\t\t\t\t\t\"home\",\n\t\t\t\t\t\t\t\"end\"\n\t\t\t\t\t\t])),\n\t\t\t\t\t\twithKeys(unref(rootContext).onKeydownEnter, [\"enter\"]),\n\t\t\t\t\t\tunref(rootContext).onKeydownTypeAhead\n\t\t\t\t\t]\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"tabindex\",\n\t\t\t\t\t\"aria-orientation\",\n\t\t\t\t\t\"aria-multiselectable\",\n\t\t\t\t\t\"data-orientation\",\n\t\t\t\t\t\"onKeydown\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxContent.vue\nvar ListboxContent_default = ListboxContent_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxContent_default };\n//# sourceMappingURL=ListboxContent.js.map","import { Primitive } from \"../Primitive/Primitive.js\";\nimport { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { injectListboxRootContext } from \"./ListboxRoot.js\";\nimport { computed, createBlock, defineComponent, onMounted, onUnmounted, openBlock, ref, renderSlot, unref, watchSyncEffect, withCtx, withKeys, withModifiers } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/Listbox/ListboxFilter.vue?vue&type=script&setup=true&lang.ts\nvar ListboxFilter_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxFilter\",\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tautoFocus: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"input\"\n\t\t}\n\t},\n\temits: [\"update:modelValue\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst modelValue = useVModel(props, \"modelValue\", emits, {\n\t\t\tdefaultValue: \"\",\n\t\t\tpassive: props.modelValue === void 0\n\t\t});\n\t\tconst rootContext = injectListboxRootContext();\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tconst disabled = computed(() => props.disabled || rootContext.disabled.value || false);\n\t\tconst activedescendant = ref();\n\t\twatchSyncEffect(() => activedescendant.value = rootContext.highlightedElement.value?.id);\n\t\tonMounted(() => {\n\t\t\trootContext.focusable.value = false;\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (props.autoFocus) currentElement.value?.focus();\n\t\t\t}, 1);\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\trootContext.focusable.value = true;\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), {\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement,\n\t\t\t\tas: _ctx.as,\n\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\tvalue: unref(modelValue),\n\t\t\t\tdisabled: disabled.value ? \"\" : void 0,\n\t\t\t\t\"data-disabled\": disabled.value ? \"\" : void 0,\n\t\t\t\t\"aria-disabled\": disabled.value ?? void 0,\n\t\t\t\t\"aria-activedescendant\": activedescendant.value,\n\t\t\t\ttype: \"text\",\n\t\t\t\tonKeydown: [withKeys(withModifiers(unref(rootContext).onKeydownNavigation, [\"prevent\"]), [\n\t\t\t\t\t\"down\",\n\t\t\t\t\t\"up\",\n\t\t\t\t\t\"home\",\n\t\t\t\t\t\"end\"\n\t\t\t\t]), withKeys(unref(rootContext).onKeydownEnter, [\"enter\"])],\n\t\t\t\tonInput: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\tmodelValue.value = event.target.value;\n\t\t\t\t\tunref(rootContext).highlightFirstItem();\n\t\t\t\t}),\n\t\t\t\tonCompositionstart: unref(rootContext).onCompositionStart,\n\t\t\t\tonCompositionend: unref(rootContext).onCompositionEnd\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", { modelValue: unref(modelValue) })]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"as\",\n\t\t\t\t\"as-child\",\n\t\t\t\t\"value\",\n\t\t\t\t\"disabled\",\n\t\t\t\t\"data-disabled\",\n\t\t\t\t\"aria-disabled\",\n\t\t\t\t\"aria-activedescendant\",\n\t\t\t\t\"onKeydown\",\n\t\t\t\t\"onCompositionstart\",\n\t\t\t\t\"onCompositionend\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxFilter.vue\nvar ListboxFilter_default = ListboxFilter_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxFilter_default };\n//# sourceMappingURL=ListboxFilter.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { createBlock, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Listbox/ListboxGroup.vue?vue&type=script&setup=true&lang.ts\nconst [injectListboxGroupContext, provideListboxGroupContext] = createContext(\"ListboxGroup\");\nvar ListboxGroup_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxGroup\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst id = useId(void 0, \"reka-listbox-group\");\n\t\tprovideListboxGroupContext({ id });\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), mergeProps({ role: \"group\" }, props, { \"aria-labelledby\": unref(id) }), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"aria-labelledby\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxGroup.vue\nvar ListboxGroup_default = ListboxGroup_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxGroup_default, injectListboxGroupContext };\n//# sourceMappingURL=ListboxGroup.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { handleAndDispatchCustomEvent } from \"../shared/handleAndDispatchCustomEvent.js\";\nimport { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { valueComparator } from \"./utils.js\";\nimport { injectListboxRootContext } from \"./ListboxRoot.js\";\nimport { computed, createBlock, createVNode, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx, withKeys, withMemo, withModifiers } from \"vue\";\n\n//#region src/Listbox/ListboxItem.vue?vue&type=script&setup=true&lang.ts\nconst LISTBOX_SELECT = \"listbox.select\";\nconst [injectListboxItemContext, provideListboxItemContext] = createContext(\"ListboxItem\");\nvar ListboxItem_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxItem\",\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"div\"\n\t\t}\n\t},\n\temits: [\"select\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst id = useId(void 0, \"reka-listbox-item\");\n\t\tconst { CollectionItem } = useCollection();\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tconst rootContext = injectListboxRootContext();\n\t\tconst isHighlighted = computed(() => currentElement.value === rootContext.highlightedElement.value);\n\t\tconst isSelected = computed(() => valueComparator(rootContext.modelValue.value, props.value, rootContext.by));\n\t\tconst disabled = computed(() => rootContext.disabled.value || props.disabled);\n\t\tasync function handleSelect(ev) {\n\t\t\temits(\"select\", ev);\n\t\t\tif (ev?.defaultPrevented) return;\n\t\t\tif (!disabled.value && ev) {\n\t\t\t\trootContext.onValueChange(props.value);\n\t\t\t\trootContext.changeHighlight(currentElement.value);\n\t\t\t}\n\t\t}\n\t\tfunction handleSelectCustomEvent(ev) {\n\t\t\tconst eventDetail = {\n\t\t\t\toriginalEvent: ev,\n\t\t\t\tvalue: props.value\n\t\t\t};\n\t\t\thandleAndDispatchCustomEvent(LISTBOX_SELECT, handleSelect, eventDetail);\n\t\t}\n\t\tprovideListboxItemContext({ isSelected });\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(CollectionItem), { value: _ctx.value }, {\n\t\t\t\tdefault: withCtx(() => [withMemo([isHighlighted.value, isSelected.value], () => createVNode(unref(Primitive), mergeProps({ id: unref(id) }, _ctx.$attrs, {\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\trole: \"option\",\n\t\t\t\t\ttabindex: unref(rootContext).focusable.value ? isHighlighted.value ? \"0\" : \"-1\" : -1,\n\t\t\t\t\t\"aria-selected\": isSelected.value,\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tdisabled: disabled.value ? \"\" : void 0,\n\t\t\t\t\t\"data-disabled\": disabled.value ? \"\" : void 0,\n\t\t\t\t\t\"data-highlighted\": isHighlighted.value ? \"\" : void 0,\n\t\t\t\t\t\"data-state\": isSelected.value ? \"checked\" : \"unchecked\",\n\t\t\t\t\tonClick: handleSelectCustomEvent,\n\t\t\t\t\tonKeydown: withKeys(withModifiers(handleSelectCustomEvent, [\"prevent\"]), [\"space\"]),\n\t\t\t\t\tonPointermove: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\t\tif (unref(rootContext).highlightedElement.value === unref(currentElement)) return;\n\t\t\t\t\t\tif (unref(rootContext).highlightOnHover.value) unref(rootContext).changeHighlight(unref(currentElement), false);\n\t\t\t\t\t\telse unref(rootContext).focusable.value || unref(rootContext).changeHighlight(unref(currentElement), false);\n\t\t\t\t\t})\n\t\t\t\t}), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16, [\n\t\t\t\t\t\"id\",\n\t\t\t\t\t\"tabindex\",\n\t\t\t\t\t\"aria-selected\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"disabled\",\n\t\t\t\t\t\"data-disabled\",\n\t\t\t\t\t\"data-highlighted\",\n\t\t\t\t\t\"data-state\",\n\t\t\t\t\t\"onKeydown\"\n\t\t\t\t]), _cache, 1)]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"value\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxItem.vue\nvar ListboxItem_default = ListboxItem_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxItem_default, injectListboxItemContext };\n//# sourceMappingURL=ListboxItem.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectListboxItemContext } from \"./ListboxItem.js\";\nimport { createBlock, createCommentVNode, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Listbox/ListboxItemIndicator.vue?vue&type=script&setup=true&lang.ts\nvar ListboxItemIndicator_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ListboxItemIndicator\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"span\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tuseForwardExpose();\n\t\tconst itemContext = injectListboxItemContext();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn unref(itemContext).isSelected.value ? (openBlock(), createBlock(unref(Primitive), mergeProps({\n\t\t\t\tkey: 0,\n\t\t\t\t\"aria-hidden\": \"true\"\n\t\t\t}, props), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16)) : createCommentVNode(\"v-if\", true);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Listbox/ListboxItemIndicator.vue\nvar ListboxItemIndicator_default = ListboxItemIndicator_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ListboxItemIndicator_default };\n//# sourceMappingURL=ListboxItemIndicator.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useDirection } from \"../shared/useDirection.js\";\nimport { useFilter } from \"../shared/useFilter.js\";\nimport { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { PopperRoot_default } from \"../Popper/PopperRoot.js\";\nimport { ListboxRoot_default } from \"../Listbox/ListboxRoot.js\";\nimport { computed, createBlock, createVNode, defineComponent, getCurrentInstance, isRef, mergeProps, nextTick, onMounted, openBlock, ref, renderSlot, toRefs, unref, withCtx } from \"vue\";\nimport { createEventHook, useVModel } from \"@vueuse/core\";\n\n//#region src/Combobox/ComboboxRoot.vue?vue&type=script&setup=true&lang.ts\nconst [injectComboboxRootContext, provideComboboxRootContext] = createContext(\"ComboboxRoot\");\nvar ComboboxRoot_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxRoot\",\n\tprops: {\n\t\topen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\tdefaultOpen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tresetSearchTermOnBlur: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\tresetSearchTermOnSelect: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\topenOnFocus: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\topenOnClick: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tignoreFilter: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdefaultValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tmultiple: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdir: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\thighlightOnHover: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tby: {\n\t\t\ttype: [String, Function],\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"update:modelValue\",\n\t\t\"highlight\",\n\t\t\"update:open\"\n\t],\n\tsetup(__props, { expose: __expose, emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { primitiveElement, currentElement: parentElement } = usePrimitiveElement();\n\t\tconst { multiple, disabled, ignoreFilter, resetSearchTermOnSelect, openOnFocus, openOnClick, dir: propDir } = toRefs(props);\n\t\tconst dir = useDirection(propDir);\n\t\tconst modelValue = useVModel(props, \"modelValue\", emits, {\n\t\t\tdefaultValue: props.defaultValue ?? (multiple.value ? [] : void 0),\n\t\t\tpassive: props.modelValue === void 0,\n\t\t\tdeep: true\n\t\t});\n\t\tconst open = useVModel(props, \"open\", emits, {\n\t\t\tdefaultValue: props.defaultOpen,\n\t\t\tpassive: props.open === void 0\n\t\t});\n\t\tasync function onOpenChange(val) {\n\t\t\topen.value = val;\n\t\t\tfilterSearch.value = \"\";\n\t\t\tif (val) {\n\t\t\t\tawait nextTick();\n\t\t\t\tprimitiveElement.value?.highlightSelected();\n\t\t\t\tisUserInputted.value = true;\n\t\t\t} else isUserInputted.value = false;\n\t\t\tinputElement.value?.focus();\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!val && props.resetSearchTermOnBlur) resetSearchTerm.trigger();\n\t\t\t}, 1);\n\t\t}\n\t\tconst resetSearchTerm = createEventHook();\n\t\tconst isUserInputted = ref(false);\n\t\tconst isVirtual = ref(false);\n\t\tconst inputElement = ref();\n\t\tconst triggerElement = ref();\n\t\tconst highlightedElement = computed(() => primitiveElement.value?.highlightedElement ?? void 0);\n\t\tconst allItems = ref(/* @__PURE__ */ new Map());\n\t\tconst allGroups = ref(/* @__PURE__ */ new Map());\n\t\tconst { contains } = useFilter({ sensitivity: \"base\" });\n\t\tconst filterSearch = ref(\"\");\n\t\tconst filterState = computed((oldValue) => {\n\t\t\tif (!filterSearch.value || props.ignoreFilter || isVirtual.value) return {\n\t\t\t\tcount: allItems.value.size,\n\t\t\t\titems: oldValue?.items ?? /* @__PURE__ */ new Map(),\n\t\t\t\tgroups: oldValue?.groups ?? new Set(allGroups.value.keys())\n\t\t\t};\n\t\t\tlet itemCount = 0;\n\t\t\tconst filteredItems = /* @__PURE__ */ new Map();\n\t\t\tconst filteredGroups = /* @__PURE__ */ new Set();\n\t\t\tfor (const [id, value] of allItems.value) {\n\t\t\t\tconst score = contains(value, filterSearch.value);\n\t\t\t\tfilteredItems.set(id, score ? 1 : 0);\n\t\t\t\tif (score) itemCount++;\n\t\t\t}\n\t\t\tfor (const [groupId, group] of allGroups.value) for (const itemId of group) if (filteredItems.get(itemId) > 0) {\n\t\t\t\tfilteredGroups.add(groupId);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tcount: itemCount,\n\t\t\t\titems: filteredItems,\n\t\t\t\tgroups: filteredGroups\n\t\t\t};\n\t\t});\n\t\tconst inst = getCurrentInstance();\n\t\tonMounted(() => {\n\t\t\tif (inst?.exposed) {\n\t\t\t\tinst.exposed.highlightItem = primitiveElement.value?.highlightItem;\n\t\t\t\tinst.exposed.highlightFirstItem = primitiveElement.value?.highlightFirstItem;\n\t\t\t\tinst.exposed.highlightSelected = primitiveElement.value?.highlightSelected;\n\t\t\t}\n\t\t});\n\t\t__expose({\n\t\t\tfiltered: filterState,\n\t\t\thighlightedElement,\n\t\t\thighlightItem: primitiveElement.value?.highlightItem,\n\t\t\thighlightFirstItem: primitiveElement.value?.highlightFirstItem,\n\t\t\thighlightSelected: primitiveElement.value?.highlightSelected\n\t\t});\n\t\tprovideComboboxRootContext({\n\t\t\tmodelValue,\n\t\t\tmultiple,\n\t\t\tdisabled,\n\t\t\topen,\n\t\t\tonOpenChange,\n\t\t\tcontentId: \"\",\n\t\t\tisUserInputted,\n\t\t\tisVirtual,\n\t\t\tinputElement,\n\t\t\thighlightedElement,\n\t\t\tonInputElementChange: (val) => inputElement.value = val,\n\t\t\ttriggerElement,\n\t\t\tonTriggerElementChange: (val) => triggerElement.value = val,\n\t\t\tparentElement,\n\t\t\tresetSearchTermOnSelect,\n\t\t\tonResetSearchTerm: resetSearchTerm.on,\n\t\t\tallItems,\n\t\t\tallGroups,\n\t\t\tfilterSearch,\n\t\t\tfilterState,\n\t\t\tignoreFilter,\n\t\t\topenOnFocus,\n\t\t\topenOnClick\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(PopperRoot_default), null, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(ListboxRoot_default), mergeProps({\n\t\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\t\tref: primitiveElement\n\t\t\t\t}, _ctx.$attrs, {\n\t\t\t\t\tmodelValue: unref(modelValue),\n\t\t\t\t\t\"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => isRef(modelValue) ? modelValue.value = $event : null),\n\t\t\t\t\tstyle: { pointerEvents: unref(open) ? \"auto\" : void 0 },\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tdir: unref(dir),\n\t\t\t\t\tmultiple: unref(multiple),\n\t\t\t\t\tname: _ctx.name,\n\t\t\t\t\trequired: _ctx.required,\n\t\t\t\t\tdisabled: unref(disabled),\n\t\t\t\t\t\"highlight-on-hover\": true,\n\t\t\t\t\tby: props.by,\n\t\t\t\t\tonHighlight: _cache[1] || (_cache[1] = ($event) => emits(\"highlight\", $event))\n\t\t\t\t}), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", {\n\t\t\t\t\t\topen: unref(open),\n\t\t\t\t\t\tmodelValue: unref(modelValue)\n\t\t\t\t\t})]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16, [\n\t\t\t\t\t\"modelValue\",\n\t\t\t\t\t\"style\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"dir\",\n\t\t\t\t\t\"multiple\",\n\t\t\t\t\t\"name\",\n\t\t\t\t\t\"required\",\n\t\t\t\t\t\"disabled\",\n\t\t\t\t\t\"by\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxRoot.vue\nvar ComboboxRoot_default = ComboboxRoot_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxRoot_default, injectComboboxRootContext };\n//# sourceMappingURL=ComboboxRoot.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useBodyScrollLock } from \"../shared/useBodyScrollLock.js\";\nimport { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useForwardProps } from \"../shared/useForwardProps.js\";\nimport { useHideOthers } from \"../shared/useHideOthers.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { DismissableLayer_default } from \"../DismissableLayer/DismissableLayer.js\";\nimport { PopperContent_default } from \"../Popper/PopperContent.js\";\nimport { ListboxContent_default } from \"../Listbox/ListboxContent.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { computed, createBlock, createVNode, defineComponent, mergeProps, onMounted, onUnmounted, openBlock, ref, renderSlot, resolveDynamicComponent, toRefs, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxContentImpl.vue?vue&type=script&setup=true&lang.ts\nconst [injectComboboxContentContext, provideComboboxContentContext] = createContext(\"ComboboxContent\");\nvar ComboboxContentImpl_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxContentImpl\",\n\tprops: {\n\t\tposition: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"inline\"\n\t\t},\n\t\tbodyLock: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tside: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talign: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdisableOutsidePointerEvents: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { position } = toRefs(props);\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tuseBodyScrollLock(props.bodyLock);\n\t\tuseHideOthers(rootContext.parentElement);\n\t\tconst pickedProps = computed(() => {\n\t\t\tif (props.position === \"popper\") return props;\n\t\t\telse return {};\n\t\t});\n\t\tconst forwardedProps = useForwardProps(pickedProps.value);\n\t\tconst popperStyle = {\n\t\t\t\"boxSizing\": \"border-box\",\n\t\t\t\"--reka-combobox-content-transform-origin\": \"var(--reka-popper-transform-origin)\",\n\t\t\t\"--reka-combobox-content-available-width\": \"var(--reka-popper-available-width)\",\n\t\t\t\"--reka-combobox-content-available-height\": \"var(--reka-popper-available-height)\",\n\t\t\t\"--reka-combobox-trigger-width\": \"var(--reka-popper-anchor-width)\",\n\t\t\t\"--reka-combobox-trigger-height\": \"var(--reka-popper-anchor-height)\"\n\t\t};\n\t\tprovideComboboxContentContext({ position });\n\t\tconst isInputWithinContent = ref(false);\n\t\tonMounted(() => {\n\t\t\tif (rootContext.inputElement.value) {\n\t\t\t\tisInputWithinContent.value = currentElement.value.contains(rootContext.inputElement.value);\n\t\t\t\tif (isInputWithinContent.value) rootContext.inputElement.value.focus();\n\t\t\t}\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\tif (isInputWithinContent.value) rootContext.triggerElement.value?.focus();\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(ListboxContent_default), { \"as-child\": \"\" }, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(DismissableLayer_default), {\n\t\t\t\t\t\"as-child\": \"\",\n\t\t\t\t\t\"disable-outside-pointer-events\": _ctx.disableOutsidePointerEvents,\n\t\t\t\t\tonDismiss: _cache[0] || (_cache[0] = ($event) => unref(rootContext).onOpenChange(false)),\n\t\t\t\t\tonFocusOutside: _cache[1] || (_cache[1] = (ev) => {\n\t\t\t\t\t\tif (unref(rootContext).parentElement.value?.contains(ev.target)) ev.preventDefault();\n\t\t\t\t\t\temits(\"focusOutside\", ev);\n\t\t\t\t\t}),\n\t\t\t\t\tonInteractOutside: _cache[2] || (_cache[2] = ($event) => emits(\"interactOutside\", $event)),\n\t\t\t\t\tonEscapeKeyDown: _cache[3] || (_cache[3] = ($event) => emits(\"escapeKeyDown\", $event)),\n\t\t\t\t\tonPointerDownOutside: _cache[4] || (_cache[4] = (ev) => {\n\t\t\t\t\t\tif (unref(rootContext).parentElement.value?.contains(ev.target)) ev.preventDefault();\n\t\t\t\t\t\temits(\"pointerDownOutside\", ev);\n\t\t\t\t\t})\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [(openBlock(), createBlock(resolveDynamicComponent(unref(position) === \"popper\" ? unref(PopperContent_default) : unref(Primitive)), mergeProps({\n\t\t\t\t\t\t..._ctx.$attrs,\n\t\t\t\t\t\t...unref(forwardedProps)\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: unref(rootContext).contentId,\n\t\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\t\t\"data-state\": unref(rootContext).open.value ? \"open\" : \"closed\",\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\t\toutline: \"none\",\n\t\t\t\t\t\t\t...unref(position) === \"popper\" ? popperStyle : {}\n\t\t\t\t\t\t}\n\t\t\t\t\t}), {\n\t\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t\t_: 3\n\t\t\t\t\t}, 16, [\n\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\"data-state\",\n\t\t\t\t\t\t\"style\"\n\t\t\t\t\t]))]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\"disable-outside-pointer-events\"])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxContentImpl.vue\nvar ComboboxContentImpl_default = ComboboxContentImpl_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxContentImpl_default, injectComboboxContentContext };\n//# sourceMappingURL=ComboboxContentImpl.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useForwardPropsEmits } from \"../shared/useForwardPropsEmits.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Presence_default } from \"../Presence/Presence.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { ComboboxContentImpl_default } from \"./ComboboxContentImpl.js\";\nimport { createBlock, createVNode, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxContent.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxContent_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxContent\",\n\tprops: {\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tposition: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tbodyLock: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tside: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talign: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdisableOutsidePointerEvents: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst forwarded = useForwardPropsEmits(props, emits);\n\t\tconst { forwardRef } = useForwardExpose();\n\t\tconst rootContext = injectComboboxRootContext();\n\t\trootContext.contentId ||= useId(void 0, \"reka-combobox-content\");\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Presence_default), { present: _ctx.forceMount || unref(rootContext).open.value }, {\n\t\t\t\tdefault: withCtx(() => [createVNode(ComboboxContentImpl_default, mergeProps({\n\t\t\t\t\t...unref(forwarded),\n\t\t\t\t\t..._ctx.$attrs\n\t\t\t\t}, { ref: unref(forwardRef) }), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16)]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"present\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxContent.vue\nvar ComboboxContent_default = ComboboxContent_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxContent_default };\n//# sourceMappingURL=ComboboxContent.js.map","import { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { computed, createBlock, createCommentVNode, createTextVNode, defineComponent, guardReactiveProps, mergeProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxEmpty.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxEmpty_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxEmpty\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst isRender = computed(() => rootContext.ignoreFilter.value ? rootContext.allItems.value.size === 0 : rootContext.filterState.value.count === 0);\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn isRender.value ? (openBlock(), createBlock(unref(Primitive), normalizeProps(mergeProps({ key: 0 }, props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", {}, () => [_cache[0] || (_cache[0] = createTextVNode(\"No options\"))])]),\n\t\t\t\t_: 3\n\t\t\t}, 16)) : createCommentVNode(\"v-if\", true);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxEmpty.vue\nvar ComboboxEmpty_default = ComboboxEmpty_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxEmpty_default };\n//# sourceMappingURL=ComboboxEmpty.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { ListboxGroup_default } from \"../Listbox/ListboxGroup.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { computed, createBlock, defineComponent, mergeProps, onMounted, onUnmounted, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxGroup.vue?vue&type=script&setup=true&lang.ts\nconst [injectComboboxGroupContext, provideComboboxGroupContext] = createContext(\"ComboboxGroup\");\nvar ComboboxGroup_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxGroup\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst id = useId(void 0, \"reka-combobox-group\");\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst isRender = computed(() => rootContext.ignoreFilter.value ? true : !rootContext.filterSearch.value ? true : rootContext.filterState.value.groups.has(id));\n\t\tconst context = provideComboboxGroupContext({\n\t\t\tid,\n\t\t\tlabelId: \"\"\n\t\t});\n\t\tonMounted(() => {\n\t\t\tif (!rootContext.allGroups.value.has(id)) rootContext.allGroups.value.set(id, /* @__PURE__ */ new Set());\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\trootContext.allGroups.value.delete(id);\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(ListboxGroup_default), mergeProps({\n\t\t\t\tid: unref(id),\n\t\t\t\t\"aria-labelledby\": unref(context).labelId\n\t\t\t}, props, { hidden: isRender.value ? void 0 : true }), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\n\t\t\t\t\"id\",\n\t\t\t\t\"aria-labelledby\",\n\t\t\t\t\"hidden\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxGroup.vue\nvar ComboboxGroup_default = ComboboxGroup_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxGroup_default, injectComboboxGroupContext };\n//# sourceMappingURL=ComboboxGroup.js.map","import { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { injectListboxRootContext } from \"../Listbox/ListboxRoot.js\";\nimport { ListboxFilter_default } from \"../Listbox/ListboxFilter.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { createBlock, defineComponent, isRef, nextTick, onMounted, openBlock, renderSlot, unref, watch, withCtx, withKeys, withModifiers } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/Combobox/ComboboxInput.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxInput_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxInput\",\n\tprops: {\n\t\tdisplayValue: {\n\t\t\ttype: Function,\n\t\t\trequired: false\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tautoFocus: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"input\"\n\t\t}\n\t},\n\temits: [\"update:modelValue\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst listboxContext = injectListboxRootContext();\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tconst modelValue = useVModel(props, \"modelValue\", emits, { passive: props.modelValue === void 0 });\n\t\tonMounted(() => {\n\t\t\tif (currentElement.value) rootContext.onInputElementChange(currentElement.value);\n\t\t});\n\t\tfunction handleKeyDown(ev) {\n\t\t\tif (!rootContext.open.value) rootContext.onOpenChange(true);\n\t\t}\n\t\tfunction handleInput(event) {\n\t\t\tconst target = event.target;\n\t\t\tif (!rootContext.open.value) {\n\t\t\t\trootContext.onOpenChange(true);\n\t\t\t\tnextTick(() => {\n\t\t\t\t\tif (target.value) {\n\t\t\t\t\t\trootContext.filterSearch.value = target.value;\n\t\t\t\t\t\tlistboxContext.highlightFirstItem();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else rootContext.filterSearch.value = target.value;\n\t\t}\n\t\tfunction handleFocus() {\n\t\t\tif (rootContext.openOnFocus.value && !rootContext.open.value) rootContext.onOpenChange(true);\n\t\t}\n\t\tfunction handleClick() {\n\t\t\tif (rootContext.openOnClick.value && !rootContext.open.value) rootContext.onOpenChange(true);\n\t\t}\n\t\tfunction resetSearchTerm() {\n\t\t\tconst rootModelValue = rootContext.modelValue.value;\n\t\t\tif (props.displayValue) modelValue.value = props.displayValue(rootModelValue);\n\t\t\telse if (!rootContext.multiple.value && rootModelValue && !Array.isArray(rootModelValue)) if (typeof rootModelValue !== \"object\") modelValue.value = rootModelValue.toString();\n\t\t\telse modelValue.value = \"\";\n\t\t\telse modelValue.value = \"\";\n\t\t\tnextTick(() => {\n\t\t\t\tmodelValue.value = modelValue.value;\n\t\t\t});\n\t\t}\n\t\trootContext.onResetSearchTerm(() => {\n\t\t\tresetSearchTerm();\n\t\t});\n\t\twatch(rootContext.modelValue, async () => {\n\t\t\tif (!rootContext.isUserInputted.value && rootContext.resetSearchTermOnSelect.value) resetSearchTerm();\n\t\t}, {\n\t\t\timmediate: true,\n\t\t\tdeep: true\n\t\t});\n\t\twatch(rootContext.filterState, () => {\n\t\t\tif (!rootContext.isVirtual.value) listboxContext.highlightFirstItem();\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(ListboxFilter_default), {\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement,\n\t\t\t\tmodelValue: unref(modelValue),\n\t\t\t\t\"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => isRef(modelValue) ? modelValue.value = $event : null),\n\t\t\t\tas: _ctx.as,\n\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\"auto-focus\": _ctx.autoFocus,\n\t\t\t\tdisabled: _ctx.disabled,\n\t\t\t\t\"aria-expanded\": unref(rootContext).open.value,\n\t\t\t\t\"aria-controls\": unref(rootContext).contentId,\n\t\t\t\t\"aria-autocomplete\": \"list\",\n\t\t\t\trole: \"combobox\",\n\t\t\t\tautocomplete: \"off\",\n\t\t\t\tonClick: handleClick,\n\t\t\t\tonInput: handleInput,\n\t\t\t\tonKeydown: withKeys(withModifiers(handleKeyDown, [\"prevent\"]), [\"down\", \"up\"]),\n\t\t\t\tonFocus: handleFocus\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"modelValue\",\n\t\t\t\t\"as\",\n\t\t\t\t\"as-child\",\n\t\t\t\t\"auto-focus\",\n\t\t\t\t\"disabled\",\n\t\t\t\t\"aria-expanded\",\n\t\t\t\t\"aria-controls\",\n\t\t\t\t\"onKeydown\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxInput.vue\nvar ComboboxInput_default = ComboboxInput_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxInput_default };\n//# sourceMappingURL=ComboboxInput.js.map","import { useId } from \"../shared/useId.js\";\nimport { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { ListboxItem_default } from \"../Listbox/ListboxItem.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { injectComboboxGroupContext } from \"./ComboboxGroup.js\";\nimport { computed, createBlock, createCommentVNode, createTextVNode, defineComponent, mergeProps, onMounted, onUnmounted, openBlock, renderSlot, toDisplayString, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxItem.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxItem_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxItem\",\n\tprops: {\n\t\ttextValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\"select\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst id = useId(void 0, \"reka-combobox-item\");\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst groupContext = injectComboboxGroupContext(null);\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tif (props.value === \"\") throw new Error(\"A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.\");\n\t\tconst isRender = computed(() => {\n\t\t\tif (rootContext.isVirtual.value || rootContext.ignoreFilter.value || !rootContext.filterSearch.value) return true;\n\t\t\telse {\n\t\t\t\tconst filteredCurrentItem = rootContext.filterState.value.items.get(id);\n\t\t\t\tif (filteredCurrentItem === void 0) return true;\n\t\t\t\treturn filteredCurrentItem > 0;\n\t\t\t}\n\t\t});\n\t\tonMounted(() => {\n\t\t\trootContext.allItems.value.set(id, props.textValue || currentElement.value.textContent || currentElement.value.innerText);\n\t\t\tconst groupId = groupContext?.id;\n\t\t\tif (groupId) if (!rootContext.allGroups.value.has(groupId)) rootContext.allGroups.value.set(groupId, new Set([id]));\n\t\t\telse rootContext.allGroups.value.get(groupId)?.add(id);\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\trootContext.allItems.value.delete(id);\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn isRender.value ? (openBlock(), createBlock(unref(ListboxItem_default), mergeProps({ key: 0 }, props, {\n\t\t\t\tid: unref(id),\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement,\n\t\t\t\tdisabled: unref(rootContext).disabled.value || _ctx.disabled,\n\t\t\t\tonSelect: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\temits(\"select\", event);\n\t\t\t\t\tif (event.defaultPrevented) return;\n\t\t\t\t\tif (!unref(rootContext).multiple.value && !_ctx.disabled && !unref(rootContext).disabled.value) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tunref(rootContext).onOpenChange(false);\n\t\t\t\t\t\tunref(rootContext).modelValue.value = props.value;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", {}, () => [createTextVNode(toDisplayString(_ctx.value), 1)])]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"id\", \"disabled\"])) : createCommentVNode(\"v-if\", true);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxItem.vue\nvar ComboboxItem_default = ComboboxItem_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxItem_default };\n//# sourceMappingURL=ComboboxItem.js.map","import { ListboxItemIndicator_default } from \"../Listbox/ListboxItemIndicator.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxItemIndicator.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxItemIndicator_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxItemIndicator\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"span\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(ListboxItemIndicator_default), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxItemIndicator.vue\nvar ComboboxItemIndicator_default = ComboboxItemIndicator_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxItemIndicator_default };\n//# sourceMappingURL=ComboboxItemIndicator.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectComboboxGroupContext } from \"./ComboboxGroup.js\";\nimport { createBlock, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxLabel.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxLabel_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxLabel\",\n\tprops: {\n\t\tfor: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"div\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tuseForwardExpose();\n\t\tconst groupContext = injectComboboxGroupContext({\n\t\t\tid: \"\",\n\t\t\tlabelId: \"\"\n\t\t});\n\t\tgroupContext.labelId ||= useId(void 0, \"reka-combobox-group-label\");\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), mergeProps(props, { id: unref(groupContext).labelId }), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"id\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxLabel.vue\nvar ComboboxLabel_default = ComboboxLabel_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxLabel_default };\n//# sourceMappingURL=ComboboxLabel.js.map","import { Teleport_default } from \"../Teleport/Teleport.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxPortal.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxPortal_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxPortal\",\n\tprops: {\n\t\tto: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdefer: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Teleport_default), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxPortal.vue\nvar ComboboxPortal_default = ComboboxPortal_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxPortal_default };\n//# sourceMappingURL=ComboboxPortal.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { computed, createBlock, defineComponent, mergeProps, onMounted, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxTrigger.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxTrigger_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxTrigger\",\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"button\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tconst rootContext = injectComboboxRootContext();\n\t\tconst disabled = computed(() => props.disabled || rootContext.disabled.value || false);\n\t\tonMounted(() => {\n\t\t\tif (currentElement.value) rootContext.onTriggerElementChange(currentElement.value);\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), mergeProps(props, {\n\t\t\t\tref: unref(forwardRef),\n\t\t\t\ttype: _ctx.as === \"button\" ? \"button\" : void 0,\n\t\t\t\ttabindex: \"-1\",\n\t\t\t\t\"aria-label\": \"Show popup\",\n\t\t\t\t\"aria-haspopup\": \"listbox\",\n\t\t\t\t\"aria-expanded\": unref(rootContext).open.value,\n\t\t\t\t\"aria-controls\": unref(rootContext).contentId,\n\t\t\t\t\"data-state\": unref(rootContext).open.value ? \"open\" : \"closed\",\n\t\t\t\tdisabled: disabled.value,\n\t\t\t\t\"data-disabled\": disabled.value ? \"\" : void 0,\n\t\t\t\t\"aria-disabled\": disabled.value ?? void 0,\n\t\t\t\tonClick: _cache[0] || (_cache[0] = ($event) => unref(rootContext).onOpenChange(!unref(rootContext).open.value))\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\n\t\t\t\t\"type\",\n\t\t\t\t\"aria-expanded\",\n\t\t\t\t\"aria-controls\",\n\t\t\t\t\"data-state\",\n\t\t\t\t\"disabled\",\n\t\t\t\t\"data-disabled\",\n\t\t\t\t\"aria-disabled\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxTrigger.vue\nvar ComboboxTrigger_default = ComboboxTrigger_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxTrigger_default };\n//# sourceMappingURL=ComboboxTrigger.js.map","import { injectConfigProviderContext } from \"../ConfigProvider/ConfigProvider.js\";\nimport { computed, ref } from \"vue\";\n\n//#region src/shared/useNonce.ts\nfunction useNonce(nonce) {\n\tconst context = injectConfigProviderContext({ nonce: ref() });\n\treturn computed(() => nonce?.value || context.nonce?.value);\n}\n\n//#endregion\nexport { useNonce };\n//# sourceMappingURL=useNonce.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectComboboxRootContext } from \"./ComboboxRoot.js\";\nimport { useNonce } from \"../shared/useNonce.js\";\nimport { Fragment, createElementBlock, createTextVNode, createVNode, defineComponent, mergeProps, openBlock, renderSlot, toRefs, unref, withCtx } from \"vue\";\n\n//#region src/Combobox/ComboboxViewport.vue?vue&type=script&setup=true&lang.ts\nvar ComboboxViewport_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"ComboboxViewport\",\n\tprops: {\n\t\tnonce: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { forwardRef } = useForwardExpose();\n\t\tconst { nonce: propNonce } = toRefs(props);\n\t\tconst nonce = useNonce(propNonce);\n\t\tconst rootContext = injectComboboxRootContext();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createElementBlock(Fragment, null, [createVNode(unref(Primitive), mergeProps({\n\t\t\t\t..._ctx.$attrs,\n\t\t\t\t...props\n\t\t\t}, {\n\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\"data-reka-combobox-viewport\": \"\",\n\t\t\t\trole: \"presentation\",\n\t\t\t\tstyle: {\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\tflex: unref(rootContext).isVirtual.value ? void 0 : 1,\n\t\t\t\t\toverflow: \"auto\"\n\t\t\t\t}\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"style\"]), createVNode(unref(Primitive), {\n\t\t\t\tas: \"style\",\n\t\t\t\tnonce: unref(nonce)\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => _cache[0] || (_cache[0] = [createTextVNode(\" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-combobox-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-combobox-viewport]::-webkit-scrollbar { display: none; } \")])),\n\t\t\t\t_: 1,\n\t\t\t\t__: [0]\n\t\t\t}, 8, [\"nonce\"])], 64);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Combobox/ComboboxViewport.vue\nvar ComboboxViewport_default = ComboboxViewport_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { ComboboxViewport_default };\n//# sourceMappingURL=ComboboxViewport.js.map","<script setup lang=\"ts\">\nimport {\n  computed,\n  type Component,\n  ref,\n  watch,\n  h,\n  FunctionalComponent,\n} from 'vue'\nimport {\n  ComboboxAnchor,\n  ComboboxContent,\n  ComboboxEmpty,\n  ComboboxGroup,\n  ComboboxInput,\n  ComboboxItem,\n  ComboboxItemIndicator,\n  ComboboxLabel,\n  ComboboxPortal,\n  ComboboxRoot,\n  ComboboxSeparator,\n  ComboboxTrigger,\n  ComboboxViewport,\n} from 'reka-ui'\nimport LucideCheck from '~icons/lucide/check'\nimport LucideChevronDown from '~icons/lucide/chevron-down'\n\ntype SimpleOption =\n  | string\n  | {\n      label: string\n      value: string\n      icon?: string | Component\n      disabled?: boolean\n    }\ntype GroupedOption = { group: string; options: SimpleOption[] }\ntype ComboboxOption = SimpleOption | GroupedOption\n\ninterface ComboboxProps {\n  options: Array<ComboboxOption>\n  modelValue?: string | null\n  placeholder?: string\n  disabled?: boolean\n}\n\nconst props = defineProps<ComboboxProps>()\nconst emit = defineEmits([\n  'update:modelValue',\n  'update:selectedOption',\n  'focus',\n  'blur',\n])\n\nconst searchTerm = ref(getDisplayValue(props.modelValue))\nconst internalModelValue = ref(props.modelValue)\nconst isOpen = ref(false)\nconst userHasTyped = ref(false)\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    internalModelValue.value = newValue\n    searchTerm.value = getDisplayValue(newValue)\n  },\n)\n\nconst onUpdateModelValue = (value: string | null) => {\n  internalModelValue.value = value\n  emit('update:modelValue', value)\n  searchTerm.value = getDisplayValue(value)\n  userHasTyped.value = false\n\n  const selectedOpt = value\n    ? allOptionsFlat.value.find((opt) => getValue(opt) === value) || null\n    : null\n  emit('update:selectedOption', selectedOpt)\n}\n\nfunction isGroup(option: ComboboxOption): option is GroupedOption {\n  return typeof option === 'object' && 'group' in option\n}\n\nfunction getLabel(option: SimpleOption): string {\n  return typeof option === 'string' ? option : option.label\n}\n\nfunction getValue(option: SimpleOption): string {\n  return typeof option === 'string' ? option : option.value\n}\n\nfunction isDisabled(option: SimpleOption): boolean {\n  return typeof option === 'object' && !!option.disabled\n}\n\nfunction getIcon(option: SimpleOption): string | Component | undefined {\n  return typeof option === 'object' ? option.icon : undefined\n}\n\nconst allOptionsFlat = computed(() => {\n  const flatOptions: SimpleOption[] = []\n  props.options.forEach((optionOrGroup) => {\n    if (isGroup(optionOrGroup)) {\n      flatOptions.push(...optionOrGroup.options)\n    } else {\n      flatOptions.push(optionOrGroup)\n    }\n  })\n  return flatOptions\n})\n\nfunction getDisplayValue(selectedValue: string | null | undefined): string {\n  if (!selectedValue) return ''\n  const options = props.options.flatMap((opt) =>\n    isGroup(opt) ? opt.options : opt,\n  )\n  const selectedOption = options.find((opt) => getValue(opt) === selectedValue)\n  return selectedOption ? getLabel(selectedOption) : selectedValue || ''\n}\n\nconst selectedOption = computed(() => {\n  if (!internalModelValue.value) return null\n  return allOptionsFlat.value.find(\n    (opt) => getValue(opt) === internalModelValue.value,\n  )\n})\n\nconst selectedOptionIcon = computed(() => {\n  return selectedOption.value ? getIcon(selectedOption.value) : undefined\n})\n\nconst RenderIcon: FunctionalComponent<{ icon?: string | Component }> = (\n  props,\n) => {\n  if (!props.icon) return null\n  const iconContent =\n    typeof props.icon === 'string'\n      ? h('span', props.icon)\n      : h(props.icon, { class: 'w-4 h-4' })\n\n  return h(\n    'span',\n    {\n      class: 'flex-shrink-0 w-4 h-4 inline-flex items-center justify-center',\n    },\n    [iconContent],\n  )\n}\n\nconst filterFunction = (options: ComboboxOption[], search: string) => {\n  if (!search) return options\n\n  const lowerSearch = search.toLowerCase()\n  const filtered: ComboboxOption[] = []\n\n  options.forEach((optionOrGroup) => {\n    if (isGroup(optionOrGroup)) {\n      const filteredGroupOptions = optionOrGroup.options.filter((opt) => {\n        const label = getLabel(opt).toLowerCase()\n        const value = getValue(opt).toLowerCase()\n\n        return label.includes(lowerSearch) || value.includes(lowerSearch)\n      })\n      if (filteredGroupOptions.length > 0) {\n        filtered.push({ ...optionOrGroup, options: filteredGroupOptions })\n      }\n    } else {\n      const label = getLabel(optionOrGroup).toLowerCase()\n      const value = getValue(optionOrGroup).toLowerCase()\n      if (label.includes(lowerSearch) || value.includes(lowerSearch)) {\n        filtered.push(optionOrGroup)\n      }\n    }\n  })\n  return filtered\n}\n\nconst filteredOptions = computed(() => {\n  if (isOpen.value && !userHasTyped.value && internalModelValue.value) {\n    return props.options\n  }\n  return filterFunction(props.options, searchTerm.value)\n})\n\nconst handleInputChange = (event: Event) => {\n  const target = event.target as HTMLInputElement\n  searchTerm.value = target.value\n  userHasTyped.value = true\n\n  if (searchTerm.value === '') {\n    internalModelValue.value = null\n    emit('update:modelValue', null)\n  }\n}\n\nconst handleOpenChange = (open: boolean) => {\n  isOpen.value = open\n  if (!open) {\n    searchTerm.value = getDisplayValue(internalModelValue.value)\n    userHasTyped.value = false\n  } else {\n    userHasTyped.value = false\n  }\n}\n\nconst handleFocus = (event: FocusEvent) => {\n  emit('focus', event)\n}\n\nconst handleBlur = (event: FocusEvent) => {\n  emit('blur', event)\n}\n</script>\n\n<template>\n  <div class=\"relative\">\n    <ComboboxRoot\n      :model-value=\"internalModelValue\"\n      @update:modelValue=\"onUpdateModelValue\"\n      @update:open=\"handleOpenChange\"\n      :ignore-filter=\"true\"\n    >\n      <ComboboxAnchor\n        class=\"flex h-7 w-full items-center justify-between gap-2 rounded bg-surface-gray-2 px-2 py-1 transition-colors hover:bg-surface-gray-3 border border-transparent focus-within:border-outline-gray-4 focus-within:ring-2 focus-within:ring-outline-gray-3\"\n        :class=\"{ 'opacity-50 pointer-events-none': disabled }\"\n      >\n        <div class=\"flex items-center gap-2 flex-1 overflow-hidden\">\n          <RenderIcon v-if=\"selectedOptionIcon\" :icon=\"selectedOptionIcon\" />\n          <ComboboxInput\n            :value=\"searchTerm\"\n            @input=\"handleInputChange\"\n            @focus=\"handleFocus\"\n            @blur=\"handleBlur\"\n            class=\"bg-transparent p-0 focus:outline-0 border-0 focus:border-0 focus:ring-0 text-base text-ink-gray-8 h-full placeholder:text-ink-gray-4 w-full\"\n            :placeholder=\"placeholder || ''\"\n            :disabled=\"disabled\"\n            autocomplete=\"off\"\n          />\n        </div>\n        <ComboboxTrigger :disabled=\"disabled\">\n          <LucideChevronDown class=\"h-4 w-4 text-ink-gray-5\" />\n        </ComboboxTrigger>\n      </ComboboxAnchor>\n      <ComboboxPortal>\n        <ComboboxContent\n          class=\"z-10 min-w-[--reka-combobox-trigger-width] mt-1 bg-surface-modal overflow-hidden rounded-lg shadow-2xl\"\n          position=\"popper\"\n          @openAutoFocus.prevent\n          @closeAutoFocus.prevent\n          :align=\"'start'\"\n        >\n          <ComboboxViewport\n            class=\"max-h-60 overflow-auto pb-1.5\"\n            :class=\"{ 'px-1.5 pt-1.5': !isGroup(filteredOptions[0]) }\"\n          >\n            <ComboboxEmpty\n              class=\"text-ink-gray-5 text-base text-center py-1.5 px-2.5\"\n            >\n              No results found for \"{{ searchTerm }}\"\n            </ComboboxEmpty>\n            <template\n              v-for=\"(optionOrGroup, index) in filteredOptions\"\n              :key=\"index\"\n            >\n              <ComboboxGroup class=\"px-1.5\" v-if=\"isGroup(optionOrGroup)\">\n                <ComboboxLabel\n                  class=\"px-2.5 pt-3 pb-1.5 text-sm font-medium text-ink-gray-5 sticky top-0 bg-surface-modal z-10\"\n                >\n                  {{ optionOrGroup.group }}\n                </ComboboxLabel>\n                <ComboboxItem\n                  v-for=\"(option, idx) in optionOrGroup.options\"\n                  :key=\"`${index}-${idx}`\"\n                  :value=\"getValue(option)\"\n                  :disabled=\"isDisabled(option)\"\n                  class=\"text-base leading-none text-ink-gray-7 rounded flex items-center h-7 px-2.5 py-1.5 relative select-none data-[disabled]:opacity-50 data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-surface-gray-3\"\n                >\n                  <span class=\"flex items-center gap-2 pr-6 flex-1\">\n                    <RenderIcon :icon=\"getIcon(option)\" />\n                    {{ getLabel(option) }}\n                  </span>\n                  <ComboboxItemIndicator\n                    class=\"inline-flex ml-2 items-center justify-center\"\n                  >\n                    <LucideCheck class=\"size-4\" />\n                  </ComboboxItemIndicator>\n                </ComboboxItem>\n              </ComboboxGroup>\n              <ComboboxItem\n                v-else\n                :key=\"index\"\n                :value=\"getValue(optionOrGroup)\"\n                :disabled=\"isDisabled(optionOrGroup)\"\n                class=\"text-base leading-none text-ink-gray-7 rounded flex items-center h-7 px-2.5 py-1.5 relative select-none data-[disabled]:opacity-50 data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-surface-gray-3\"\n              >\n                <span class=\"flex items-center gap-2 pr-6 flex-1\">\n                  <RenderIcon\n                    v-if=\"getIcon(optionOrGroup)\"\n                    :icon=\"getIcon(optionOrGroup)\"\n                  />\n                  {{ getLabel(optionOrGroup) }}\n                </span>\n                <ComboboxItemIndicator\n                  class=\"absolute right-0 w-6 inline-flex items-center justify-center\"\n                >\n                  <LucideCheck class=\"h-4 w-4\" />\n                </ComboboxItemIndicator>\n              </ComboboxItem>\n            </template>\n          </ComboboxViewport>\n        </ComboboxContent>\n      </ComboboxPortal>\n    </ComboboxRoot>\n  </div>\n</template>\n","<template>\n  <SwitchGroup\n    as=\"div\"\n    :tabindex=\"switchType == SwitchVariant.ONLY_LABEL ? 0 : -1\"\n    @keyup.space.self=\"emit('update:modelValue', !modelValue)\"\n    :class=\"switchGroupClasses\"\n  >\n    <span :class=\"labelContainerClasses\">\n      <SwitchLabel v-if=\"props.label\" as=\"span\" :class=\"switchLabelClasses\">{{\n        props.label\n      }}</SwitchLabel>\n      <SwitchDescription\n        v-if=\"props.description\"\n        as=\"span\"\n        :class=\"switchDescriptionClasses\"\n      >\n        {{ props.description }}\n      </SwitchDescription>\n    </span>\n    <Switch\n      :disabled=\"props.disabled\"\n      :model-value=\"modelValue ? true : false\"\n      :class=\"switchClasses\"\n      @update:model-value=\"emit('update:modelValue', !modelValue)\"\n    >\n      <span aria-hidden=\"true\" :class=\"switchCircleClasses\"></span>\n    </Switch>\n  </SwitchGroup>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport {\n  Switch,\n  SwitchDescription,\n  SwitchGroup,\n  SwitchLabel,\n} from '@headlessui/vue'\nimport type { SwitchProps } from './types'\n\nenum SwitchVariant {\n  DEFAULT,\n  ONLY_LABEL,\n  WITH_LABEL_AND_DESCRIPTION,\n}\n\nconst props = withDefaults(defineProps<SwitchProps>(), {\n  size: 'sm',\n  label: '',\n  description: '',\n  disabled: false,\n})\n\nconst emit = defineEmits(['change', 'update:modelValue'])\n\nconst switchType = computed(() => {\n  if (props.label && props.description) {\n    return SwitchVariant.WITH_LABEL_AND_DESCRIPTION\n  }\n\n  if (props.label) {\n    return SwitchVariant.ONLY_LABEL\n  }\n\n  return SwitchVariant.DEFAULT\n})\n\nconst switchClasses = computed(() => {\n  return [\n    'relative inline-flex flex-shrink-0 cursor-pointer rounded-full border-transparent transition-colors duration-100 ease-in-out items-center',\n    'focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-outline-gray-3',\n    'disabled:cursor-not-allowed disabled:bg-surface-gray-3',\n    props.modelValue\n      ? 'bg-surface-gray-7 enabled:hover:bg-surface-gray-6 active:bg-surface-gray-5 group-hover:enabled:bg-surface-gray-6'\n      : 'bg-surface-gray-4 enabled:hover:bg-gray-400 active:bg-gray-500 group-hover:enabled:bg-gray-400',\n    props.size === 'md' ? 'h-5 w-8 border-[3px]' : 'h-4 w-[26px] border-2',\n  ]\n})\n\nconst switchCircleClasses = computed(() => {\n  return [\n    'pointer-events-none inline-block transform rounded-full bg-surface-white shadow ring-0 transition duration-100 ease-in-out',\n    props.size === 'md' ? 'h-3.5 w-3.5' : 'h-3 w-3',\n    props.size === 'md'\n      ? props.modelValue\n        ? 'translate-x-3 rtl:-translate-x-3'\n        : 'translate-x-0'\n      : props.modelValue\n        ? 'translate-x-2.5 rtl:-translate-x-2.5'\n        : 'translate-x-0',\n  ]\n})\n\nconst switchLabelClasses = computed(() => {\n  return [\n    'font-medium leading-normal',\n    props.disabled && switchType.value === SwitchVariant.ONLY_LABEL\n      ? 'text-ink-gray-4'\n      : 'text-ink-gray-8',\n    props.size === 'md' ? 'text-lg' : 'text-base',\n  ]\n})\n\nconst switchDescriptionClasses = computed(() => {\n  return ['max-w-xs text-p-base text-ink-gray-7']\n})\n\nconst switchGroupClasses = computed(() => {\n  const classes = ['flex justify-between']\n\n  if (switchType.value === SwitchVariant.ONLY_LABEL) {\n    classes.push(\n      'group items-center space-x-3 cursor-pointer rounded focus-visible:bg-surface-gray-2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-outline-gray-3',\n    )\n\n    classes.push(\n      props.disabled\n        ? 'cursor-not-allowed'\n        : 'hover:bg-surface-gray-3 active:bg-surface-gray-4',\n    )\n\n    classes.push(props.size === 'md' ? 'px-3 py-1.5' : 'px-2.5 py-1.5')\n  } else if (switchType.value === SwitchVariant.WITH_LABEL_AND_DESCRIPTION) {\n    classes.push('items-start')\n    classes.push(props.size === 'md' ? 'space-x-3.5' : 'space-x-2.5')\n  }\n\n  return classes\n})\n\nconst labelContainerClasses = computed(() => {\n  return ['flex flex-col space-y-0.5']\n})\n</script>\n","<template>\n  <span\n    v-if=\"notificationStore.visible\"\n    ref=\"target\"\n    class=\"fixed z-10 h-screen overflow-auto bg-white\"\n    :style=\"{\n      'box-shadow': '8px 0px 8px rgba(0, 0, 0, 0.1)',\n      'max-width': '350px',\n      'min-width': '350px',\n      left: sidebarStore.width,\n    }\"\n  >\n    <div\n      class=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5\"\n    >\n      <span class=\"text-lg font-medium\">Notifications</span>\n      <span>\n        <Button\n          theme=\"blue\"\n          variant=\"ghost\"\n          @click=\"() => notificationStore.clear.submit()\"\n        >\n          <template #icon>\n            <LucideCheckCheck class=\"h-4 w-4\" />\n          </template>\n        </Button>\n        <Button\n          theme=\"gray\"\n          variant=\"ghost\"\n          @click=\"() => notificationStore.toggle()\"\n        >\n          <template #icon>\n            <LucideX class=\"h-4 w-4\" />\n          </template>\n        </Button>\n      </span>\n    </div>\n    <div class=\"divide-y text-base\">\n      <RouterLink\n        v-for=\"n in notificationStore.data\"\n        :key=\"n.name\"\n        class=\"flex cursor-pointer items-start gap-3.5 px-5 py-2.5 hover:bg-gray-100\"\n        :to=\"getRoute(n)\"\n        @click=\"\n          () => {\n            handleNotificationClick(n);\n          }\n        \"\n      >\n        <UserAvatar :name=\"n.user_from\" />\n        <span>\n          <div class=\"mb-2 leading-5\">\n            <span class=\"space-x-1 text-gray-700\">\n              <span class=\"font-medium text-gray-900\">{{ n.user_from }}</span>\n              <span v-if=\"n.notification_type === 'Mention'\"\n                >mentioned you in ticket</span\n              >\n              <span v-if=\"n.notification_type === 'Assignment'\"\n                >assigned you a ticket</span\n              >\n              <span v-if=\"n.notification_type === 'Reaction'\"\n                >has reopened the ticket</span\n              >\n              <span class=\"font-medium text-gray-900\">{{\n                n.reference_ticket\n              }}</span>\n            </span>\n          </div>\n          <div class=\"flex items-center gap-2\">\n            <div class=\"text-sm text-gray-600\">\n              {{ dayjs.tz(n.creation).fromNow() }}\n            </div>\n            <div v-if=\"!n.read\" class=\"h-1.5 w-1.5 rounded-full bg-blue-400\" />\n          </div>\n        </span>\n      </RouterLink>\n    </div>\n  </span>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { onClickOutside } from \"@vueuse/core\";\nimport { dayjs } from \"@/dayjs\";\nimport { Notification } from \"@/types\";\nimport { useSidebarStore } from \"@/stores/sidebar\";\nimport { useNotificationStore } from \"@/stores/notification\";\nimport { UserAvatar } from \"@/components\";\n\nconst notificationStore = useNotificationStore();\nconst sidebarStore = useSidebarStore();\nconst target = ref(null);\nonClickOutside(\n  target,\n  () => {\n    if (notificationStore.visible) {\n      notificationStore.toggle();\n    }\n  },\n  {\n    ignore: [\"#notifications-btn\"],\n  }\n);\n\nfunction handleNotificationClick(n: Notification) {\n  notificationStore.toggle();\n  if (n.read) return;\n  notificationStore.read(n.reference_ticket);\n}\n\nfunction getRoute(n: Notification) {\n  switch (n.notification_type) {\n    case \"Mention\":\n      return {\n        name: \"TicketAgent\",\n        params: {\n          ticketId: n.reference_ticket,\n        },\n        hash: \"#\" + n.reference_comment,\n      };\n    case \"Assignment\":\n    case \"Reaction\":\n      return {\n        name: \"TicketAgent\",\n        params: {\n          ticketId: n.reference_ticket,\n        },\n      };\n  }\n}\n</script>\n","<template>\n  <svg\n    width=\"32\"\n    height=\"32\"\n    viewBox=\"0 0 32 32\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <rect\n      x=\"0.75\"\n      y=\"0.75\"\n      width=\"30.5\"\n      height=\"30.5\"\n      rx=\"6.25\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n    />\n    <path\n      d=\"M24.5011 14.1124C23.3954 12.4873 21.532 11.5477 19.594 11.6747C18.7616 10.1384 17.2211 9.12267 15.4198 9.0084C14.1651 8.93222 12.8979 9.3766 11.9165 10.24C11.2456 10.8367 10.7611 11.5223 10.463 12.2968C10.289 12.7539 9.89151 13.0459 9.46912 13.0459H6.5V15.5852H9.46912C10.9226 15.5852 12.2271 14.6584 12.7737 13.2237C12.9227 12.8301 13.1712 12.4873 13.5439 12.1571C14.0284 11.7255 14.662 11.4969 15.2583 11.535C16.1528 11.5985 16.7863 12.0175 17.1839 12.538C17.6063 13.0205 17.8423 13.7696 17.979 14.5187C18.774 14.2902 19.6437 14.0997 20.476 14.2394C21.1593 14.3536 21.7929 14.7218 22.2525 15.2678C22.327 15.3567 22.4016 15.4456 22.4637 15.5471C23.06 16.4232 23.1718 17.5024 22.7743 18.5689C22.414 19.5592 21.0847 20.4607 19.9791 20.4607H11.3326C10.1524 20.4607 9.18339 19.5592 9.03432 18.4038H6.54969C6.71119 20.9686 8.78585 23 11.3326 23H19.9915C22.1283 23 24.3769 21.451 25.1098 19.4704C25.7931 17.6167 25.5695 15.6614 24.5135 14.0997L24.5011 14.1124Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M3 8.5C4.10457 8.5 5 9.39543 5 10.5C5 11.4316 4.3622 12.2113 3.5 12.4336V14C3.5 14.2761 3.27614 14.5 3 14.5C2.72386 14.5 2.5 14.2761 2.5 14V12.4336C1.6378 12.2113 1 11.4316 1 10.5C1 9.39543 1.89543 8.5 3 8.5ZM8 9.5C8.27614 9.5 8.5 9.72386 8.5 10V14C8.5 14.2761 8.27614 14.5 8 14.5C7.72386 14.5 7.5 14.2761 7.5 14V10C7.5 9.72386 7.72386 9.5 8 9.5ZM13 8.5C14.1046 8.5 15 9.39543 15 10.5C15 11.4316 14.3622 12.2113 13.5 12.4336V14C13.5 14.2761 13.2761 14.5 13 14.5C12.7239 14.5 12.5 14.2761 12.5 14V12.4336C11.6378 12.2113 11 11.4316 11 10.5C11 9.39543 11.8954 8.5 13 8.5ZM3 9.5C2.44772 9.5 2 9.94772 2 10.5C2 11.0523 2.44772 11.5 3 11.5C3.55228 11.5 4 11.0523 4 10.5C4 9.94772 3.55228 9.5 3 9.5ZM13 9.5C12.4477 9.5 12 9.94772 12 10.5C12 11.0523 12.4477 11.5 13 11.5C13.5523 11.5 14 11.0523 14 10.5C14 9.94772 13.5523 9.5 13 9.5ZM8 2C8.27614 2 8.5 2.22386 8.5 2.5V4.5C8.5 4.52163 8.49583 4.54257 8.49316 4.56348C9.35898 4.7833 10 5.56581 10 6.5C10 7.60457 9.10457 8.5 8 8.5C6.89543 8.5 6 7.60457 6 6.5C6 5.56614 6.64051 4.78362 7.50586 4.56348C7.50321 4.54261 7.5 4.52158 7.5 4.5V2.5C7.5 2.22386 7.72386 2 8 2ZM8 5.5C7.44772 5.5 7 5.94772 7 6.5C7 7.05228 7.44772 7.5 8 7.5C8.55228 7.5 9 7.05228 9 6.5C9 5.94772 8.55228 5.5 8 5.5ZM3 2C3.27614 2 3.5 2.22386 3.5 2.5V6.5C3.5 6.77614 3.27614 7 3 7C2.72386 7 2.5 6.77614 2.5 6.5V2.5C2.5 2.22386 2.72386 2 3 2ZM13 2C13.2761 2 13.5 2.22386 13.5 2.5V6.5C13.5 6.77614 13.2761 7 13 7C12.7239 7 12.5 6.77614 12.5 6.5V2.5C12.5 2.22386 12.7239 2 13 2Z\"\n      fill=\"#525252\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10 11C12.2091 11 14 9.20914 14 7C14 4.79086 12.2091 3 10 3C7.79086 3 6 4.79086 6 7C6 9.20914 7.79086 11 10 11Z\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M10.3 15H7C5.93913 15 4.92172 15.4214 4.17157 16.1716C3.42143 16.9217 3 17.9391 3 19V21H11.5\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M22.166 13.834H14.8327C14.3264 13.834 13.916 14.2444 13.916 14.7507V20.2507C13.916 20.7569 14.3264 21.1673 14.8327 21.1673H22.166C22.6723 21.1673 23.0827 20.7569 23.0827 20.2507V14.7507C23.0827 14.2444 22.6723 13.834 22.166 13.834Z\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M23.0827 15.209L18.9714 17.8215C18.8299 17.9101 18.6663 17.9572 18.4993 17.9572C18.3324 17.9572 18.1688 17.9101 18.0273 17.8215L13.916 15.209\"\n      stroke=\"currentColor\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <g clip-path=\"url(#clip0_368_1881)\">\n      <path\n        d=\"M16.667 5H21.3337\"\n        stroke=\"currentColor\"\n        stroke-width=\"1.5\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n      <path\n        d=\"M19 2.66699V7.33366\"\n        stroke=\"currentColor\"\n        stroke-width=\"1.5\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_368_1881\">\n        <rect width=\"8\" height=\"8\" fill=\"white\" transform=\"translate(15 1)\" />\n      </clipPath>\n    </defs>\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M8 6.5C9.10457 6.5 10 5.60457 10 4.5C10 3.39543 9.10457 2.5 8 2.5C6.89543 2.5 6 3.39543 6 4.5C6 5.60457 6.89543 6.5 8 6.5ZM8 7.5C9.65685 7.5 11 6.15685 11 4.5C11 2.84315 9.65685 1.5 8 1.5C6.34315 1.5 5 2.84315 5 4.5C5 6.15685 6.34315 7.5 8 7.5ZM12 13.5C13.1046 13.5 14 12.6046 14 11.5C14 10.3954 13.1046 9.5 12 9.5C10.8954 9.5 10 10.3954 10 11.5C10 12.6046 10.8954 13.5 12 13.5ZM12 14.5C13.6569 14.5 15 13.1569 15 11.5C15 9.84315 13.6569 8.5 12 8.5C10.3431 8.5 9 9.84315 9 11.5C9 13.1569 10.3431 14.5 12 14.5ZM6 11.5C6 12.6046 5.10457 13.5 4 13.5C2.89543 13.5 2 12.6046 2 11.5C2 10.3954 2.89543 9.5 4 9.5C5.10457 9.5 6 10.3954 6 11.5ZM7 11.5C7 13.1569 5.65685 14.5 4 14.5C2.34315 14.5 1 13.1569 1 11.5C1 9.84315 2.34315 8.5 4 8.5C5.65685 8.5 7 9.84315 7 11.5Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1.5\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"feather feather-minimize-2\"\n  >\n    <polyline points=\"4 14 10 14 10 20\" />\n    <polyline points=\"20 10 14 10 14 4\" />\n    <line x1=\"14\" y1=\"10\" x2=\"21\" y2=\"3\" />\n    <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1.5\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"feather feather-maximize-2\"\n  >\n    <polyline points=\"15 3 21 3 21 9\" />\n    <polyline points=\"9 21 3 21 3 15\" />\n    <line x1=\"21\" y1=\"3\" x2=\"14\" y2=\"10\" />\n    <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M14.25 8C14.25 11.4518 11.4518 14.25 8 14.25C4.54822 14.25 1.75 11.4518 1.75 8C1.75 4.54822 4.54822 1.75 8 1.75C11.4518 1.75 14.25 4.54822 14.25 8ZM15.25 8C15.25 12.0041 12.0041 15.25 8 15.25C3.99594 15.25 0.75 12.0041 0.75 8C0.75 3.99594 3.99594 0.75 8 0.75C12.0041 0.75 15.25 3.99594 15.25 8ZM7.37988 9.37695V9.44531H8.39062V9.37695C8.39062 9.10352 8.41992 8.88542 8.47852 8.72266C8.53711 8.55664 8.62826 8.41504 8.75195 8.29785C8.87891 8.18066 9.04329 8.06185 9.24512 7.94141C9.56087 7.74609 9.8099 7.51009 9.99219 7.2334C10.1745 6.95345 10.2656 6.61328 10.2656 6.21289C10.2656 5.82878 10.1745 5.49186 9.99219 5.20215C9.81315 4.91244 9.56087 4.6862 9.23535 4.52344C8.90983 4.36068 8.52734 4.2793 8.08789 4.2793C7.69401 4.2793 7.33268 4.35579 7.00391 4.50879C6.67513 4.65853 6.41146 4.88151 6.21289 5.17773C6.01432 5.4707 5.90853 5.82878 5.89551 6.25195H6.96973C6.986 6.0013 7.04948 5.79785 7.16016 5.6416C7.27083 5.4821 7.40755 5.36491 7.57031 5.29004C7.73633 5.21517 7.90885 5.17773 8.08789 5.17773C8.28971 5.17773 8.47363 5.22005 8.63965 5.30469C8.80892 5.38932 8.94075 5.50814 9.03516 5.66113C9.13281 5.81413 9.18164 5.99479 9.18164 6.20312C9.18164 6.47005 9.11003 6.69954 8.9668 6.8916C8.82357 7.0804 8.64453 7.23828 8.42969 7.36523C8.21159 7.50195 8.02279 7.64193 7.86328 7.78516C7.70703 7.92513 7.58659 8.11556 7.50195 8.35645C7.42057 8.59408 7.37988 8.93425 7.37988 9.37695ZM7.37988 11.5205C7.51986 11.654 7.69076 11.7207 7.89258 11.7207C8.09766 11.7207 8.26855 11.654 8.40527 11.5205C8.54525 11.3838 8.61523 11.2161 8.61523 11.0176C8.61523 10.8158 8.54525 10.6481 8.40527 10.5146C8.26855 10.3779 8.09766 10.3096 7.89258 10.3096C7.69076 10.3096 7.51986 10.3779 7.37988 10.5146C7.24316 10.6481 7.1748 10.8158 7.1748 11.0176C7.1748 11.2161 7.24316 11.3838 7.37988 11.5205Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div class=\"flex flex-col justify-center items-center gap-1 mt-4 mb-7\">\n    <component :is=\"logo\" class=\"size-10 shrink-0 rounded mb-4\" />\n    <div class=\"text-base font-medium\">\n      {{ 'Welcome to ' + title }}\n    </div>\n    <div class=\"text-p-base font-normal\">\n      {{ `${stepsCompleted}/${totalSteps} steps completed` }}\n    </div>\n  </div>\n  <div class=\"flex flex-col gap-2.5 overflow-hidden\">\n    <div class=\"flex justify-between items-center py-0.5\">\n      <Badge\n        :label=\"`${completedPercentage}% completed`\"\n        :theme=\"completedPercentage == 100 ? 'green' : 'orange'\"\n        size=\"lg\"\n      />\n      <div class=\"flex\">\n        <Button\n          v-if=\"completedPercentage != 0\"\n          variant=\"ghost\"\n          :label=\"'Reset all'\"\n          @click=\"() => resetAll(afterResetAll)\"\n        />\n        <Button\n          v-if=\"completedPercentage != 100\"\n          variant=\"ghost\"\n          :label=\"'Skip all'\"\n          @click=\"() => skipAll(afterSkipAll)\"\n        />\n      </div>\n    </div>\n    <div class=\"flex flex-col gap-1.5 overflow-y-auto\">\n      <div\n        v-for=\"step in steps\"\n        :key=\"step.title\"\n        class=\"group w-full flex gap-2 justify-between items-center hover:bg-surface-gray-1 rounded px-2 py-1.5 cursor-pointer\"\n        @click.stop=\"\n          () => !step.completed && !isDependent(step) && step.onClick()\n        \"\n      >\n        <component\n          :is=\"isDependent(step) ? Tooltip : 'div'\"\n          :text=\"dependsOnTooltip(step)\"\n        >\n          <div\n            class=\"flex gap-2 items-center\"\n            :class=\"[\n              step.completed\n                ? 'text-ink-gray-5'\n                : isDependent(step)\n                  ? 'text-ink-gray-4'\n                  : 'text-ink-gray-8',\n            ]\"\n          >\n            <component :is=\"step.icon\" class=\"h-4\" />\n            <div class=\"text-base\" :class=\"{ 'line-through': step.completed }\">\n              {{ step.title }}\n            </div>\n          </div>\n        </component>\n        <Button\n          v-if=\"!step.completed && !isDependent(step)\"\n          :label=\"'Skip'\"\n          class=\"!h-4 text-xs !text-ink-gray-6 hidden group-hover:flex\"\n          @click=\"() => skip(step.name, afterSkip)\"\n        />\n        <Button\n          v-else-if=\"!isDependent(step)\"\n          :label=\"'Reset'\"\n          class=\"!h-4 text-xs !text-ink-gray-6 hidden group-hover:flex\"\n          @click.stop=\"() => reset(step.name, afterReset)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { useOnboarding } from './onboarding'\nimport Tooltip from '../../src/components/Tooltip/Tooltip.vue'\nimport Button from '../../src/components/Button/Button.vue'\nimport Badge from '../../src/components/Badge/Badge.vue'\n\nconst props = defineProps({\n  appName: {\n    type: String,\n    default: 'frappecrm',\n  },\n  title: {\n    type: String,\n    default: 'Frappe CRM',\n  },\n  logo: {\n    type: Object,\n    required: true,\n  },\n  afterSkip: {\n    type: Function,\n    default: () => {},\n  },\n  afterSkipAll: {\n    type: Function,\n    default: () => {},\n  },\n  afterReset: {\n    type: Function,\n    default: () => {},\n  },\n  afterResetAll: {\n    type: Function,\n    default: () => {},\n  },\n})\n\nfunction isDependent(step) {\n  if (step.dependsOn && !step.completed) {\n    const dependsOnStep = steps.find((s) => s.name === step.dependsOn)\n    if (dependsOnStep && !dependsOnStep.completed) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction dependsOnTooltip(step) {\n  if (step.dependsOn && !step.completed) {\n    const dependsOnStep = steps.find((s) => s.name === step.dependsOn)\n    if (dependsOnStep && !dependsOnStep.completed) {\n      return `You need to complete \"${dependsOnStep.title}\" first.`\n    }\n  }\n  return ''\n}\n\nconst {\n  steps,\n  stepsCompleted,\n  totalSteps,\n  completedPercentage,\n  skip,\n  skipAll,\n  reset,\n  resetAll,\n} = useOnboarding(props.appName)\n</script>\n","<template>\n  <div class=\"flex flex-col gap-2 overflow-hidden\">\n    <div class=\"m-1\">\n      <TextInput\n        ref=\"searchInput\"\n        :placeholder=\"'Search articles...'\"\n        v-model=\"search\"\n        :debounce=\"300\"\n      >\n        <template #prefix>\n          <FeatherIcon name=\"search\" class=\"h-4 text-ink-gray-5\" />\n        </template>\n      </TextInput>\n    </div>\n    <div\n      class=\"flex justify-between items-center text-base text-ink-gray-5 mx-2\"\n    >\n      <div>All articles</div>\n      <Button variant=\"ghost\" @click=\"openDocs\">\n        <FeatherIcon name=\"arrow-up-right\" class=\"h-4 text-ink-gray-5\" />\n      </Button>\n    </div>\n    <div class=\"flex flex-col gap-1.5 overflow-y-auto\">\n      <div\n        v-for=\"a in parsedArticles\"\n        :key=\"a.title\"\n        class=\"flex flex-col gap-1.5\"\n      >\n        <div\n          class=\"flex items-center justify-between p-1.5 hover:bg-surface-gray-1 rounded cursor-pointer\"\n          @click=\"a.opened = !a.opened\"\n        >\n          <div class=\"flex items-center gap-2\">\n            <FeatherIcon\n              :name=\"a.opened ? 'chevron-down' : 'chevron-right'\"\n              class=\"h-4 text-ink-gray-5\"\n            />\n            <div class=\"text-base text-ink-gray-8\">{{ a.title }}</div>\n          </div>\n        </div>\n        <div v-show=\"a.opened\" class=\"flex flex-col gap-1.5 ml-5\">\n          <div\n            v-for=\"subArticle in a.subArticles\"\n            :key=\"subArticle.name\"\n            class=\"group flex items-center justify-between gap-2 p-1.5 hover:bg-surface-gray-1 rounded cursor-pointer\"\n            @click=\"() => openDoc(subArticle.name)\"\n          >\n            <div class=\"flex items-center gap-2\">\n              <FeatherIcon name=\"file-text\" class=\"h-4 text-ink-gray-5\" />\n              <div class=\"text-base text-ink-gray-8\">\n                {{ subArticle.title }}\n              </div>\n            </div>\n            <FeatherIcon\n              name=\"arrow-up-right\"\n              class=\"h-4 hidden group-hover:flex text-ink-gray-5\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport Button from '../../src/components/Button/Button.vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\nimport TextInput from '../../src/components/TextInput/TextInput.vue'\nimport { ref, computed, onMounted } from 'vue'\n\nconst props = defineProps({\n  docsLink: {\n    type: String,\n    default: 'https://docs.frappe.io/crm',\n  },\n})\n\nconst searchInput = ref(null)\nconst search = ref('')\nconst articles = defineModel()\n\nconst parsedArticles = computed(() => {\n  if (!search.value) return articles.value\n\n  return articles.value.filter((a) => {\n    const filteredSubArticles = a.subArticles.filter((subArticle) => {\n      return subArticle.title.toLowerCase().includes(search.value.toLowerCase())\n    })\n\n    if (\n      a.title.toLowerCase().includes(search.value.toLowerCase()) ||\n      filteredSubArticles.length > 0\n    ) {\n      return {\n        ...a,\n        subArticles: filteredSubArticles,\n      }\n    }\n\n    return false\n  })\n})\n\nfunction openDocs() {\n  window.open(props.docsLink, '_blank')\n}\n\nfunction openDoc(name) {\n  window.open(`${props.docsLink}/${name}`, '_blank')\n}\n\nonMounted(() => {\n  searchInput.value?.el?.focus()\n})\n</script>\n","<template>\n  <div\n    v-show=\"show\"\n    class=\"fixed z-50 right-0 w-80 h-[calc(100%_-_80px)] text-ink-gray-9 m-5 mt-[62px] p-3 flex gap-2 flex-col justify-between rounded-lg bg-surface-modal shadow-2xl\"\n    :class=\"{ 'top-[calc(100%_-_120px)] border': minimize }\"\n    @click.stop\n  >\n    <div class=\"flex items-center justify-between px-2 py-1.5\">\n      <div class=\"text-base font-medium\">\n        {{ headingTitle }}\n      </div>\n      <div class=\"flex gap-1\">\n        <Dropdown v-if=\"options.length\" :options=\"options\">\n          <Button variant=\"ghost\" icon=\"more-horizontal\" />\n        </Dropdown>\n        <Button @click=\"minimize = !minimize\" variant=\"ghost\">\n          <component\n            :is=\"minimize ? MaximizeIcon : MinimizeIcon\"\n            class=\"h-3.5\"\n          />\n        </Button>\n        <Button variant=\"ghost\" @click=\"show = false\">\n          <FeatherIcon name=\"x\" class=\"h-3.5\" />\n        </Button>\n      </div>\n    </div>\n    <div class=\"h-full overflow-hidden flex flex-col\">\n      <OnboardingSteps\n        v-if=\"!isOnboardingStepsCompleted && !showHelpCenter\"\n        :title=\"title\"\n        :logo=\"logo\"\n        :afterSkip=\"afterSkip\"\n        :afterSkipAll=\"afterSkipAll\"\n        :afterReset=\"afterReset\"\n        :afterResetAll=\"afterResetAll\"\n        :appName=\"appName\"\n      />\n      <HelpCenter\n        v-else-if=\"showHelpCenter\"\n        v-model=\"articles\"\n        :docsLink=\"docsLink\"\n      />\n    </div>\n    <div v-for=\"item in footerItems\" class=\"flex flex-col gap-1.5\">\n      <div\n        class=\"w-full flex gap-2 items-center hover:bg-surface-gray-1 text-ink-gray-8 rounded px-2 py-1.5 cursor-pointer\"\n        @click=\"item.onClick\"\n      >\n        <component :is=\"item.icon\" class=\"h-4\" />\n        <div class=\"text-base\">{{ item.label }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport Dropdown from '../../src/components/Dropdown/Dropdown.vue'\nimport Button from '../../src/components/Button/Button.vue'\nimport StepsIcon from '../Icons/StepsIcon.vue'\nimport MinimizeIcon from '../Icons/MinimizeIcon.vue'\nimport MaximizeIcon from '../Icons/MaximizeIcon.vue'\nimport HelpIcon from '../Icons/HelpIcon.vue'\nimport OnboardingSteps from '../Onboarding/OnboardingSteps.vue'\nimport HelpCenter from '../HelpCenter/HelpCenter.vue'\nimport { useOnboarding } from '../Onboarding/onboarding'\nimport { showHelpCenter } from '../HelpCenter/helpCenter'\nimport { minimize } from '../Help/help'\nimport { onMounted, computed } from 'vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\n\nconst props = defineProps({\n  appName: {\n    type: String,\n    default: 'frappecrm',\n  },\n  title: {\n    type: String,\n    default: 'Frappe CRM',\n  },\n  logo: {\n    type: Object,\n    required: true,\n  },\n  afterSkip: {\n    type: Function,\n    default: () => {},\n  },\n  afterSkipAll: {\n    type: Function,\n    default: () => {},\n  },\n  afterReset: {\n    type: Function,\n    default: () => {},\n  },\n  afterResetAll: {\n    type: Function,\n    default: () => {},\n  },\n  docsLink: {\n    type: String,\n    default: 'https://docs.frappe.io/crm',\n  },\n})\n\nconst { syncStatus, resetAll, isOnboardingStepsCompleted } = useOnboarding(\n  props.appName,\n)\n\nconst show = defineModel()\nconst articles = defineModel('articles')\n\nconst headingTitle = computed(() => {\n  if (!isOnboardingStepsCompleted.value && !showHelpCenter.value) {\n    return 'Getting started'\n  } else if (showHelpCenter.value) {\n    return 'Help center'\n  }\n})\n\nconst options = computed(() => {\n  let items = [\n    {\n      icon: StepsIcon,\n      label: 'Reset onboarding steps',\n      onClick: resetOnboardingSteps,\n      condition: () => showHelpCenter.value && isOnboardingStepsCompleted.value,\n    },\n  ]\n\n  return items.filter((item) => item.condition())\n})\n\nconst footerItems = computed(() => {\n  let items = [\n    {\n      icon: HelpIcon,\n      label: 'Help centre',\n      onClick: () => {\n        syncStatus()\n        showHelpCenter.value = true\n      },\n      condition: !isOnboardingStepsCompleted.value && !showHelpCenter.value,\n    },\n    {\n      icon: StepsIcon,\n      label: 'Getting started',\n      onClick: () => (showHelpCenter.value = false),\n      condition: showHelpCenter.value && !isOnboardingStepsCompleted.value,\n    },\n  ]\n\n  return items.filter((item) => item.condition)\n})\n\nfunction resetOnboardingSteps() {\n  resetAll()\n  isOnboardingStepsCompleted.value = false\n  showHelpCenter.value = false\n}\n\nonMounted(() => {\n  if (isOnboardingStepsCompleted.value) {\n    showHelpCenter.value = true\n  }\n})\n</script>\n","<template>\n  <div\n    v-if=\"!isSidebarCollapsed\"\n    class=\"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-modal text-base\"\n  >\n    <div\n      v-if=\"stepsCompleted != totalSteps\"\n      class=\"inline-flex text-ink-gray-9 gap-2\"\n    >\n      <StepsIcon class=\"h-4 my-0.5 shrink-0\" />\n      <div class=\"flex flex-col text-p-sm gap-0.5\">\n        <div class=\"font-medium\">\n          {{ 'Getting started' }}\n        </div>\n        <div class=\"text-ink-gray-7\">\n          {{ `${stepsCompleted}/${totalSteps} steps` }}\n        </div>\n      </div>\n    </div>\n    <div v-else class=\"flex flex-col gap-1\">\n      <div class=\"flex items-center justify-between gap-1\">\n        <div class=\"flex items-center gap-2 shrink-0\">\n          <StepsIcon class=\"h-4 my-0.5\" />\n          <div class=\"text-ink-gray-9 font-medium\">\n            {{ 'You are all set' }}\n          </div>\n        </div>\n        <FeatherIcon\n          name=\"x\"\n          class=\"h-4 cursor-pointer\"\n          @click=\"\n            () => {\n              showHelpCenter = true\n              isOnboardingStepsCompleted = true\n            }\n          \"\n        />\n      </div>\n      <div class=\"text-p-sm text-ink-gray-7\">\n        {{ 'All steps are completed successfully' }}\n      </div>\n    </div>\n    <Button\n      v-if=\"stepsCompleted != totalSteps\"\n      :label=\"stepsCompleted == 0 ? 'Start now' : 'Continue'\"\n      theme=\"blue\"\n      @click=\"openOnboarding\"\n    >\n      <template #prefix>\n        <FeatherIcon name=\"chevrons-right\" class=\"size-4\" />\n      </template>\n    </Button>\n  </div>\n  <Button v-else-if=\"stepsCompleted != totalSteps\" @click=\"openOnboarding\">\n    <StepsIcon class=\"h-4 my-0.5 shrink-0\" />\n  </Button>\n</template>\n<script setup>\nimport StepsIcon from '../Icons/StepsIcon.vue'\nimport Button from '../../src/components/Button/Button.vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\nimport { useOnboarding } from './onboarding'\nimport { showHelpCenter } from '../HelpCenter/helpCenter'\nimport { showHelpModal, minimize } from '../Help/help'\n\nconst props = defineProps({\n  isSidebarCollapsed: {\n    type: Boolean,\n    default: false,\n  },\n  appName: {\n    type: String,\n    default: 'frappecrm',\n  },\n})\n\nconst { stepsCompleted, totalSteps, isOnboardingStepsCompleted } =\n  useOnboarding(props.appName)\n\nconst openOnboarding = () => {\n  minimize.value = false\n  showHelpModal.value = true\n}\n</script>\n","<template>\n  <Dialog v-model=\"show\" :options=\"options\">\n    <template #boday-header>\n      <slot name=\"body-header\"></slot>\n    </template>\n    <template #body-content>\n      <slot>\n        <div class=\"flex flex-col gap-2 text-ink-gray-9 text-base\">\n          <div v-if=\"currentStep.message\">{{ currentStep.message }}</div>\n          <video\n            v-if=\"currentStep.videoURL\"\n            class=\"w-full rounded\"\n            controls\n            autoplay\n            muted\n          >\n            <source :src=\"currentStep.videoURL\" type=\"video/mp4\" />\n            Your browser does not support the video tag.\n          </video>\n        </div>\n      </slot>\n    </template>\n    <template #actions>\n      <slot name=\"actions\"></slot>\n    </template>\n  </Dialog>\n</template>\n<script setup>\nimport { Dialog } from '../../src/components/Dialog'\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  currentStep: {\n    type: Object,\n    default: {\n      title: 'Title',\n      message: 'Message',\n      videoURL: '',\n      buttonLabel: 'Button Label',\n      onClick: () => {},\n    },\n  },\n  dialogOptions: {\n    type: Object,\n    default: () => ({}),\n  },\n})\n\nconst show = defineModel()\n\nconst options = computed(() => {\n  if (props.dialogOptions && Object.keys(props.dialogOptions).length) {\n    return props.dialogOptions\n  }\n\n  return {\n    title: props.currentStep.title,\n    size: '2xl',\n    actions: [\n      {\n        label: props.currentStep.buttonLabel,\n        variant: 'solid',\n        onClick: props.currentStep.onClick,\n      },\n    ],\n  }\n})\n</script>\n","<template>\n  <svg\n    width=\"17\"\n    height=\"16\"\n    viewBox=\"0 0 17 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M6.2641 1C5.5758 1 4.97583 1.46845 4.80889 2.1362L3.57555 7.06953C3.33887 8.01625 4.05491 8.93333 5.03077 8.93333H7.50682L6.72168 14.4293C6.68838 14.6624 6.82229 14.8872 7.04319 14.9689C7.26408 15.0507 7.51204 14.9671 7.63849 14.7684L13.2161 6.00354C13.6398 5.33782 13.1616 4.46667 12.3725 4.46667H9.59038L10.3017 1.62127C10.3391 1.4719 10.3055 1.31365 10.2108 1.19229C10.116 1.07094 9.97063 1 9.81666 1H6.2641ZM5.77903 2.37873C5.83468 2.15615 6.03467 2 6.2641 2H9.17627L8.46492 4.8454C8.42758 4.99477 8.46114 5.15302 8.55589 5.27437C8.65064 5.39573 8.79602 5.46667 8.94999 5.46667H12.3725L8.0395 12.2757L8.5783 8.50404C8.5988 8.36056 8.55602 8.21523 8.46105 8.10573C8.36608 7.99623 8.22827 7.93333 8.08332 7.93333H5.03077C4.70548 7.93333 4.4668 7.62764 4.5457 7.31207L5.77903 2.37873Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div\n    v-if=\"!isSidebarCollapsed && showBanner\"\n    class=\"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-modal text-base\"\n  >\n    <div class=\"flex flex-col gap-1\">\n      <div class=\"inline-flex text-ink-gray-9 gap-2 items-center font-medium\">\n        <FeatherIcon class=\"h-4\" name=\"info\" />\n        {{ trialTitle }}\n      </div>\n      <div class=\"text-ink-gray-7 text-p-sm\">\n        {{ trialMessage }}\n      </div>\n    </div>\n    <Button :label=\"'Upgrade plan'\" theme=\"blue\" @click=\"upgradePlan\">\n      <template #prefix>\n        <LightningIcon class=\"size-4\" />\n      </template>\n    </Button>\n  </div>\n  <Button v-else-if=\"isSidebarCollapsed && showBanner\" @click=\"upgradePlan\">\n    <LightningIcon class=\"h-4 my-0.5 shrink-0\" />\n  </Button>\n</template>\n<script setup>\nimport LightningIcon from '../Icons/LightningIcon.vue'\nimport FeatherIcon from '../../src/components/FeatherIcon.vue'\nimport { Button } from '../../src/components/Button'\nimport { createResource } from '../../src/resources'\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  isSidebarCollapsed: {\n    type: Boolean,\n    default: false,\n  },\n  afterUpgrade: {\n    type: Function,\n    default: () => {},\n  },\n})\n\nconst trialEndDays = ref(0)\nconst showBanner = ref(false)\nconst baseEndpoint = ref('https://frappecloud.com')\nconst siteName = ref('')\n\nconst trialTitle = computed(() => {\n  return trialEndDays.value > 1\n    ? 'Trial ends in ' + trialEndDays.value + ' days'\n    : 'Trial ends tomorrow'\n})\n\nconst trialMessage = 'Upgrade to a paid plan for uninterrupted services'\n\ncreateResource({\n  url: 'frappe.integrations.frappe_providers.frappecloud_billing.current_site_info',\n  cache: 'current_site_info_data',\n  auto: true,\n  onSuccess: (data) => {\n    trialEndDays.value = calculateTrialEndDays(data.trial_end_date)\n    baseEndpoint.value = data.base_url\n    siteName.value = data.site_name\n    showBanner.value = data.plan.is_trial_plan && trialEndDays.value > 0\n  },\n})\n\nfunction calculateTrialEndDays(trialEndDate) {\n  if (!trialEndDate) return 0\n\n  trialEndDate = new Date(trialEndDate)\n  const today = new Date()\n  const diffTime = trialEndDate - today\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n  return diffDays\n}\n\nfunction upgradePlan() {\n  window.open(\n    `${baseEndpoint.value}/dashboard/sites/${siteName.value}`,\n    '_blank',\n  )\n  props.afterUpgrade?.()\n}\n</script>\n","<template>\n  <div class=\"flex border-b pr-5\">\n    <div id=\"app-header\" class=\"flex-1 w-full\"></div>\n  </div>\n</template>\n\n<script setup></script>\n","import { isCustomerPortal } from \"@/utils\";\nimport { createListResource, createResource } from \"frappe-ui\";\nimport { reactive, ref, watch } from \"vue\";\n\nconst PAGE_LENGTH = 20;\n\nexport const agents = createListResource({\n  doctype: \"HD Agent\",\n  fields: [\"name\", \"user_image\", \"agent_name\", \"is_active\"],\n  start: 0,\n  pageLength: PAGE_LENGTH,\n  orderBy: \"creation desc\",\n  auto: !isCustomerPortal.value,\n});\n\nexport const activeFilter = ref(\"Active\");\nexport const showNewAgentsDialog = ref(false);\n\nexport const useAgents = () => {\n  const search = ref(\"\");\n  const filters = reactive({});\n  watch(search, (newValue) => {\n    agents.filters = {\n      agent_name: [\"like\", `%${newValue}%`],\n      ...filters,\n    };\n    if (!newValue) {\n      agents.filters = {\n        ...filters,\n      };\n      agents.start = 0;\n      agents.pageLength = PAGE_LENGTH;\n    }\n    agents.reload();\n  });\n  watch(\n    filters,\n    (newVal) => {\n      agents.filters = {\n        ...agents.filters,\n        ...newVal,\n      };\n      agents.start = 0;\n      agents.pageLength = PAGE_LENGTH;\n      agents.reload();\n    },\n    { deep: true }\n  );\n  watch(\n    activeFilter,\n    (newVal) => {\n      if (newVal === \"Active\") {\n        agents.filters = {\n          ...agents.filters,\n          is_active: 1,\n        };\n      } else if (newVal === \"Inactive\") {\n        agents.filters = {\n          ...agents.filters,\n          is_active: 0,\n        };\n      } else {\n        agents.filters = {\n          ...agents.filters,\n          is_active: [\"in\", [0, 1]],\n        };\n      }\n      agents.start = 0;\n      agents.pageLength = PAGE_LENGTH;\n      agents.reload();\n    },\n    { immediate: true }\n  );\n\n  async function updateAgent(agent: string, isActive: boolean | number) {\n    const res = createResource({\n      url: \"frappe.client.set_value\",\n      params: {\n        doctype: \"HD Agent\",\n        name: agent,\n        fieldname: \"is_active\",\n        value: isActive,\n      },\n    });\n    await res.submit();\n  }\n\n  return {\n    search,\n    agents,\n    filters,\n    updateAgent,\n  };\n};\n","<template>\n  <Dialog\n    :options=\"{ title: props.title }\"\n    :model-value=\"show\"\n    @update:modelValue=\"$emit('update:modelValue', $event)\"\n    @close=\"close()\"\n  >\n    <template #body-content>\n      <div class=\"space-y-3\">\n        <form\n          @submit.prevent=\"onSubmit\"\n          class=\"flex flex-row items-center space-x-2\"\n        >\n          <Input\n            id=\"searchInput\"\n            class=\"w-full\"\n            type=\"text\"\n            v-model=\"searchInput\"\n            placeholder=\"Type emails\"\n            @input=\"(val) => onSearchInputChange(val)\"\n          />\n          <Button\n            appearance=\"primary\"\n            type=\"submit\"\n            :disabled=\"!currentInputIsValidEmail\"\n            @click=\"\n              () => {\n                addToInviteQueue(searchInput);\n                clearSearchInput();\n              }\n            \"\n          >\n            Add\n          </Button>\n        </form>\n        <div\n          class=\"flex max-h-[300px] min-h-[100px] flex-col overflow-y-auto rounded border bg-gray-100 px-2\"\n          v-if=\"inviteQueue.length\"\n        >\n          <ul class=\"flex flex-wrap gap-2 py-2\">\n            <li\n              class=\"flex items-center space-x-2 rounded bg-white p-1 shadow\"\n              v-for=\"email in inviteQueue.slice().reverse()\"\n              :key=\"email\"\n              :title=\"email\"\n            >\n              <span class=\"ml-2 text-base\">\n                {{ email }}\n              </span>\n              <button\n                class=\"grid h-4 w-4 place-items-center rounded text-gray-700 hover:bg-gray-300\"\n                @click=\"removeEmailFromQueue(email)\"\n              >\n                <FeatherIcon class=\"w-3\" name=\"x\" />\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </template>\n    <template #actions v-if=\"inviteQueue.length\">\n      <div class=\"flex justify-end items-center\">\n        <Button\n          :disabled=\"inviteQueue.length == 0\"\n          appearance=\"primary\"\n          @click=\"sendInvites\"\n          class=\"mr-2\"\n          variant=\"solid\"\n          :loading=\"sentInvitesResource.loading\"\n          >Send Invites\n        </Button>\n        <Button @click=\"removeAllEmailFromQueue\"> Clear All </Button>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport { useAuthStore } from \"@/stores/auth\";\nimport { createResource, Dialog, FeatherIcon, Input, toast } from \"frappe-ui\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\nimport { ref } from \"vue\";\n\nconst props = defineProps({\n  show: Boolean,\n  title: String,\n});\n\nconst emit = defineEmits([\"close\", \"update:modelValue\", \"onAgentsInvited\"]);\n\n// State\nconst searchInput = ref(\"\");\nconst inviteQueue = ref([]);\nconst currentInputIsValidEmail = ref(false);\n\n// Stores and utilities\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\nconst { isManager } = useAuthStore();\n\n// Methods\nconst testEmailRegex = (val) => {\n  let emailRegex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n  return emailRegex.test(val);\n};\n\nconst onSearchInputChange = (val) => {\n  val = val.replaceAll(\" \", \"\");\n  if (val == \"\") {\n    document.getElementById(\"searchInput\").value = \"\";\n    return;\n  }\n\n  const valStr = val;\n  const inputs = val.split(\",\");\n\n  let clearInputFlag = false;\n  currentInputIsValidEmail.value = false;\n\n  inputs.forEach((input) => {\n    if (testEmailRegex(input)) {\n      if (inputs.length > 1) {\n        addToInviteQueue(input);\n        clearInputFlag = true;\n      } else {\n        if (valStr.includes(\",\")) {\n          addToInviteQueue(input);\n          clearInputFlag = true;\n        } else {\n          currentInputIsValidEmail.value = true;\n        }\n      }\n    }\n  });\n\n  if (clearInputFlag) {\n    clearSearchInput();\n  }\n};\n\nconst addToInviteQueue = (email) => {\n  inviteQueue.value = [...new Set([...inviteQueue.value, email])];\n};\n\nconst removeEmailFromQueue = (email) => {\n  inviteQueue.value = inviteQueue.value.filter((item) => item !== email);\n};\n\nconst removeAllEmailFromQueue = () => {\n  inviteQueue.value = [];\n};\n\nconst clearSearchInput = () => {\n  currentInputIsValidEmail.value = false;\n  searchInput.value = \"\";\n\n  const input = document.getElementById(\"searchInput\");\n  input.value = \"\";\n  input.focus();\n};\n\nconst close = () => {\n  searchInput.value = \"\";\n  inviteQueue.value = [];\n  emit(\"close\");\n};\n\n// API Resources\nconst sentInvitesResource = createResource({\n  url: \"helpdesk.api.agent.sent_invites\",\n  onSuccess: (res) => {\n    emit(\"onAgentsInvited\", inviteQueue.value);\n    currentInputIsValidEmail.value = false;\n    searchInput.value = \"\";\n    inviteQueue.value = [];\n\n    if (isManager) {\n      updateOnboardingStep(\"invite_agents\");\n    }\n\n    toast.success(\"Invites sent successfully!\");\n\n    close();\n  },\n});\n\nconst sendInvites = () => {\n  sentInvitesResource.submit({\n    emails: inviteQueue.value,\n  });\n};\n</script>\n","<template>\n  <div class=\"flex items-start justify-between\">\n    <div class=\"flex flex-col gap-2\">\n      <slot name=\"title\">\n        <h1 class=\"text-lg font-semibold text-ink-gray-8\">\n          {{ title }}\n        </h1>\n      </slot>\n      <slot name=\"description\">\n        <p class=\"text-sm text-gray-700 max-w-md leading-5 text-ink-gray-6\">\n          {{ description }}\n        </p>\n      </slot>\n    </div>\n    <slot name=\"actions\" />\n  </div>\n  <div class=\"mt-6\" v-if=\"Boolean($slots['bottom-section'])\">\n    <slot name=\"bottom-section\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\ndefineProps({\n  title: {\n    type: String,\n  },\n  description: {\n    type: String,\n  },\n});\n</script>\n","<template>\n  <div class=\"flex items-center justify-between py-2\" v-bind:class=\"$attrs\">\n    <div class=\"flex items-center space-x-3 w-4/5\">\n      <Avatar :image=\"agent.user_image\" :label=\"agent.agent_name\" size=\"xl\" />\n      <div>\n        <div class=\"flex items-center gap-2\">\n          <p class=\"text-base\">\n            {{ agent.agent_name }}\n          </p>\n          <Badge\n            v-if=\"showStatus\"\n            :label=\"'Inactive'\"\n            :theme=\"'gray'\"\n            :class=\"\n              showStatus && !agent.is_active ? 'opacity-100' : 'opacity-0'\n            \"\n            variant=\"subtle\"\n          />\n        </div>\n        <div class=\"text-base text-ink-gray-6 mt-1\">\n          {{ agent.name }}\n        </div>\n      </div>\n    </div>\n    <!-- slot here -->\n    <slot name=\"right\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Avatar } from \"frappe-ui\";\n\ndefineProps({\n  agent: {\n    type: Object,\n    required: true,\n  },\n  showStatus: {\n    type: Boolean,\n    default: false,\n  },\n});\n</script>\n\n<style scoped></style>\n","<template>\n  <div v-bind:class=\"$attrs.class\" class=\"px-10 py-8\">\n    <!-- Header -->\n    <SettingsLayoutHeader\n      title=\"Agents\"\n      description=\"Add, manage agents and assign roles to them.\"\n    >\n      <template #actions>\n        <Button\n          @click=\"() => (showNewAgentsDialog = !showNewAgentsDialog)\"\n          label=\"New\"\n          variant=\"solid\"\n        >\n          <template #prefix>\n            <LucidePlus class=\"h-4 w-4 stroke-1.5\" />\n          </template>\n        </Button>\n      </template>\n      <template #bottom-section>\n        <div class=\"flex items-center gap-2\">\n          <FormControl\n            v-model=\"search\"\n            :placeholder=\"'Search'\"\n            type=\"text\"\n            :debounce=\"300\"\n            class=\"w-60\"\n          >\n            <template #prefix>\n              <LucideSearch class=\"h-4 w-4 text-gray-500\" />\n            </template>\n          </FormControl>\n          <Dropdown :options=\"dropdownOptions\" placement=\"right\">\n            <template #default=\"{ open }\">\n              <Button\n                :label=\"activeFilter\"\n                class=\"flex items-center justify-between w-[90px]\"\n              >\n                <template #suffix>\n                  <FeatherIcon\n                    :name=\"open ? 'chevron-up' : 'chevron-down'\"\n                    class=\"h-4\"\n                  />\n                </template>\n              </Button>\n            </template>\n            <template #item=\"{ item, active }\">\n              <button\n                class=\"group flex text-ink-gray-6 gap-4 h-7 w-full justify-between items-center rounded px-2 text-base\"\n                :class=\"{ 'bg-surface-gray-3': active }\"\n                @click=\"item.onClick\"\n              >\n                <div class=\"flex items-center justify-between flex-1\">\n                  <span class=\"whitespace-nowrap\">\n                    {{ item.label }}\n                  </span>\n                  <FeatherIcon\n                    v-if=\"activeFilter === item.label\"\n                    name=\"check\"\n                    class=\"size-4 text-ink-gray-7\"\n                  />\n                </div>\n              </button>\n            </template>\n          </Dropdown>\n        </div>\n      </template>\n    </SettingsLayoutHeader>\n\n    <!-- loading state -->\n    <div v-if=\"agents.loading\" class=\"flex mt-28 justify-between w-full h-full\">\n      <Button\n        :loading=\"agents.loading\"\n        variant=\"ghost\"\n        class=\"w-full\"\n        size=\"2xl\"\n      />\n    </div>\n    <!-- Empty State -->\n    <div\n      v-if=\"!agents.loading && !agents.data?.length\"\n      class=\"flex mt-28 justify-between w-full h-full\"\n    >\n      <p class=\"text-sm text-gray-500 w-full flex justify-center\">\n        No agents found\n      </p>\n    </div>\n    <!-- Agent List -->\n    <div\n      class=\"overflow-y-auto w-full hide-scrollbar mt-4\"\n      v-if=\"!agents.loading && Boolean(agents.data?.length)\"\n    >\n      <div v-for=\"(agent, idx) in agents.data\" :key=\"agent.agent_name\">\n        <AgentCard\n          :agent=\"agent\"\n          :show-status=\"true\"\n          :class=\"idx !== agents.data.length - 1 && 'border-b '\"\n        >\n          <template #right>\n            <Dropdown\n              v-if=\"isManager\"\n              class=\"w-1/5 flex justify-end items-center\"\n              :options=\"getRoles(agent.name)\"\n              :label=\"getUserRole(agent.name)\"\n              :button=\"{\n                label: getUserRole(agent.name),\n                iconRight: 'chevron-down',\n              }\"\n              placement=\"right\"\n            />\n            <Dropdown\n              :options=\"getOptions(agent)\"\n              placement=\"right\"\n              :key=\"agent\"\n              class=\"ml-2\"\n            >\n              <Button>\n                <template #icon>\n                  <IconMoreHorizontal class=\"h-4 w-4\" />\n                </template>\n              </Button>\n            </Dropdown>\n          </template>\n        </AgentCard>\n      </div>\n      <!-- Load More Button -->\n      <div class=\"flex justify-center\">\n        <Button\n          v-if=\"!agents.loading && agents.hasNextPage\"\n          class=\"mt-3.5 p-2\"\n          @click=\"() => agents.next()\"\n          :loading=\"agents.loading\"\n          label=\"Load More\"\n          icon-left=\"refresh-cw\"\n        />\n      </div>\n    </div>\n  </div>\n  <AddNewAgentsDialog\n    :title=\"__('Add Agents')\"\n    @close=\"showNewAgentsDialog = false\"\n    :modelValue=\"showNewAgentsDialog\"\n    :show=\"showNewAgentsDialog\"\n    @update:modelValue=\"showNewAgentsDialog = $event\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useUserStore } from \"@/stores/user\";\nimport { call, FormControl, toast } from \"frappe-ui\";\nimport { h } from \"vue\";\nimport LucideCheck from \"~icons/lucide/check\";\nimport IconMoreHorizontal from \"~icons/lucide/more-horizontal\";\nimport AgentCard from \"./AgentCard.vue\";\nimport { activeFilter, showNewAgentsDialog, useAgents } from \"./agents\";\n\nconst { getUserRole, updateUserRoleCache } = useUserStore();\nconst { isManager } = useAuthStore();\n\nconst agentStore = useAgents();\nconst search = agentStore.search;\nconst agents = agentStore.agents;\n\nfunction getRoles(agent: string) {\n  const agentRole = getUserRole(agent);\n  const roles = [\n    {\n      label: \"Agent\",\n      component: (props) =>\n        RoleOption({\n          role: \"Agent\",\n          active: props.active,\n          selected: agentRole === \"Agent\",\n          onClick: () => {\n            updateRole(agent, \"Agent\");\n          },\n        }),\n    },\n  ];\n  if (isManager) {\n    roles.unshift({\n      label: \"Manager\",\n      component: (props) =>\n        RoleOption({\n          role: \"Manager\",\n          active: props.active,\n          selected: agentRole === \"Manager\",\n          onClick: () => {\n            updateRole(agent, \"Manager\");\n          },\n        }),\n    });\n  }\n\n  return roles;\n}\nfunction RoleOption({ active, role, onClick, selected }) {\n  return h(\n    \"button\",\n    {\n      class: [\n        active ? \"bg-surface-gray-2\" : \"text-ink-gray-7\",\n        \"group flex w-full justify-between items-center rounded-md px-2 py-2 text-base\",\n      ],\n      onClick: !selected ? onClick : null,\n    },\n    [\n      h(\"span\", { class: \"whitespace-nowrap\" }, role),\n      selected\n        ? h(LucideCheck, {\n            class: [\"h-4 w-4 shrink-0 text-ink-gray-7\"],\n            \"aria-hidden\": true,\n          })\n        : null,\n    ]\n  );\n}\nfunction updateRole(agent: string, newRole: string) {\n  const currentRole = getUserRole(agent);\n  if (currentRole === newRole) {\n    return;\n  }\n\n  call(\"helpdesk.helpdesk.doctype.hd_agent.hd_agent.update_agent_role\", {\n    user: agent,\n    new_role: newRole,\n  }).then(() => {\n    updateUserRoleCache(agent, newRole);\n    toast.success(`Role updated to ${newRole}`);\n  });\n}\n\nfunction getOptions(agent) {\n  let filters = agentStore.filters;\n  return [\n    {\n      label: \"Disable Agent\",\n      icon: \"x-circle\",\n      onClick: async () => {\n        await agentStore.updateAgent(agent.name, 0);\n        agents.reload({ ...filters, search: search.value });\n      },\n      condition: () => agent.is_active,\n    },\n    {\n      label: \"Enable Agent\",\n      icon: \"check-circle\",\n      onClick: async () => {\n        await agentStore.updateAgent(agent.name, 1);\n        agents.reload({ ...filters, search: search.value });\n      },\n      condition: () => !agent.is_active,\n    },\n  ];\n}\n\nconst dropdownOptions = [\n  {\n    label: \"All\",\n    onClick: () => {\n      agentStore.filters[\"is_active\"] = [\"in\", [0, 1]];\n      activeFilter.value = \"All\";\n    },\n  },\n  {\n    label: \"Active\",\n    onClick: () => {\n      agentStore.filters[\"is_active\"] = [\"=\", 1];\n      activeFilter.value = \"Active\";\n    },\n  },\n  {\n    label: \"Inactive\",\n    onClick: () => {\n      agentStore.filters[\"is_active\"] = [\"=\", 0];\n      activeFilter.value = \"Inactive\";\n    },\n  },\n];\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"flex flex-col gap-4 px-10 py-8\">\n    <SettingsLayoutHeader\n      title=\"Customise your Helpdesk\"\n      description=\"Customise Helpdesk with your own branding.\"\n    />\n\n    <!-- Brand Logo & Favicon -->\n    <div v-for=\"config in brandingConfig\" class=\"flex flex-col gap-2\">\n      <p class=\"text-sm text-gray-600\">{{ config.title }}</p>\n      <div class=\"flex gap-4 items-center\">\n        <Avatar\n          v-if=\"config.image && !config.loading\"\n          size=\"3xl\"\n          :image=\"config.image\"\n        />\n        <FileUploader\n          v-if=\"!config.image\"\n          :fileTypes=\"['image/*']\"\n          @success=\"\n            (file) => {\n              update(file.file_url, config.doctype, config.fieldname);\n            }\n          \"\n        >\n          <template #default=\"{ openFileSelector }\">\n            <Button\n              @click=\"openFileSelector()\"\n              iconLeft=\"upload\"\n              label=\"Upload Image\"\n              :loading=\"config.loading\"\n            />\n          </template>\n        </FileUploader>\n\n        <div v-else>\n          <Button\n            label=\"Remove\"\n            @click=\"update('', config.doctype, config.fieldname)\"\n            iconLeft=\"trash\"\n            :loading=\"config.loading\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useConfigStore } from \"@/stores/config\";\nimport { Avatar, createResource, FileUploader, toast } from \"frappe-ui\";\nimport { computed, reactive } from \"vue\";\nimport SettingsLayoutHeader from \"./SettingsLayoutHeader.vue\";\n\nconst config = useConfigStore();\n\nconst websiteSettings = createResource({\n  url: \"frappe.client.get_value\",\n  cache: true,\n  params: {\n    doctype: \"Website Settings\",\n    fieldname: \"favicon\",\n  },\n  onSuccess(data) {\n    state.brandFavicon = data.favicon;\n  },\n  auto: true,\n});\n\nconst state = reactive({\n  brandLogo: config.brandLogo,\n  brandFavicon: websiteSettings.data?.favicon || \"\",\n});\n\nconst loadingState = reactive({\n  logoLoading: false,\n  faviconLoading: false,\n});\n\nconst brandingConfig = computed(() => [\n  {\n    title: \"Brand Logo\",\n    image: state.brandLogo,\n    doctype: \"HD Settings\",\n    fieldname: \"brand_logo\",\n    loading: loadingState.logoLoading,\n  },\n  {\n    title: \"Brand Favicon\",\n    image: state.brandFavicon,\n    doctype: \"Website Settings\",\n    fieldname: \"favicon\",\n    loading: loadingState.faviconLoading,\n  },\n]);\n\nconst settingsResource = createResource({\n  url: \"frappe.client.set_value\",\n  debounce: 1000,\n  onSuccess(data) {\n    if (data.doctype === \"HD Settings\") {\n      handleLogoChange(data.brand_logo);\n    } else {\n      handleFaviconChange(data.favicon);\n    }\n  },\n  onError() {\n    toast.error(\"Failed to update, please try again\");\n    loadingState.logoLoading = false;\n    loadingState.faviconLoading = false;\n  },\n});\n\nfunction update(file: string, doctype: string, fieldname: string) {\n  settingsResource.submit({\n    doctype: doctype,\n    name: doctype,\n    fieldname: fieldname,\n    value: file,\n  });\n  doctype === \"HD Settings\"\n    ? (loadingState.logoLoading = true)\n    : (loadingState.faviconLoading = true);\n}\n\nfunction handleLogoChange(url: string) {\n  state.brandLogo = url;\n  loadingState.logoLoading = false;\n\n  toast.success(\"Brand logo updated\");\n}\n\nfunction handleFaviconChange(url: string) {\n  state.brandFavicon = url;\n  loadingState.faviconLoading = false;\n  toast.success(\"Favicon updated, please refresh the page to see the changes\");\n}\n</script>\n\n<style scoped></style>\n","export default \"__VITE_ASSET__ae42638a__\"","export default \"__VITE_ASSET__7cc0e65d__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAwMAAALUBAMAAAClQPMzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAACRQTFRFR3BMNqzpdMXvXb3tr+f3o+P1AJ/ZGoPjALPjmeH1dc3uBqfjM5e/jQAAAAZ0Uk5TAPVwwVLTgnc47wAABIBJREFUeNrt1rEJwlAYhdEHNpZa2UpwAxewcAXtbdJYpQo4gATsBVdwAOcTd/DyknC+9zY4XPhLkSRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJGmGL/cTazo5gOWR69KFWCBAgQIAAAQIECBAgmArBHYEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAIGLCIEVIECAAAECBC4iBFaAAAECBAgQuIgQWAECBAgQIEDgIkJgBQgQIECAAMHfO4U6X9tP4reb9aX77/v9rqtH8Ar1bEOl1oWgNsGAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAjqEfShbu9QTajD/AhS8yqzCwECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIKheE2p3DFUkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZLG2Bet4fvU2eVggAAAAABJRU5ErkJggg==\"","export default \"__VITE_ASSET__b6543205__\"","export default \"__VITE_ASSET__14b6d168__\"","export default \"__VITE_ASSET__d995bd23__\"","export default \"__VITE_ASSET__61f532d2__\"","import LogoGmail from \"@/assets/images/gmail.png\";\nimport LogoOutlook from \"@/assets/images/outlook.png\";\nimport LogoSendgrid from \"@/assets/images/sendgrid.png\";\nimport LogoSparkpost from \"@/assets/images/sparkpost.webp\";\nimport LogoYahoo from \"@/assets/images/yahoo.png\";\nimport LogoYandex from \"@/assets/images/yandex.png\";\nimport LogoFrappeMail from \"@/assets/images/frappe-mail.svg\";\nimport { RenderField, EmailService, EmailAccount } from \"@/types\";\nimport { validateEmailWithZod } from \"@/utils\";\nconst fixedFields: RenderField[] = [\n  {\n    label: \"Account Name\",\n    name: \"email_account_name\",\n    type: \"text\",\n    placeholder: \"Support / Sales\",\n  },\n  {\n    label: \"Email ID\",\n    name: \"email_id\",\n    type: \"email\",\n    placeholder: \"johndoe@example.com\",\n  },\n];\n\nexport const incomingOutgoingFields: RenderField[] = [\n  {\n    label: \"Enable Incoming\",\n    name: \"enable_incoming\",\n    type: \"checkbox\",\n    description:\n      \"If enabled, tickets can be created from the incoming emails on this account.\",\n  },\n  {\n    label: \"Enable Outgoing\",\n    name: \"enable_outgoing\",\n    type: \"checkbox\",\n    description: \"If enabled, outgoing emails can be sent from this account.\",\n  },\n  {\n    label: \"Default Incoming\",\n    name: \"default_incoming\",\n    type: \"checkbox\",\n    description:\n      \"If enabled, all replies to your company (eg: replies@yourcomany.com) will come to this account. Note: Only one account can be default incoming.\",\n  },\n  {\n    label: \"Default Outgoing\",\n    name: \"default_outgoing\",\n    type: \"checkbox\",\n    description:\n      \"If enabled, all outgoing emails will be sent from this account. Note: Only one account can be default outgoing.\",\n  },\n];\n\nexport const popularProviderFields = [\n  ...fixedFields,\n  {\n    label: \"Password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"********\",\n  },\n];\n\nexport const customProviderFields = [\n  ...fixedFields,\n  {\n    label: \"Frappe Mail Site\",\n    name: \"frappe_mail_site\",\n    type: \"text\",\n    placeholder: \"https://frappemail.com\",\n  },\n  {\n    label: \"API Key\",\n    name: \"api_key\",\n    type: \"text\",\n    placeholder: \"********\",\n  },\n  {\n    label: \"API Secret\",\n    name: \"api_secret\",\n    type: \"password\",\n    placeholder: \"********\",\n  },\n];\n\nexport const services: EmailService[] = [\n  {\n    name: \"GMail\",\n    icon: LogoGmail,\n    info: `Setting up GMail requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more`,\n    link: \"https://support.google.com/accounts/answer/185833\",\n    custom: false,\n  },\n  {\n    name: \"Outlook\",\n    icon: LogoOutlook,\n    info: `Setting up Outlook requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more`,\n    link: \"https://support.microsoft.com/en-us/account-billing/how-to-get-and-use-app-passwords-5896ed9b-4263-e681-128a-a6f2979a7944\",\n    custom: false,\n  },\n  {\n    name: \"Sendgrid\",\n    icon: LogoSendgrid,\n    info: `Setting up Sendgrid requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `,\n    link: \"https://sendgrid.com/docs/ui/account-and-settings/two-factor-authentication/\",\n    custom: false,\n  },\n  {\n    name: \"SparkPost\",\n    icon: LogoSparkpost,\n    info: `Setting up SparkPost requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `,\n    link: \"https://support.sparkpost.com/docs/my-account-and-profile/enabling-two-factor-authentication\",\n    custom: false,\n  },\n  {\n    name: \"Yahoo\",\n    icon: LogoYahoo,\n    info: `Setting up Yahoo requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `,\n    link: \"https://help.yahoo.com/kb/SLN15241.html\",\n    custom: false,\n  },\n  {\n    name: \"Yandex\",\n    icon: LogoYandex,\n    info: `Setting up Yandex requires you to enable two factor authentication\n\t\t  and app specific passwords. Read more `,\n    link: \"https://yandex.com/support/id/authorization/app-passwords.html\",\n    custom: false,\n  },\n  {\n    name: \"Frappe Mail\",\n    icon: LogoFrappeMail,\n    info: `Setting up Frappe Mail requires you to have an API key and API Secret of your email account. Read more `,\n    link: \"https://github.com/frappe/mail\",\n    custom: true,\n  },\n];\n\nexport const emailIcon = {\n  GMail: LogoGmail,\n  Outlook: LogoOutlook,\n  Sendgrid: LogoSendgrid,\n  SparkPost: LogoSparkpost,\n  Yahoo: LogoYahoo,\n  Yandex: LogoYandex,\n  \"Frappe Mail\": LogoFrappeMail,\n};\n\nexport function validateInputs(state: EmailAccount, isCustom: boolean) {\n  if (!state.email_account_name) {\n    return \"Account name is required\";\n  }\n  if (!state.email_id) {\n    return \"Email ID is required\";\n  }\n  const validEmail = validateEmailWithZod(state.email_id);\n  if (!validEmail) {\n    return \"Invalid email ID\";\n  }\n  if (!isCustom && !state.password) {\n    return \"Password is required\";\n  }\n  if (isCustom) {\n    if (!state.api_key) {\n      return \"API Key is required\";\n    }\n    if (!state.api_secret) {\n      return;\n    }\n  }\n  return \"\";\n}\n","<template>\n  <div\n    class=\"flex h-10 w-10 cursor-pointer items-center justify-center rounded-xl bg-gray-100 hover:bg-gray-200\"\n    :class=\"{ 'ring-2 ring-blue-500': selected }\"\n  >\n    <img :src=\"logo\" class=\"h-6 w-6\" />\n  </div>\n  <p v-if=\"serviceName\" class=\"text-center text-p-xs text-gray-700\">\n    {{ serviceName }}\n  </p>\n</template>\n\n<script setup lang=\"ts\">\ninterface P {\n  serviceName?: string;\n  logo?: string;\n  selected?: boolean;\n}\n\nwithDefaults(defineProps<P>(), {\n  serviceName: \"\",\n  selected: false,\n  logo: \"\",\n});\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"flex h-full flex-col gap-4\">\n    <!-- title and desc -->\n    <div role=\"heading\" aria-level=\"1\" class=\"flex flex-col gap-1\">\n      <h5 class=\"text-lg font-semibold pt-[5px]\">Setup Email</h5>\n      <p class=\"text-sm text-gray-600\">\n        Choose the email service provider you want to configure.\n      </p>\n    </div>\n    <!-- email service provider selection -->\n    <div class=\"flex flex-wrap items-center gap-4\">\n      <div\n        v-for=\"s in services\"\n        :key=\"s.name\"\n        class=\"min-w-3 flex flex-col items-center gap-1\"\n        @click=\"handleSelect(s)\"\n      >\n        <EmailProviderIcon\n          :service-name=\"s.name\"\n          :logo=\"s.icon\"\n          :selected=\"selectedService?.name === s?.name\"\n        />\n      </div>\n    </div>\n    <div v-if=\"selectedService\" class=\"flex flex-col gap-4\">\n      <!-- email service provider info -->\n      <div class=\"flex items-center gap-2 rounded-md p-2 ring-1 ring-gray-200\">\n        <CircleAlert\n          class=\"h-6 w-5 w-min-5 w-max-5 min-h-5 max-w-5 text-blue-500\"\n        />\n        <div class=\"text-wrap text-xs text-gray-700\">\n          {{ selectedService.info }}\n          <a\n            :href=\"selectedService.link\"\n            target=\"_blank\"\n            class=\"text-blue-500 underline\"\n            >here</a\n          >\n          .\n        </div>\n      </div>\n      <!-- service provider fields -->\n      <div class=\"flex flex-col gap-4\">\n        <div class=\"grid grid-cols-1 gap-4\">\n          <div\n            v-for=\"field in fields\"\n            :key=\"field.name\"\n            class=\"flex flex-col gap-1\"\n          >\n            <FormControl\n              v-model=\"state[field.name]\"\n              :label=\"field.label\"\n              :name=\"field.name\"\n              :type=\"field.type\"\n              :placeholder=\"field.placeholder\"\n            />\n          </div>\n        </div>\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div\n            v-for=\"field in incomingOutgoingFields\"\n            :key=\"field.name\"\n            class=\"flex flex-col gap-1\"\n          >\n            <FormControl\n              v-model=\"state[field.name]\"\n              :label=\"field.label\"\n              :name=\"field.name\"\n              :type=\"field.type\"\n            />\n            <p class=\"text-gray-500 text-p-sm\">{{ field.description }}</p>\n          </div>\n        </div>\n        <ErrorMessage v-if=\"error\" class=\"ml-1\" :message=\"error\" />\n      </div>\n    </div>\n    <!-- action button -->\n    <div v-if=\"selectedService\" class=\"mt-auto flex justify-between\">\n      <Button\n        label=\"Back\"\n        theme=\"gray\"\n        variant=\"outline\"\n        :disabled=\"addEmailRes.loading\"\n        @click=\"emit('update:step', 'email-list')\"\n      />\n      <Button\n        label=\"Create\"\n        variant=\"solid\"\n        :loading=\"addEmailRes.loading\"\n        @click=\"createEmailAccount\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EmailAccount, EmailService, EmailStep } from \"@/types\";\nimport { createResource, toast } from \"frappe-ui\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\nimport { computed, Reactive, reactive, Ref, ref } from \"vue\";\nimport CircleAlert from \"~icons/lucide/circle-alert\";\nimport {\n  customProviderFields,\n  incomingOutgoingFields,\n  popularProviderFields,\n  services,\n  validateInputs,\n} from \"./emailConfig\";\nimport EmailProviderIcon from \"./EmailProviderIcon.vue\";\n\ninterface E {\n  (event: \"update:step\", value: EmailStep): void;\n}\n\nconst emit = defineEmits<E>();\n\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\n\nconst state: Reactive<EmailAccount> = reactive({\n  service: \"\",\n  email_account_name: \"\",\n  email_id: \"\",\n  password: \"\",\n  api_key: \"\",\n  api_secret: \"\",\n  frappe_mail_site: \"\",\n  enable_incoming: false,\n  enable_outgoing: false,\n  default_incoming: false,\n  default_outgoing: false,\n});\n\nconst selectedService: Ref<EmailService> = ref(null);\nconst fields = computed(() =>\n  selectedService.value.custom ? customProviderFields : popularProviderFields\n);\n\nfunction handleSelect(service: EmailService) {\n  selectedService.value = service;\n  state.service = service.name;\n}\n\nconst addEmailRes = createResource({\n  url: \"helpdesk.api.settings.email.create_email_account\",\n  makeParams: (val: EmailAccount) => {\n    return {\n      ...val,\n    };\n  },\n  onSuccess: () => {\n    toast.success(\"Email account created\");\n    emit(\"update:step\", \"email-list\");\n    updateOnboardingStep(\"setup_email_account\");\n  },\n  onError: () => {\n    error.value = \"Failed to create email account, Invalid credentials\";\n  },\n});\n\nconst error = ref<string | undefined>();\nfunction createEmailAccount() {\n  error.value = validateInputs(state, selectedService.value.custom);\n  if (error.value) return;\n\n  addEmailRes.submit({ data: state });\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div\n    class=\"flex justify-between items-center border-gray-200 p-2 pl-0 cursor-pointer\"\n  >\n    <!-- avatar and name -->\n    <div class=\"flex justify-between items-center gap-2\">\n      <EmailProviderIcon :logo=\"emailIcon[emailAccount.service]\" />\n      <div>\n        <p class=\"text-gray-700 font-semibold\">\n          {{ emailAccount.email_account_name }}\n        </p>\n        <div class=\"text-sm text-gray-500\">{{ emailAccount.email_id }}</div>\n      </div>\n    </div>\n    <div>\n      <Badge\n        variant=\"subtle\"\n        :label=\"badgeTitleColor[0]\"\n        :theme=\"badgeTitleColor[1]\"\n      />\n    </div>\n    <!-- email id -->\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EmailAccount } from \"@/types\";\nimport { emailIcon } from \"./emailConfig\";\nimport EmailProviderIcon from \"./EmailProviderIcon.vue\";\nimport { computed } from \"vue\";\n\ninterface P {\n  emailAccount: EmailAccount;\n}\n\nconst props = defineProps<P>();\n\nconst badgeTitleColor = computed(() => {\n  if (\n    props.emailAccount.default_incoming &&\n    props.emailAccount.default_outgoing\n  ) {\n    const color =\n      props.emailAccount.enable_incoming && props.emailAccount.enable_outgoing\n        ? \"blue\"\n        : \"gray\";\n    return [\"Default Sending and Inbox\", color];\n  } else if (props.emailAccount.default_incoming) {\n    const color = props.emailAccount.enable_incoming ? \"blue\" : \"gray\";\n    return [\"Default Inbox\", color];\n  } else if (props.emailAccount.default_outgoing) {\n    const color = props.emailAccount.enable_outgoing ? \"blue\" : \"gray\";\n    return [\"Default Sending\", color];\n  } else {\n    const color = props.emailAccount.enable_incoming ? \"blue\" : \"gray\";\n    return [\"Inbox\", color];\n  }\n});\n</script>\n\n<style scoped></style>\n","<template>\n  <div>\n    <!-- header -->\n    <SettingsLayoutHeader\n      title=\"Email Accounts\"\n      description=\"Manage your email accounts and configure incoming and outgoing settings.\"\n    >\n      <template #actions>\n        <Button\n          label=\"Add Account\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"emit('update:step', 'email-add')\"\n          icon-left=\"plus\"\n        />\n      </template>\n    </SettingsLayoutHeader>\n    <!-- list accounts -->\n    <div\n      v-if=\"!emailAccounts.loading && Boolean(emailAccounts.data?.length)\"\n      class=\"mt-4 divide-y\"\n    >\n      <div v-for=\"emailAccount in emailAccounts.data\" :key=\"emailAccount.name\">\n        <EmailAccountCard\n          :emailAccount=\"emailAccount\"\n          @click=\"emit('update:step', 'email-edit', emailAccount)\"\n        />\n      </div>\n    </div>\n    <!-- fallback if no email accounts -->\n    <div v-else class=\"flex items-center justify-center h-64 text-gray-500\">\n      Please add an email account to continue.\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EmailAccount } from \"@/types\";\nimport { createListResource } from \"frappe-ui\";\nimport EmailAccountCard from \"./EmailAccountCard.vue\";\nimport SettingsLayoutHeader from \"./SettingsLayoutHeader.vue\";\n\nconst emit = defineEmits([\"update:step\"]);\n\nconst emailAccounts = createListResource({\n  doctype: \"Email Account\",\n  cache: [\"Email Accounts\"],\n  fields: [\"*\"],\n  filters: {\n    email_id: [\"Not Like\", \"%example%\"],\n  },\n  pageLength: 10,\n  auto: true,\n  onSuccess: (accounts: EmailAccount[]) => {\n    // convert 0 to false to handle boolean fields\n    accounts.forEach((account) => {\n      account.enable_incoming = Boolean(account.enable_incoming);\n      account.enable_outgoing = Boolean(account.enable_outgoing);\n      account.default_incoming = Boolean(account.default_incoming);\n      account.default_outgoing = Boolean(account.default_outgoing);\n    });\n  },\n});\n</script>\n","<template>\n  <div class=\"flex h-full flex-col gap-4\">\n    <!-- title and desc -->\n    <div\n      role=\"heading\"\n      aria-level=\"1\"\n      class=\"flex gap-1 justify-between pt-[5px]\"\n    >\n      <h5 class=\"text-lg font-semibold\">Edit Email</h5>\n    </div>\n    <div class=\"w-fit\">\n      <EmailProviderIcon\n        :logo=\"emailIcon[accountData.service]\"\n        :service-name=\"accountData.service\"\n      />\n    </div>\n    <!-- banner for setting up email account -->\n    <div class=\"flex items-center gap-2 rounded-md p-2 ring-1 ring-gray-200\">\n      <CircleAlert\n        class=\"h-6 w-5 w-min-5 w-max-5 min-h-5 max-w-5 text-ink-blue-2\"\n      />\n      <div class=\"text-wrap text-xs text-gray-700\">\n        {{ info.description }}\n        <a :href=\"info.link\" target=\"_blank\" class=\"text-ink-blue-2 underline\"\n          >here</a\n        >\n        .\n      </div>\n    </div>\n    <!-- fields -->\n    <div class=\"flex flex-col gap-4\">\n      <div class=\"grid grid-cols-1 gap-4\">\n        <div\n          v-for=\"field in fields\"\n          :key=\"field.name\"\n          class=\"flex flex-col gap-1\"\n        >\n          <FormControl\n            v-model=\"state[field.name]\"\n            :label=\"field.label\"\n            :name=\"field.name\"\n            :type=\"field.type\"\n            :placeholder=\"field.placeholder\"\n          />\n        </div>\n      </div>\n      <div class=\"grid grid-cols-2 gap-4\">\n        <div\n          v-for=\"field in incomingOutgoingFields\"\n          :key=\"field.name\"\n          class=\"flex flex-col gap-1\"\n        >\n          <FormControl\n            v-model=\"state[field.name]\"\n            :label=\"field.label\"\n            :name=\"field.name\"\n            :type=\"field.type\"\n          />\n          <p class=\"text-p-sm text-gray-500\">{{ field.description }}</p>\n        </div>\n      </div>\n      <ErrorMessage v-if=\"error\" class=\"ml-1\" :message=\"error\" />\n    </div>\n    <!-- action buttons -->\n    <div class=\"mt-auto flex justify-between\">\n      <Button\n        label=\"Back\"\n        theme=\"gray\"\n        variant=\"outline\"\n        :disabled=\"loading\"\n        @click=\"emit('update:step', 'email-list')\"\n      />\n      <div class=\"flex gap-2\">\n        <Button\n          label=\"Update Account\"\n          variant=\"solid\"\n          @click=\"updateAccount\"\n          :loading=\"loading\"\n        />\n        <Button\n          v-if=\"accountData.enable_incoming\"\n          label=\"Pull Emails\"\n          variant=\"subtle\"\n          @click=\"pullEmails\"\n          :loading=\"loadingPull\"\n          :disabled=\"loading\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EmailAccount, EmailStep } from \"@/types\";\nimport { useStorage } from \"@vueuse/core\";\nimport { call, toast } from \"frappe-ui\";\nimport { computed, h, reactive, ref } from \"vue\";\nimport CircleAlert from \"~icons/lucide/circle-alert\";\nimport EmailProviderIcon from \"./EmailProviderIcon.vue\";\nimport {\n  customProviderFields,\n  emailIcon,\n  incomingOutgoingFields,\n  popularProviderFields,\n  services,\n  validateInputs,\n} from \"./emailConfig\";\n\ninterface P {\n  accountData: EmailAccount;\n}\n\ninterface E {\n  (event: \"update:step\", step: EmailStep): void;\n}\n\nconst props = withDefaults(defineProps<P>(), {\n  accountData: null,\n});\n\nconst emit = defineEmits<E>();\n\nconst state = reactive({\n  email_account_name: props.accountData.email_account_name || \"\",\n  service: props.accountData.service || \"\",\n  email_id: props.accountData.email_id || \"\",\n  api_key: props.accountData?.api_key || null,\n  api_secret: props.accountData?.api_secret || null,\n  password: props.accountData?.password || null,\n  frappe_mail_site: props.accountData?.frappe_mail_site || \"\",\n  enable_incoming: props.accountData.enable_incoming || false,\n  enable_outgoing: props.accountData.enable_outgoing || false,\n  default_outgoing: props.accountData.default_outgoing || false,\n  default_incoming: props.accountData.default_incoming || false,\n});\n\nconst info = {\n  description: \"To know more about setting up email accounts, click\",\n  link: \"https://docs.erpnext.com/docs/user/manual/en/email-account\",\n};\n\nconst isCustomService = computed(() => {\n  return services.find((s) => s.name === props.accountData.service).custom;\n});\n\nconst fields = computed(() => {\n  if (isCustomService.value) {\n    return customProviderFields;\n  }\n  return popularProviderFields;\n});\n\nconst error = ref<string | undefined>();\nconst loading = ref(false);\nconst loadingPull = useStorage(\n  `loading-emails-${state.email_account_name}`,\n  false\n);\nasync function updateAccount() {\n  error.value = validateInputs(state, isCustomService.value);\n  if (error.value) return;\n  const old = { ...props.accountData };\n  const updatedEmailAccount = { ...state };\n\n  const nameChanged =\n    old.email_account_name !== updatedEmailAccount.email_account_name;\n  delete old.email_account_name;\n  delete updatedEmailAccount.email_account_name;\n\n  const otherFieldsChanged = isDirty.value;\n  const values = updatedEmailAccount;\n\n  if (!nameChanged && !otherFieldsChanged) {\n    toast.create({\n      message: \"No changes made\",\n      icon: h(CircleAlert, { class: \"text-ink-blue-2\" }),\n    });\n    return;\n  }\n\n  if (nameChanged) {\n    try {\n      loading.value = true;\n      await callRenameDoc();\n      succesHandler();\n    } catch (err) {\n      errorHandler();\n    }\n  }\n  if (otherFieldsChanged) {\n    try {\n      loading.value = true;\n      await callSetValue(values);\n      succesHandler();\n    } catch (err) {\n      errorHandler();\n    }\n  }\n}\n\nfunction pullEmails() {\n  loadingPull.value = true;\n\n  toast.create({\n    message: \"Pulling emails, this may take a few minutes.\",\n    icon: h(CircleAlert, { class: \"text-blue-500\" }),\n  });\n\n  call(\"frappe.email.doctype.email_account.email_account.pull_emails\", {\n    email_account: state.email_account_name,\n  })\n    .then(() => {\n      localStorage.removeItem(`loading-emails-${state.email_account_name}`);\n      loadingPull.value = null;\n      toast.success(\"Emails pulled successfully\");\n    })\n    .catch(() => {\n      localStorage.removeItem(`loading-emails-${state.email_account_name}`);\n      loadingPull.value = null;\n      error.value = \"Failed to pull emails\";\n    });\n}\n\nconst isDirty = computed(() => {\n  return (\n    state.email_id !== props.accountData.email_id ||\n    state.api_key !== props.accountData.api_key ||\n    state.api_secret !== props.accountData.api_secret ||\n    state.password !== props.accountData.password ||\n    state.enable_incoming !== props.accountData.enable_incoming ||\n    state.enable_outgoing !== props.accountData.enable_outgoing ||\n    state.default_outgoing !== props.accountData.default_outgoing ||\n    state.default_incoming !== props.accountData.default_incoming ||\n    state.frappe_mail_site !== props.accountData.frappe_mail_site\n  );\n});\n\nasync function callRenameDoc() {\n  const d = await call(\"frappe.client.rename_doc\", {\n    doctype: \"Email Account\",\n    old_name: props.accountData.email_account_name,\n    new_name: state.email_account_name,\n  });\n  return d;\n}\n\nasync function callSetValue(values) {\n  const d = await call(\"frappe.client.set_value\", {\n    doctype: \"Email Account\",\n    name: state.email_account_name,\n    fieldname: values,\n  });\n  return d.name;\n}\n\nfunction succesHandler() {\n  emit(\"update:step\", \"email-list\");\n  toast.success(\"Email account updated successfully\");\n}\n\nfunction errorHandler() {\n  loading.value = false;\n  error.value = \"Failed to update email account, Invalid credentials\";\n}\n</script>\n","<template>\n  <div class=\"flex-1 px-10 py-8\">\n    <div v-if=\"step === 'email-add'\" class=\"h-full\">\n      <EmailAdd @update:step=\"updateStep\" />\n    </div>\n    <div v-else-if=\"step === 'email-list'\" class=\"h-full\">\n      <EmailAccountList @update:step=\"updateStep\" />\n    </div>\n    <div v-else-if=\"step === 'email-edit'\" class=\"h-full\">\n      <EmailEdit :account-data=\"accountData\" @update:step=\"updateStep\" />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Ref, ref } from \"vue\";\nimport EmailAdd from \"./EmailAdd.vue\";\nimport EmailAccountList from \"./EmailAccountList.vue\";\nimport EmailEdit from \"./EmailEdit.vue\";\nimport { EmailAccount, EmailStep } from \"@/types\";\n\nconst step: Ref<EmailStep> = ref(\"email-list\");\nconst accountData: Ref<EmailAccount> = ref(null);\nfunction updateStep(newStep: EmailStep, data?: EmailAccount) {\n  step.value = newStep;\n  accountData.value = data;\n}\n</script>\n","import { validateConditions } from \"@/utils\";\nimport { ref } from \"vue\";\n\nconst defaultAssignmentDays = [\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n  \"Sunday\",\n];\n\nexport const assignmentRuleData = ref<Record<string, any> | null>({\n  assignCondition: \"\",\n  unassignCondition: \"\",\n  assignConditionJson: [],\n  unassignConditionJson: [],\n  rule: \"Round Robin\",\n  priority: 1,\n  users: [],\n  disabled: false,\n  description: \"\",\n  name: \"\",\n  assignmentRuleName: \"\",\n  assignmentDays: defaultAssignmentDays,\n});\n\nexport const resetAssignmentRuleData = () => {\n  assignmentRuleData.value = {\n    assignCondition: \"\",\n    unassignCondition: \"\",\n    assignConditionJson: [],\n    unassignConditionJson: [],\n    rule: \"Round Robin\",\n    priority: 1,\n    users: [],\n    disabled: false,\n    description: \"\",\n    name: \"\",\n    assignmentRuleName: \"\",\n    assignmentDays: defaultAssignmentDays,\n  };\n};\n\nexport const assignmentRulesActiveScreen = ref<{\n  screen: \"list\" | \"view\";\n  data: Record<string, any> | null;\n}>({ screen: \"list\", data: null });\n\nexport const validateAssignmentRule = (\n  key?: string,\n  skipConditionCheck = false\n) => {\n  const validateField = (field: string) => {\n    if (key && field !== key) return;\n\n    switch (field) {\n      case \"assignmentRuleName\":\n        if (assignmentRuleData.value.assignmentRuleName?.length == 0) {\n          assignmentRulesErrors.value.assignmentRuleName = \"Name is required\";\n        } else {\n          assignmentRulesErrors.value.assignmentRuleName = \"\";\n        }\n        break;\n      case \"description\":\n        assignmentRulesErrors.value.description =\n          assignmentRuleData.value.description?.length > 0\n            ? \"\"\n            : \"Description is required\";\n        break;\n      case \"assignCondition\":\n        if (skipConditionCheck) {\n          break;\n        }\n        assignmentRulesErrors.value.assignCondition =\n          assignmentRuleData.value.assignConditionJson?.length > 0\n            ? \"\"\n            : \"Assign condition is required\";\n\n        if (!validateConditions(assignmentRuleData.value.assignConditionJson)) {\n          assignmentRulesErrors.value.assignConditionError =\n            \"Assign conditions are invalid\";\n        } else {\n          assignmentRulesErrors.value.assignConditionError = \"\";\n        }\n\n        break;\n      case \"unassignCondition\":\n        if (skipConditionCheck) {\n          break;\n        }\n        if (\n          assignmentRuleData.value.unassignConditionJson?.length > 0 &&\n          !validateConditions(assignmentRuleData.value.unassignConditionJson)\n        ) {\n          assignmentRulesErrors.value.unassignConditionError =\n            \"Unassign conditions are invalid\";\n        } else {\n          assignmentRulesErrors.value.unassignConditionError = \"\";\n        }\n        break;\n      case \"users\":\n        assignmentRulesErrors.value.users =\n          assignmentRuleData.value.users?.length > 0\n            ? \"\"\n            : \"Users are required\";\n        break;\n      case \"assignmentDays\":\n        assignmentRulesErrors.value.assignmentDays =\n          assignmentRuleData.value.assignmentDays?.length > 0\n            ? \"\"\n            : \"Assignment days are required\";\n        break;\n      default:\n        break;\n    }\n  };\n\n  if (key) {\n    validateField(key);\n  } else {\n    (Object.keys(assignmentRulesErrors.value) as string[]).forEach(\n      validateField\n    );\n  }\n\n  return assignmentRulesErrors.value;\n};\n\nexport const assignmentRulesErrors = ref<Record<string, any> | null>({\n  assignmentRuleName: \"\",\n  assignCondition: \"\",\n  assignConditionError: \"\",\n  unassignConditionError: \"\",\n  users: \"\",\n  description: \"\",\n  assignmentDays: \"\",\n});\n\nexport const resetAssignmentRuleErrors = () => {\n  (Object.keys(assignmentRulesErrors.value) as string[]).forEach((key) => {\n    assignmentRulesErrors.value[key] = \"\";\n  });\n};\n","<template>\n  <div class=\"w-full h-full flex flex-col\">\n    <!-- Header -->\n    <div class=\"flex items-center justify-between mb-4\">\n      <div class=\"flex items-center gap-1 justify-center -ml-[16px]\">\n        <Button\n          variant=\"ghost\"\n          icon-left=\"chevron-left\"\n          :label=\"teamName\"\n          size=\"md\"\n          @click=\"() => emit('update:step', 'team-list')\"\n          class=\"cursor-pointer hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5\"\n        />\n      </div>\n      <Dropdown placement=\"right\" :options=\"options\">\n        <Button variant=\"ghost\">\n          <template #icon>\n            <LucideMoreHorizontal class=\"h-4 w-4\" />\n          </template>\n        </Button>\n      </Dropdown>\n    </div>\n    <!-- Add member -->\n    <div class=\"flex flex-col gap-4 h-full\">\n      <div class=\"flex gap-2 items-end\">\n        <!-- Form control for search -->\n        <Link\n          doctype=\"HD Agent\"\n          class=\"form-control flex-1\"\n          placeholder=\"Search members\"\n          v-model=\"search\"\n          label=\"Members\"\n          :hide-me=\"true\"\n          :filters=\"agentFilters\"\n        >\n          <template #prefix>\n            <LucideSearch class=\"h-4 w-4 text-gray-500 mr-2\" />\n          </template>\n          <template #item-label=\"{ option }\">\n            <div class=\"flex items-center justify-between !w-full\">\n              <div class=\"flex items-center gap-1\">\n                <Avatar\n                  :label=\"option.label || option.value\"\n                  :image=\"getUser(option.label)?.user_image\"\n                  size=\"sm\"\n                />\n                <p>{{ getUser(option.label)?.full_name || \"User\" }}</p>\n              </div>\n              <p class=\"text-gray-600 text-sm\">\n                {{ option.label }}\n              </p>\n            </div>\n          </template>\n        </Link>\n        <Button\n          label=\"Add\"\n          variant=\"solid\"\n          :disabled=\"!search\"\n          @click=\"addMember(search)\"\n        >\n          <template #prefix>\n            <LucidePlus class=\"h-4 w-4 stroke-1.5\" />\n          </template>\n        </Button>\n      </div>\n\n      <!-- Member List -->\n      <div\n        class=\"flex flex-col divide-y divide-gray-200 overflow-y-scroll hide-scrollbar h-full\"\n        v-if=\"teamMembers.length\"\n      >\n        <div\n          v-for=\"(member, idx) in teamMembers\"\n          :key=\"member.user\"\n          class=\"group py-2\"\n          :class=\"idx == teamMembers.length - 1 && 'mb-12'\"\n        >\n          <AgentCard :agent=\"member\" class=\"!py-0\">\n            <template #right>\n              <Button\n                variant=\"ghost\"\n                @click.stop=\"() => removeMemberFromTeam(member.name)\"\n                theme=\"red\"\n                class=\"opacity-0 group-hover:opacity-100\"\n                :disabled=\"team.loading\"\n              >\n                <template #icon>\n                  <LucideX class=\"h-4 w-4\" />\n                </template>\n              </Button>\n            </template>\n          </AgentCard>\n        </div>\n      </div>\n      <div v-else class=\"flex justify-center h-full\">\n        <p class=\"text-p-base text-gray-500\">No members found</p>\n      </div>\n    </div>\n  </div>\n  <Dialog v-model=\"showDelete\" :options=\"{ title: 'Delete team' }\">\n    <template #body-content>\n      <p class=\"text-p-base text-ink-gray-7\">\n        Are you sure you want to delete this team? This action cannot be\n        reversed!\n      </p>\n      <Button\n        variant=\"solid\"\n        class=\"mt-4 float-right\"\n        label=\"Confirm\"\n        theme=\"red\"\n        @click=\"\n          () => {\n            team.delete.submit();\n            showDelete = false;\n          }\n        \"\n      />\n    </template>\n  </Dialog>\n  <Dialog v-model=\"showRename\" :options=\"renameDialogOptions\">\n    <template #body-content>\n      <FormControl\n        v-model=\"_teamName\"\n        label=\"Title\"\n        placeholder=\"Product Experts\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport Link from \"@/components/frappe-ui/Link.vue\";\nimport { useConfigStore } from \"@/stores/config\";\nimport { useUserStore } from \"@/stores/user\";\nimport {\n  Avatar,\n  Button,\n  createDocumentResource,\n  createResource,\n  Dialog,\n  Dropdown,\n  toast,\n  Tooltip,\n} from \"frappe-ui\";\nimport { computed, h, markRaw, ref } from \"vue\";\nimport LucideLock from \"~icons/lucide/lock\";\nimport LucideUnlock from \"~icons/lucide/unlock\";\nimport AgentCard from \"../AgentCard.vue\";\nimport Settings from \"~icons/lucide/settings-2\";\nimport { assignmentRulesActiveScreen } from \"@/stores/assignmentRules\";\nimport { setActiveSettingsTab } from \"../settingsModal\";\n\nconst props = defineProps<{\n  teamName: string;\n}>();\n\ninterface E {\n  (event: \"update:step\", value: string): void;\n}\nconst emit = defineEmits<E>();\n\nconst { getUser } = useUserStore();\nconst { teamRestrictionApplied } = useConfigStore();\nconst _teamName = ref(props.teamName);\nconst team = createDocumentResource({\n  doctype: \"HD Team\",\n  name: props.teamName,\n  auto: true,\n  delete: {\n    onSuccess() {\n      toast.success(\"Team deleted\");\n      emit(\"update:step\", \"team-list\");\n    },\n  },\n});\n\nconst ignoreRestrictions = computed({\n  get() {\n    return !!team.doc?.ignore_restrictions;\n  },\n  set(value: boolean) {\n    if (!team.doc) return;\n    team.setValue.submit({\n      ignore_restrictions: value,\n    });\n  },\n});\nconst search = ref(\"\");\n\nconst teamMembers = computed(() => {\n  let users = team.doc?.users || [];\n  return users.map((user) => {\n    let _user = getUser(user.user);\n    return {\n      name: user.user,\n      user_image: _user.user_image,\n      agent_name: _user.full_name,\n    };\n  });\n});\n\nconst agentFilters = computed(() => {\n  return {\n    name: [\"not in\", teamMembers.value.map((user) => user.name)],\n  };\n});\n\nfunction removeMemberFromTeam(member: string) {\n  const users = team.doc?.users?.filter((u) => u.user !== member);\n  team.setValue.submit({\n    users,\n  });\n}\n\nfunction addMember(user: string) {\n  const users = team.doc.users.concat([{ user }]);\n  team.setValue.submit({\n    users,\n  });\n  search.value = \"\";\n}\n\nconst showRename = ref(false);\n\nconst renameDialogOptions = {\n  title: \"Rename team\",\n  message: \"Enter the new name for the team\",\n  actions: [\n    {\n      label: \"Confirm\",\n      variant: \"solid\",\n      loading: team.loading,\n      onClick: ({ close }) => {\n        renameTeam(close);\n      },\n    },\n  ],\n};\n\nfunction renameTeam(close) {\n  const r = createResource({\n    url: \"frappe.client.rename_doc\",\n    makeParams() {\n      return {\n        doctype: \"HD Team\",\n        old_name: props.teamName,\n        new_name: _teamName.value,\n      };\n    },\n    validate(params) {\n      if (!params.new_name) return \"New title is required\";\n      if (params.new_name === params.old_name)\n        return \"New and old title cannot be same\";\n    },\n    onSuccess() {\n      toast.success(\"Team renamed\");\n      close();\n      emit(\"update:step\", \"team-list\");\n    },\n  });\n\n  r.submit();\n}\n\nconst showDelete = ref(false);\nconst deleteDialogOptions = {\n  title: \"Delete team\",\n  message: `Are you sure you want to delete this team? This action cannot be reversed!`,\n  actions: [\n    {\n      label: \"Confirm\",\n      variant: \"solid\",\n      onClick: (ctx) => {\n        team.delete.submit();\n        ctx.close();\n      },\n    },\n  ],\n};\n\nconst options = [\n  {\n    label: \"View Assignment rule\",\n    icon: markRaw(h(Settings, { class: \"rotate-90\" })),\n    onClick: () => {\n      assignmentRulesActiveScreen.value = {\n        data: { name: team.doc?.assignment_rule },\n        screen: \"view\",\n      };\n      setActiveSettingsTab(\"Assignment Rules\");\n    },\n  },\n  {\n    label: \"Rename\",\n    icon: \"edit-3\",\n    onClick: () => (showRename.value = !showRename.value),\n  },\n  {\n    condition: () => teamRestrictionApplied,\n    label: team.doc?.ignore_restrictions\n      ? \"Disable Bypass Restrictions\"\n      : \"Enable Bypass Restrictions\",\n    component: () =>\n      h(\n        Tooltip,\n        {\n          text: ignoreRestrictions.value\n            ? \"Members of this team will see the tickets assigned to this team only\"\n            : \"Members of this team will be able to see the tickets assigned to all the teams\",\n        },\n        {\n          default: () => [\n            //create a div with 2 columns, one for icon and one for label\n            h(\n              \"div\",\n              {\n                class:\n                  \"flex items-center gap-2 p-2 cursor-pointer hover:bg-gray-100 rounded\",\n                onClick: () =>\n                  (ignoreRestrictions.value = !ignoreRestrictions.value),\n              },\n              [\n                h(team.doc?.ignore_restrictions ? LucideLock : LucideUnlock, {\n                  class: \"h-4 w-4 text-gray-700\",\n                  stroke: \"currentColor\",\n                  \"aria-hidden\": \"true\",\n                }),\n                h(\n                  \"span\",\n                  {\n                    class: \"whitespace-nowrap text-ink-gray-7 text-p-base\",\n                  },\n                  [\n                    team.doc?.ignore_restrictions\n                      ? \"Access only this team's tickets\"\n                      : \"Access all team tickets\",\n                  ]\n                ),\n              ]\n            ),\n          ],\n        }\n      ),\n  },\n  {\n    label: \"Delete\",\n    component: h(Button, {\n      label: \"Delete\",\n      variant: \"ghost\",\n      iconLeft: \"trash-2\",\n      theme: \"red\",\n      style: \"width: 100%; justify-content: flex-start;\",\n      onClick: () => {\n        showDelete.value = !showDelete.value;\n      },\n    }),\n  },\n];\n</script>\n\n<style scoped></style>\n","<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{\n      title: 'New team',\n      actions: [\n        {\n          label: 'Create',\n          variant: 'solid',\n          onClick: () => {\n            newTeam.submit();\n          },\n        },\n      ],\n    }\"\n  >\n    <template #body-content>\n      <form class=\"space-y-2\" @submit.prevent=\"newTeam.submit\">\n        <FormControl\n          v-model=\"newTeamTitle\"\n          label=\"Title\"\n          placeholder=\"Product experts\"\n          type=\"text\"\n        />\n      </form>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { createResource, toast } from \"frappe-ui\";\nimport { isEmpty } from \"lodash\";\nimport { ref } from \"vue\";\n\nconst emit = defineEmits([\"create\"]);\nconst show = defineModel();\n\nconst newTeamTitle = ref(null);\nconst newTeam = createResource({\n  url: \"frappe.client.insert\",\n  makeParams() {\n    return {\n      doc: {\n        doctype: \"HD Team\",\n        team_name: newTeamTitle.value,\n      },\n    };\n  },\n  validate(params) {\n    if (isEmpty(params.doc.team_name)) return \"Title is required\";\n  },\n  auto: false,\n  onSuccess() {\n    toast.success(\"Team created\");\n    newTeamTitle.value = null;\n    show.value = false;\n    emit(\"create\");\n  },\n});\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"w-full h-full flex flex-col\">\n    <!-- Header -->\n    <SettingsLayoutHeader\n      title=\"Teams\"\n      description=\"Create and manage teams and assign agents to specific teams.\"\n    >\n      <template #actions>\n        <Button\n          label=\"New\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"() => (showForm = !showForm)\"\n          icon-left=\"plus\"\n        />\n      </template>\n      <template #bottom-section>\n        <FormControl\n          v-model=\"search\"\n          :placeholder=\"'Search'\"\n          type=\"text\"\n          :debounce=\"300\"\n          class=\"w-60\"\n        >\n          <template #prefix>\n            <LucideSearch class=\"h-4 w-4 text-gray-500\" />\n          </template>\n        </FormControl>\n      </template>\n    </SettingsLayoutHeader>\n    <!-- List -->\n    <div\n      v-if=\"!teams.loading && teams.data?.length > 0\"\n      class=\"divide-y w-full h-full hide-scrollbar overflow-y-scroll mt-4\"\n    >\n      <div\n        v-for=\"team in teams.data\"\n        :key=\"team.name\"\n        class=\"flex items-center gap-2 py-2 group justify-between cursor-pointer\"\n        @click=\"() => emit('update:step', 'team-edit', team.name)\"\n      >\n        <div class=\"flex items-center gap-2\">\n          <Avatar :label=\"team.name\" size=\"sm\" />\n          <p :key=\"team.name\" class=\"text-p-base text-gray-700\">\n            {{ team.name }}\n          </p>\n        </div>\n      </div>\n    </div>\n    <!-- Loading State -->\n    <div v-if=\"teams.loading\" class=\"flex mt-28 justify-between w-full h-full\">\n      <Button\n        :loading=\"teams.loading\"\n        variant=\"ghost\"\n        class=\"w-full\"\n        size=\"2xl\"\n      />\n    </div>\n    <!-- Empty State -->\n    <div\n      v-if=\"!teams.data?.length\"\n      class=\"flex mt-28 justify-between w-full h-full\"\n    >\n      <p class=\"text-sm text-gray-500 w-full flex justify-center\">\n        No teams found\n      </p>\n    </div>\n  </div>\n  <NewTeamModal\n    v-model=\"showForm\"\n    @create=\"\n      () => {\n        teams.reload();\n      }\n    \"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { Avatar, FormControl, createListResource } from \"frappe-ui\";\nimport { ref, watch } from \"vue\";\nimport NewTeamModal from \"../NewTeamModal.vue\";\n\ninterface E {\n  (event: \"update:step\", step: string, team: string): void;\n}\n\nconst emit = defineEmits<E>();\n\nconst teams = createListResource({\n  doctype: \"HD Team\",\n  cache: [\"Teams\"],\n  fields: [\"name\"],\n  auto: true,\n  orderBy: \"creation desc\",\n});\n\nconst search = ref(\"\");\nconst showForm = ref(false);\n\nwatch(search, (newValue) => {\n  teams.filters = {\n    name: [\"like\", `%${newValue}%`],\n  };\n  if (!newValue) {\n    teams.start = 0;\n    teams.pageLength = 10;\n  }\n  teams.reload();\n});\n</script>\n\n<style scoped></style>\n","<template>\n  <div v-if=\"step === 'team-list'\" class=\"h-full px-10 py-8\">\n    <TeamsList @update:step=\"updateStep\" />\n  </div>\n  <div v-else-if=\"step === 'team-edit'\" class=\"h-full px-10 py-8\">\n    <TeamEdit @update:step=\"updateStep\" :team-name=\"teamName\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Ref, ref } from \"vue\";\nimport TeamEdit from \"./TeamEdit.vue\";\nimport TeamsList from \"./TeamsList.vue\";\n\ntype TeamStep = \"team-list\" | \"team-edit\";\n\nconst step: Ref<TeamStep> = ref(\"team-list\");\nconst teamName: Ref<string> = ref(\"\");\nfunction updateStep(newStep: TeamStep, team?: string): void {\n  step.value = newStep;\n  teamName.value = team;\n}\n</script>\n\n<style scoped></style>\n","import { SlaValidationErrors } from \"@/components/Settings/Sla/types\";\nimport { validateConditions } from \"@/utils\";\nimport { ref } from \"vue\";\n\nconst defaultStatus = [\n  {\n    status: \"Replied\",\n    sla_behavior: \"Paused\",\n  },\n  {\n    status: \"Closed\",\n    sla_behavior: \"Fulfilled\",\n  },\n  {\n    status: \"Resolved\",\n    sla_behavior: \"Fulfilled\",\n  },\n];\n\nconst defaultSupportAndResolution = [\n  {\n    workday: \"Monday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n  {\n    workday: \"Tuesday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n  {\n    workday: \"Wednesday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n  {\n    workday: \"Thursday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n  {\n    workday: \"Friday\",\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  },\n];\n\nexport const slaData = ref({\n  name: \"\",\n  service_level: \"\",\n  description: \"\",\n  enabled: false,\n  default_sla: false,\n  apply_sla_for_resolution: true,\n  priorities: [],\n  statuses: defaultStatus,\n  holiday_list: \"Default\",\n  default_priority: \"\",\n  start_date: \"\",\n  end_date: \"\",\n  loading: false,\n  support_and_resolution: defaultSupportAndResolution,\n  condition: [],\n  condition_json: [],\n});\n\nexport const resetSlaData = () => {\n  slaData.value = {\n    name: \"\",\n    service_level: \"\",\n    description: \"\",\n    enabled: false,\n    default_sla: false,\n    apply_sla_for_resolution: true,\n    priorities: [],\n    statuses: defaultStatus,\n    holiday_list: \"Default\",\n    default_priority: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    loading: false,\n    support_and_resolution: defaultSupportAndResolution,\n    condition: [],\n    condition_json: [],\n  };\n};\n\nexport const slaActiveScreen = ref<{\n  screen: \"list\" | \"view\";\n  data: Record<string, any> | null;\n  fetchData: boolean;\n}>({ screen: \"list\", data: null, fetchData: true });\n\nexport const slaDataErrors = ref<SlaValidationErrors>({\n  service_level: \"\",\n  description: \"\",\n  enabled: \"\",\n  default_sla: \"\",\n  apply_sla_for_resolution: \"\",\n  priorities: \"\",\n  statuses: \"\",\n  statuses_conflict: \"\",\n  holiday_list: \"\",\n  default_priority: \"\",\n  start_date: \"\",\n  end_date: \"\",\n  support_and_resolution: \"\",\n  condition: \"\",\n});\n\nexport const resetSlaDataErrors = () => {\n  slaDataErrors.value = {\n    service_level: \"\",\n    description: \"\",\n    enabled: \"\",\n    default_sla: \"\",\n    apply_sla_for_resolution: \"\",\n    priorities: \"\",\n    statuses: \"\",\n    statuses_conflict: \"\",\n    holiday_list: \"\",\n    default_priority: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    support_and_resolution: \"\",\n    condition: \"\",\n  };\n};\n\ntype SlaField = keyof SlaValidationErrors;\n\nexport function validateSlaData(\n  key?: SlaField,\n  skipConditionCheck = false\n): SlaValidationErrors {\n  // Reset all errors\n  resetSlaDataErrors();\n\n  const validateField = (field: SlaField) => {\n    if (key && field !== key) return;\n\n    switch (field) {\n      case \"service_level\":\n        if (!slaData.value.service_level?.trim()) {\n          slaDataErrors.value.service_level = \"SLA policy name is required\";\n        } else {\n          slaDataErrors.value.service_level = \"\";\n        }\n        break;\n      case \"priorities\":\n        if (\n          !Array.isArray(slaData.value.priorities) ||\n          slaData.value.priorities.length === 0\n        ) {\n          slaDataErrors.value.priorities = \"At least one priority is required\";\n        } else {\n          const prioritiesError: string[] = [];\n          slaData.value.priorities.forEach((priority, index) => {\n            const priorityNum = index + 1;\n            if (!priority.priority?.trim()) {\n              prioritiesError.push(\n                `Priority ${priorityNum}: Priority name is required`\n              );\n            }\n            if (!priority.response_time || priority.response_time == 0) {\n              prioritiesError.push(\n                `Priority ${priorityNum}: Response time is required`\n              );\n            }\n            if (Boolean(slaData.value.apply_sla_for_resolution)) {\n              if (!priority.resolution_time || priority.resolution_time == 0) {\n                prioritiesError.push(\n                  `Priority ${priorityNum}: Resolution time is required`\n                );\n              }\n            }\n            if (\n              priority.response_time > priority.resolution_time &&\n              Boolean(slaData.value.apply_sla_for_resolution)\n            ) {\n              prioritiesError.push(\n                `Priority ${priorityNum}: Response time cannot be greater than resolution time`\n              );\n            }\n          });\n\n          // Check for duplicate priorities\n          const priorityNames = slaData.value.priorities\n            .map((p) => p.priority?.trim().toLowerCase())\n            .filter(Boolean);\n          const uniquePriorities = new Set(priorityNames);\n\n          if (priorityNames.length !== uniquePriorities.size) {\n            prioritiesError.push(\"Priorities must be unique\");\n          }\n\n          if (prioritiesError.length > 0) {\n            slaDataErrors.value.priorities = prioritiesError.join(\", \");\n          } else {\n            slaDataErrors.value.priorities = \"\";\n          }\n\n          const hasDefaultPriority = slaData.value.priorities.some((p) =>\n            Boolean(p.default_priority)\n          );\n          if (!hasDefaultPriority) {\n            slaDataErrors.value.default_priority =\n              \"Default priority is required\";\n          } else {\n            slaDataErrors.value.default_priority = \"\";\n          }\n        }\n        break;\n      case \"statuses\":\n        if (\n          !Array.isArray(slaData.value.statuses) ||\n          slaData.value.statuses.length === 0\n        ) {\n          slaDataErrors.value.statuses =\n            \"At least one status for 'Fulfilled on' and 'Paused on' is required\";\n        } else {\n          const hasFulfilled = slaData.value.statuses.some(\n            (s) => s.sla_behavior === \"Fulfilled\"\n          );\n          const hasPaused = slaData.value.statuses.some(\n            (s) => s.sla_behavior === \"Paused\"\n          );\n\n          if (!hasFulfilled) {\n            slaDataErrors.value.statuses =\n              \"At least one 'Fulfilled on' status is required\";\n          }\n          if (!hasPaused) {\n            slaDataErrors.value.statuses =\n              \"At least one 'Paused on' status is required\";\n          }\n          if (hasFulfilled && hasPaused) {\n            slaDataErrors.value.statuses = \"\";\n          }\n\n          // Check for duplicate statuses and ensure each status has only one behavior\n          const statusMap = new Map();\n          const duplicateStatuses = [];\n          const conflictingBehaviors = [];\n\n          for (const status of slaData.value.statuses) {\n            const statusKey = status.status?.trim().toLowerCase();\n            const behavior = status.sla_behavior;\n\n            if (!statusMap.has(statusKey)) {\n              statusMap.set(statusKey, new Set([behavior]));\n            } else {\n              // Check if this status already has this behavior\n              if (statusMap.get(statusKey).has(behavior)) {\n                duplicateStatuses.push(status.status);\n              } else {\n                // This status has a different behavior already\n                conflictingBehaviors.push({\n                  status: status.status,\n                  behaviors: [...statusMap.get(statusKey), behavior],\n                });\n                statusMap.get(statusKey).add(behavior);\n              }\n            }\n          }\n\n          const errorMessages = [];\n          if (duplicateStatuses.length > 0) {\n            errorMessages.push(\n              `Duplicate status behavior found for: ${[\n                ...new Set(duplicateStatuses),\n              ].join(\", \")}`\n            );\n          }\n          if (conflictingBehaviors.length > 0) {\n            const conflictMessages = conflictingBehaviors.map(\n              ({ status, behaviors }) =>\n                `\"${status}\" cannot be both ${behaviors.join(\" and \")}`\n            );\n            errorMessages.push(\n              `Conflicting behaviors: ${conflictMessages.join(\"; \")}`\n            );\n          }\n\n          if (errorMessages.length > 0) {\n            slaDataErrors.value.statuses_conflict = errorMessages.join(\". \");\n          } else {\n            slaDataErrors.value.statuses_conflict = \"\";\n          }\n        }\n        break;\n      case \"holiday_list\":\n        if (!slaData.value.holiday_list) {\n          slaDataErrors.value.holiday_list = \"Holiday list is required\";\n        } else {\n          slaDataErrors.value.holiday_list = \"\";\n        }\n        break;\n      case \"start_date\":\n        if (\n          new Date(slaData.value.end_date) < new Date(slaData.value.start_date)\n        ) {\n          slaDataErrors.value.start_date =\n            \"Start date cannot be after end date\";\n        } else {\n          slaDataErrors.value.start_date = \"\";\n        }\n        break;\n      case \"end_date\":\n        if (\n          slaData.value.end_date &&\n          new Date(slaData.value.end_date) < new Date(slaData.value.start_date)\n        ) {\n          slaDataErrors.value.end_date = \"End date cannot be before start date\";\n        } else {\n          slaDataErrors.value.end_date = \"\";\n        }\n        break;\n      case \"condition\":\n        if (skipConditionCheck) {\n          break;\n        }\n        if (\n          slaData.value.condition_json.length > 0 &&\n          !validateConditions(slaData.value.condition_json)\n        ) {\n          slaDataErrors.value.condition = \"Valid conditions are required\";\n        } else {\n          slaDataErrors.value.condition = \"\";\n        }\n        break;\n      case \"support_and_resolution\":\n        const validWorkdays = slaData.value.support_and_resolution?.filter(\n          (day) =>\n            day.workday &&\n            day.workday.trim() !== \"\" &&\n            day.start_time &&\n            day.end_time &&\n            day.start_time.trim() !== \"\" &&\n            day.end_time.trim() !== \"\"\n        );\n\n        if (!validWorkdays?.length) {\n          slaDataErrors.value.support_and_resolution =\n            \"At least one valid workday with workday, start time, and end time is required\";\n        } else {\n          // Check for duplicate workdays\n          const workdayMap = new Map();\n          const duplicateWorkdays = [];\n\n          for (const day of validWorkdays) {\n            if (workdayMap.has(day.workday)) {\n              duplicateWorkdays.push(day.workday);\n            } else {\n              workdayMap.set(day.workday, true);\n            }\n          }\n\n          if (duplicateWorkdays.length > 0) {\n            slaDataErrors.value.support_and_resolution = `Duplicate workday found: ${duplicateWorkdays.join(\n              \", \"\n            )}. Each workday should be unique.`;\n            return slaDataErrors.value;\n          } else {\n            slaDataErrors.value.support_and_resolution = \"\";\n          }\n\n          const invalidTimeRanges = [];\n          for (const day of validWorkdays) {\n            const startTimeStr = day.start_time.trim();\n            const endTimeStr = day.end_time.trim();\n\n            const parseTime = (timeStr: string) => {\n              const [hours, minutes] = timeStr.split(\":\").map(Number);\n              const date = new Date();\n              date.setHours(hours, minutes || 0, 0, 0);\n              return date;\n            };\n\n            try {\n              const startTime = parseTime(startTimeStr);\n              const endTime = parseTime(endTimeStr);\n\n              if (startTime >= endTime) {\n                invalidTimeRanges.push(\n                  `${day.workday} (${startTimeStr} - ${endTimeStr})`\n                );\n              }\n            } catch (error) {\n              // If time parsing fails, mark as invalid\n              invalidTimeRanges.push(`${day.workday} (Invalid time format)`);\n            }\n          }\n\n          if (invalidTimeRanges.length > 0) {\n            slaDataErrors.value.support_and_resolution = `End time must be after start time for: ${invalidTimeRanges.join(\n              \", \"\n            )}`;\n          } else {\n            slaDataErrors.value.support_and_resolution = \"\";\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  if (key) {\n    validateField(key);\n  } else {\n    (Object.keys(slaDataErrors.value) as SlaField[]).forEach(validateField);\n  }\n\n  return slaDataErrors.value;\n}\n","<template>\n  <div\n    class=\"grid grid-cols-6 items-center gap-4 cursor-pointer hover:bg-gray-50 rounded\"\n  >\n    <div\n      @click=\"slaActiveScreen = { screen: 'view', data: data, fetchData: true }\"\n      class=\"w-full py-3 pl-2 col-span-5\"\n    >\n      <div\n        class=\"text-base text-ink-gray-7 font-medium flex items-center gap-2\"\n      >\n        {{ data.name }}\n        <Badge v-if=\"data.default_sla\" color=\"gray\" size=\"sm\">Default</Badge>\n      </div>\n      <div\n        v-if=\"data.description && data.description.length > 0\"\n        class=\"text-sm w-full text-ink-gray-5 mt-1 whitespace-nowrap overflow-ellipsis overflow-hidden\"\n      >\n        {{ data.description }}\n      </div>\n    </div>\n    <div class=\"flex justify-between items-center w-full pr-2\">\n      <div>\n        <Switch\n          size=\"sm\"\n          :modelValue=\"data.enabled\"\n          @update:modelValue=\"onToggle\"\n        />\n      </div>\n      <div>\n        <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n          <Button\n            icon=\"more-horizontal\"\n            variant=\"ghost\"\n            @click=\"isConfirmingDelete = false\"\n          />\n        </Dropdown>\n      </div>\n    </div>\n  </div>\n  <Dialog\n    :options=\"{ title: `Duplicate SLA Policy` }\"\n    v-model=\"duplicateDialog.show\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <FormControl\n          label=\"New SLA Policy Name\"\n          type=\"text\"\n          v-model=\"duplicateDialog.name\"\n        />\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex gap-2 justify-end\">\n        <Button\n          variant=\"subtle\"\n          label=\"Close\"\n          @click=\"duplicateDialog.show = false\"\n        />\n        <Button variant=\"solid\" label=\"Duplicate\" @click=\"duplicate()\" />\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script setup lang=\"ts\">\nimport {\n  Switch,\n  Button,\n  createResource,\n  toast,\n  Dialog,\n  Badge,\n} from \"frappe-ui\";\nimport { ref, inject } from \"vue\";\nimport { slaActiveScreen } from \"@/stores/sla\";\nimport { ConfirmDelete } from \"@/utils\";\n\nconst slaPolicyList = inject<any>(\"slaPolicyList\");\n\nconst duplicateDialog = ref({\n  show: false,\n  name: \"\",\n});\n\nconst props = defineProps({\n  data: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst dropdownOptions = [\n  {\n    label: \"Duplicate\",\n    onClick: () => {\n      duplicateDialog.value = {\n        show: true,\n        name: props.data.name + \" (Copy)\",\n      };\n    },\n    icon: \"copy\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteSla(),\n    isConfirmingDelete,\n  }),\n];\n\nconst duplicate = () => {\n  createResource({\n    url: \"helpdesk.api.sla.duplicate_sla\",\n    params: {\n      docname: props.data.name,\n      new_name: duplicateDialog.value.name,\n    },\n    onSuccess: (data) => {\n      slaPolicyList.reload();\n      toast.success(\"SLA policy duplicated\");\n      duplicateDialog.value = {\n        show: false,\n        name: \"\",\n      };\n      setTimeout(() => {\n        slaActiveScreen.value = {\n          screen: \"view\",\n          data: data,\n          fetchData: true,\n        };\n      }, 250);\n    },\n    auto: true,\n  });\n};\n\nconst deleteSla = () => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  slaPolicyList.delete.submit(props.data.name, {\n    onSuccess: () => {\n      toast.success(\"SLA policy deleted\");\n    },\n  });\n};\n\nconst onToggle = () => {\n  if (props.data.default_sla) {\n    toast.error(\"SLA set as default cannot be disabled\");\n    return;\n  }\n  slaPolicyList.setValue.submit(\n    {\n      name: props.data.name,\n      enabled: !props.data.enabled,\n    },\n    {\n      onSuccess: () => {\n        toast.success(\"SLA policy status updated\");\n      },\n    }\n  );\n};\n</script>\n","<template>\n  <div\n    v-if=\"slaPolicyList.list.loading && !slaPolicyList.list.data\"\n    class=\"flex items-center justify-center mt-12\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div v-else>\n    <div\n      v-if=\"slaPolicyList.list.data?.length === 0\"\n      class=\"flex items-center justify-center rounded-md border border-gray-200 p-4\"\n    >\n      <div class=\"text-sm text-ink-gray-7\">No items in the list</div>\n    </div>\n    <div v-else>\n      <div\n        class=\"grid grid-cols-6 items-center gap-3 text-sm text-gray-600 ml-2\"\n      >\n        <div class=\"col-span-5\">Policy Name</div>\n        <div class=\"col-span-1\">Enabled</div>\n      </div>\n      <hr class=\"mt-2 mx-2\" />\n      <div v-for=\"sla in slaPolicyList.list.data\" :key=\"sla.name\">\n        <SlaPolicyListItem :data=\"sla\" />\n        <hr class=\"mx-2\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { LoadingIndicator } from \"frappe-ui\";\nimport SlaPolicyListItem from \"./SlaPolicyListItem.vue\";\nimport { inject } from \"vue\";\n\nconst slaPolicyList = inject<any>(\"slaPolicyList\");\n</script>\n","<template>\n  <div class=\"px-10 py-8\">\n    <SettingsLayoutHeader>\n      <template #title>\n        <h1 class=\"text-lg font-semibold text-ink-gray-8\">\n          Service Level Agreements (SLAs)\n        </h1>\n      </template>\n      <template #description>\n        <p class=\"text-p-sm max-w-md text-ink-gray-6\">\n          SLAs align your team and customers with defined timelines for a\n          reliable experience.\n          <a\n            href=\"https://docs.frappe.io/helpdesk/service-level-agreement\"\n            target=\"_blank\"\n            class=\"underline\"\n            >Learn more about SLA\n          </a>\n        </p>\n      </template>\n      <template #actions>\n        <Button\n          label=\"New\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"goToNew()\"\n          icon-left=\"plus\"\n        />\n      </template>\n    </SettingsLayoutHeader>\n  </div>\n  <div class=\"px-10 pb-8 overflow-y-auto\">\n    <SlaPolicyList />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { resetSlaData, slaActiveScreen } from \"@/stores/sla\";\nimport { Button } from \"frappe-ui\";\nimport SlaPolicyList from \"./SlaPolicyList.vue\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\n\nconst goToNew = () => {\n  resetSlaData();\n  slaActiveScreen.value = {\n    screen: \"view\",\n    data: null,\n    fetchData: true,\n  };\n};\n</script>\n","<template>\n  <Dialog v-model=\"showDialog\" :options=\"{ title }\" @close=\"closeDialog\">\n    <template #body-content>\n      <div class=\"space-y-4\">\n        <p class=\"text-p-base text-gray-800\" v-if=\"message\" v-html=\"message\" />\n      </div>\n    </template>\n    <template #actions>\n      <Button\n        class=\"w-full\"\n        label=\"Confirm\"\n        variant=\"solid\"\n        :loading=\"isLoading\"\n        @click=\"onConfirm\"\n      />\n    </template>\n  </Dialog>\n</template>\n<script>\nimport { Button, Dialog } from \"frappe-ui\";\n\nexport default {\n  name: \"ConfirmDialog\",\n  props: {\n    title: {\n      type: String,\n    },\n    message: {\n      type: String,\n    },\n    onConfirm: {\n      type: Function,\n      default: null,\n    },\n    onCancel: {\n      type: Function,\n      default: null,\n    },\n  },\n  expose: [\"show\", \"hide\"],\n  components: {\n    Dialog,\n    Button,\n  },\n  data() {\n    return {\n      showDialog: true,\n      isLoading: false,\n    };\n  },\n  methods: {\n    async handleConfirmation() {\n      if (this.isLoading) return;\n      this.isLoading = true;\n      try {\n        if (this.onConfirm) {\n          await this.onConfirm({\n            hideDialog: this.hide,\n          });\n        }\n        this.hide();\n      } catch (error) {\n        console.error(\"Error in confirmation:\", error);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    show() {\n      this.showDialog = true;\n    },\n    closeDialog() {\n      this.hide();\n      this.onCancel?.();\n    },\n    hide() {\n      this.showDialog = false;\n    },\n  },\n};\n</script>\n","import { createResource } from \"frappe-ui\";\n\nexport const filterableFields = createResource({\n  url: \"helpdesk.api.doc.get_filterable_fields\",\n  params: {\n    doctype: \"HD Ticket\",\n  },\n  transform: (data) => {\n    data = data\n      .filter((field) => !field.fieldname.startsWith(\"_\"))\n      .map((field) => {\n        return {\n          label: field.label,\n          value: field.fieldname,\n          ...field,\n        };\n      });\n    return data;\n  },\n});\n","<template>\n  <div\n    class=\"flex gap-2\"\n    :class=\"[\n      {\n        'items-center': !props.isGroup,\n      },\n    ]\"\n  >\n    <div\n      class=\"flex gap-2 w-full\"\n      :class=\"[\n        {\n          'items-center justify-between': !props.isGroup,\n        },\n      ]\"\n    >\n      <div :class=\"'text-end text-base text-gray-600'\">\n        <div v-if=\"props.itemIndex == 0\" class=\"min-w-[66px] text-start\">\n          Where\n        </div>\n        <div v-else class=\"min-w-[66px] flex items-start\">\n          <Button\n            variant=\"subtle\"\n            class=\"w-max\"\n            @click=\"toggleConjunction\"\n            icon-right=\"refresh-cw\"\n            :disabled=\"props.itemIndex > 2\"\n            :label=\"conjunction\"\n          />\n        </div>\n      </div>\n      <div v-if=\"!props.isGroup\" class=\"flex items-center gap-2 w-full\">\n        <div id=\"fieldname\" class=\"w-full\">\n          <Autocomplete\n            :options=\"filterableFields.data\"\n            v-model=\"props.condition[0]\"\n            :placeholder=\"'Field'\"\n            @update:modelValue=\"updateField\"\n          />\n        </div>\n        <div id=\"operator\">\n          <FormControl\n            v-if=\"!props.condition[0]\"\n            disabled\n            type=\"text\"\n            :placeholder=\"'operator'\"\n            class=\"w-[100px]\"\n          />\n          <FormControl\n            v-else\n            :disabled=\"!props.condition[0]\"\n            type=\"select\"\n            v-model=\"props.condition[1]\"\n            @change=\"updateOperator\"\n            :options=\"getOperators()\"\n            class=\"w-max min-w-[100px]\"\n          />\n        </div>\n        <div id=\"value\" class=\"w-full\">\n          <FormControl\n            v-if=\"!props.condition[0]\"\n            disabled\n            type=\"text\"\n            :placeholder=\"'condition'\"\n            class=\"w-full\"\n          />\n          <component\n            v-else\n            :is=\"getValueControl()\"\n            v-model=\"props.condition[2]\"\n            @change=\"updateValue\"\n            :placeholder=\"'condition'\"\n          />\n        </div>\n      </div>\n      <CFConditions\n        v-if=\"props.isGroup && !(props.level == 2 || props.level == 4)\"\n        :conditions=\"props.condition\"\n        :isChild=\"true\"\n        :level=\"props.level\"\n        :disableAddCondition=\"props.disableAddCondition\"\n      />\n      <Button\n        variant=\"outline\"\n        v-if=\"props.isGroup && (props.level == 2 || props.level == 4)\"\n        @click=\"show = true\"\n        label=\"Open nested conditions\"\n      />\n    </div>\n    <div :class=\"'w-max'\">\n      <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n        <Button variant=\"ghost\" icon=\"more-horizontal\" />\n      </Dropdown>\n    </div>\n  </div>\n  <Dialog v-model=\"show\" :options=\"{ size: '3xl', title: 'Nested conditions' }\">\n    <template #body-content>\n      <CFConditions\n        :conditions=\"props.condition\"\n        :isChild=\"true\"\n        :level=\"props.level\"\n        :disableAddCondition=\"props.disableAddCondition\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { Link, StarRating } from \"@/components\";\nimport { TemplateOption } from \"@/utils\";\nimport {\n  Autocomplete,\n  Button,\n  DatePicker,\n  DateRangePicker,\n  DateTimePicker,\n  Dialog,\n  Dropdown,\n  FormControl,\n} from \"frappe-ui\";\nimport { computed, defineEmits, h, ref } from \"vue\";\nimport GroupIcon from \"~icons/lucide/group\";\nimport UnGroupIcon from \"~icons/lucide/ungroup\";\nimport CFConditions from \"./CFConditions.vue\";\nimport { filterableFields } from \"./filterableFields\";\n\nconst show = ref(false);\nconst emit = defineEmits([\n  \"remove\",\n  \"unGroupConditions\",\n  \"toggleConjunction\",\n  \"turnIntoGroup\",\n]);\n\nconst props = defineProps({\n  condition: {\n    type: Array<any>,\n    required: true,\n  },\n  isChild: {\n    type: Boolean,\n    default: false,\n  },\n  itemIndex: {\n    type: Number,\n  },\n  level: {\n    type: Number,\n    default: 0,\n  },\n  isGroup: {\n    type: Boolean,\n    default: false,\n  },\n  conjunction: {\n    type: String,\n  },\n  disableAddCondition: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst dropdownOptions = computed(() => {\n  const options = [];\n\n  if (!props.isGroup && props.level < 4) {\n    options.push({\n      label: \"Turn into a group\",\n      icon: () => h(GroupIcon),\n      onClick: () => {\n        emit(\"turnIntoGroup\");\n      },\n    });\n  }\n\n  if (props.isGroup) {\n    options.push({\n      label: \"Ungroup conditions\",\n      icon: () => h(UnGroupIcon),\n      onClick: () => {\n        emit(\"unGroupConditions\");\n      },\n    });\n  }\n\n  options.push({\n    label: \"Remove\",\n    component: (props) =>\n      TemplateOption({\n        option: \"Remove\",\n        icon: \"trash-2\",\n        active: props.active,\n        variant: \"danger\",\n        onClick: () => {\n          emit(\"remove\");\n        },\n      }),\n    condition: () => !props.isGroup,\n  });\n\n  options.push({\n    label: \"Remove group\",\n    component: (props) =>\n      TemplateOption({\n        option: \"Remove group\",\n        icon: \"trash-2\",\n        active: props.active,\n        variant: \"danger\",\n        onClick: () => {\n          emit(\"remove\");\n        },\n      }),\n    condition: () => props.isGroup,\n  });\n\n  return options;\n});\n\nconst typeCheck = [\"Check\"];\nconst typeLink = [\"Link\", \"Dynamic Link\"];\nconst typeNumber = [\"Float\", \"Int\", \"Currency\", \"Percent\"];\nconst typeSelect = [\"Select\"];\nconst typeString = [\"Data\", \"Long Text\", \"Small Text\", \"Text Editor\", \"Text\"];\nconst typeDate = [\"Date\", \"Datetime\"];\nconst typeRating = [\"Rating\"];\n\nfunction toggleConjunction() {\n  emit(\"toggleConjunction\", props.conjunction);\n}\n\nconst updateField = (field) => {\n  props.condition[0] = field?.fieldname;\n  resetConditionValue();\n};\n\nconst resetConditionValue = () => {\n  props.condition[2] = \"\";\n};\n\nfunction getValueControl() {\n  const [field, operator] = props.condition;\n  if (!field) return null;\n  const fieldData = filterableFields.data?.find((f) => f.fieldname == field);\n  if (!fieldData) return null;\n  const { fieldtype, options } = fieldData;\n  if (operator == \"is\") {\n    return h(FormControl, {\n      type: \"select\",\n      options: [\n        {\n          label: \"Set\",\n          value: \"set\",\n        },\n        {\n          label: \"Not Set\",\n          value: \"not set\",\n        },\n      ],\n    });\n  } else if ([\"like\", \"not like\", \"in\", \"not in\"].includes(operator)) {\n    return h(FormControl, { type: \"text\" });\n  } else if (typeSelect.includes(fieldtype) || typeCheck.includes(fieldtype)) {\n    const _options =\n      fieldtype == \"Check\" ? [\"Yes\", \"No\"] : getSelectOptions(options);\n    return h(FormControl, {\n      type: \"select\",\n      options: _options.map((o) => ({\n        label: o,\n        value: o,\n      })),\n    });\n  } else if (typeLink.includes(fieldtype)) {\n    if (fieldtype == \"Dynamic Link\") {\n      return h(FormControl, { type: \"text\" });\n    }\n    return h(Link, {\n      class: \"form-control\",\n      doctype: options,\n      value: props.condition[2],\n    });\n  } else if (typeNumber.includes(fieldtype)) {\n    return h(FormControl, { type: \"number\" });\n  } else if (typeDate.includes(fieldtype) && operator == \"between\") {\n    return h(DateRangePicker, { value: props.condition[2], iconLeft: \"\" });\n  } else if (typeDate.includes(fieldtype)) {\n    return h(fieldtype == \"Date\" ? DatePicker : DateTimePicker, {\n      value: props.condition[2],\n      iconLeft: \"\",\n    });\n  } else if (typeRating.includes(fieldtype)) {\n    return h(StarRating, {\n      rating: props.condition[2] || 0,\n      static: false,\n      class: \"truncate\",\n      \"onUpdate:modelValue\": (v) => updateValue(v),\n    });\n  } else {\n    return h(FormControl, { type: \"text\" });\n  }\n}\n\nfunction updateValue(value) {\n  value = value.target ? value.target.value : value;\n  if (props.condition[1] === \"between\") {\n    props.condition[2] = [value.split(\",\")[0], value.split(\",\")[1]];\n  } else {\n    props.condition[2] = value + \"\";\n  }\n}\n\nfunction getSelectOptions(options) {\n  return options.split(\"\\n\");\n}\n\nfunction updateOperator(event) {\n  let oldOperatorValue = event.target._value;\n  let newOperatorValue = event.target.value;\n  props.condition[1] = event.target.value;\n  if (!isSameTypeOperator(oldOperatorValue, newOperatorValue)) {\n    props.condition[2] = getDefaultValue(props.condition[0]);\n  }\n  resetConditionValue();\n}\n\nfunction getOperators() {\n  let options = [];\n  const field = props.condition[0];\n  if (!field) return options;\n  const fieldData = filterableFields.data?.find((f) => f.fieldname == field);\n  if (!fieldData) return options;\n  const { fieldtype, fieldname } = fieldData;\n  if (typeString.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Like\", value: \"like\" },\n        { label: \"Not Like\", value: \"not like\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n      ]\n    );\n  }\n  if (fieldname === \"_assign\") {\n    options = [\n      { label: \"Like\", value: \"like\" },\n      { label: \"Not Like\", value: \"not like\" },\n      { label: \"Is\", value: \"is\" },\n    ];\n  }\n  if (typeNumber.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Like\", value: \"like\" },\n        { label: \"Not Like\", value: \"not like\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n        { label: \"<\", value: \"<\" },\n        { label: \">\", value: \">\" },\n        { label: \"<=\", value: \"<=\" },\n        { label: \">=\", value: \">=\" },\n      ]\n    );\n  }\n  if (typeSelect.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n      ]\n    );\n  }\n  if (typeLink.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Like\", value: \"like\" },\n        { label: \"Not Like\", value: \"not like\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n      ]\n    );\n  }\n  if (typeCheck.includes(fieldtype)) {\n    options.push(...[{ label: \"Equals\", value: \"==\" }]);\n  }\n  if ([\"Duration\"].includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Like\", value: \"like\" },\n        { label: \"Not Like\", value: \"not like\" },\n        { label: \"In\", value: \"in\" },\n        { label: \"Not In\", value: \"not in\" },\n        { label: \"Is\", value: \"is\" },\n      ]\n    );\n  }\n  if (typeDate.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Is\", value: \"is\" },\n        { label: \">\", value: \">\" },\n        { label: \"<\", value: \"<\" },\n        { label: \">=\", value: \">=\" },\n        { label: \"<=\", value: \"<=\" },\n        { label: \"Between\", value: \"between\" },\n      ]\n    );\n  }\n  if (typeRating.includes(fieldtype)) {\n    options.push(\n      ...[\n        { label: \"Equals\", value: \"==\" },\n        { label: \"Not Equals\", value: \"!=\" },\n        { label: \"Is\", value: \"is\" },\n        { label: \">\", value: \">\" },\n        { label: \"<\", value: \"<\" },\n        { label: \">=\", value: \">=\" },\n        { label: \"<=\", value: \"<=\" },\n      ]\n    );\n  }\n  const op = options.find((o) => o.value == props.condition[1]);\n  props.condition[1] = op?.value || options[0].value;\n  return options;\n}\n\nfunction getDefaultValue(field) {\n  if (typeSelect.includes(field.fieldtype)) {\n    return getSelectOptions(field.options)[0];\n  }\n  if (typeCheck.includes(field.fieldtype)) {\n    return \"Yes\";\n  }\n  if (typeDate.includes(field.fieldtype)) {\n    return null;\n  }\n  if (typeRating.includes(field.fieldtype)) {\n    return 0;\n  }\n  return \"\";\n}\n\nfunction isSameTypeOperator(oldOperator, newOperator) {\n  let textOperators = [\"==\", \"!=\", \"in\", \"not in\", \">\", \"<\", \">=\", \"<=\"];\n  if (\n    textOperators.includes(oldOperator) &&\n    textOperators.includes(newOperator)\n  )\n    return true;\n  return false;\n}\n</script>\n","<template>\n  <div class=\"rounded-lg border border-gray-300 p-3 flex flex-col gap-4 w-full\">\n    <template v-for=\"(condition, i) in props.conditions\" :key=\"condition.field\">\n      <CFCondition\n        v-if=\"Array.isArray(condition)\"\n        :condition=\"condition\"\n        :isChild=\"props.isChild\"\n        :itemIndex=\"i\"\n        @remove=\"removeCondition(condition)\"\n        @unGroupConditions=\"unGroupConditions(condition)\"\n        :level=\"props.level + 1\"\n        @toggleConjunction=\"toggleConjunction\"\n        :isGroup=\"isGroupCondition(condition[0])\"\n        :conjunction=\"getConjunction()\"\n        @turnIntoGroup=\"turnIntoGroup(condition)\"\n        :disableAddCondition=\"props.disableAddCondition\"\n      />\n    </template>\n    <div v-if=\"props.isChild\" class=\"flex\">\n      <Dropdown v-slot=\"{ open }\" :options=\"dropdownOptions\">\n        <Button\n          :disabled=\"props.disableAddCondition\"\n          label=\"Add condition\"\n          icon-left=\"plus\"\n          :icon-right=\"open ? 'chevron-up' : 'chevron-down'\"\n        />\n      </Dropdown>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, Dropdown } from \"frappe-ui\";\nimport { computed, onMounted } from \"vue\";\nimport CFCondition from \"./CFCondition.vue\";\nimport { filterableFields } from \"./filterableFields\";\n\nconst props = defineProps({\n  conditions: {\n    type: Array<any>,\n    required: true,\n  },\n  isChild: {\n    type: Boolean,\n    default: false,\n  },\n  level: {\n    type: Number,\n    default: 0,\n  },\n  disableAddCondition: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst getConjunction = () => {\n  let conjunction = \"and\";\n  props.conditions.forEach((condition) => {\n    if (typeof condition == \"string\") {\n      conjunction = condition;\n    }\n  });\n  return conjunction;\n};\n\nconst turnIntoGroup = (condition) => {\n  props.conditions.splice(props.conditions.indexOf(condition), 1, [condition]);\n};\n\nconst isGroupCondition = (condition) => {\n  return Array.isArray(condition);\n};\n\nconst dropdownOptions = computed(() => {\n  const options = [\n    {\n      label: \"Add condition\",\n      onClick: () => {\n        const conjunction = getConjunction();\n        props.conditions.push(conjunction, [\"\", \"\", \"\"]);\n      },\n    },\n  ];\n  if (props.level < 3) {\n    options.push({\n      label: \"Add condition group\",\n      onClick: () => {\n        const conjunction = getConjunction();\n        props.conditions.push(conjunction, [[]]);\n      },\n    });\n  }\n  return options;\n});\n\nfunction removeCondition(condition) {\n  const conditionIndex = props.conditions.indexOf(condition);\n  if (conditionIndex == 0) {\n    props.conditions.splice(conditionIndex, 2);\n  } else {\n    props.conditions.splice(conditionIndex - 1, 2);\n  }\n}\n\nfunction unGroupConditions(condition) {\n  const conjunction = getConjunction();\n  const newConditions = condition.map((c) => {\n    if (typeof c == \"string\") {\n      return conjunction;\n    }\n    return c;\n  });\n\n  const index = props.conditions.indexOf(condition);\n  if (index !== -1) {\n    props.conditions.splice(index, 1, ...newConditions);\n  }\n}\n\nfunction toggleConjunction(conjunction) {\n  for (let i = 0; i < props.conditions.length; i++) {\n    if (typeof props.conditions[i] == \"string\") {\n      props.conditions[i] = conjunction == \"and\" ? \"or\" : \"and\";\n    }\n  }\n}\n\nonMounted(() => {\n  if (!filterableFields.fetched) {\n    filterableFields.submit();\n  }\n});\n</script>\n","<template>\n  <CFConditions\n    v-if=\"props.conditions.length > 0\"\n    :conditions=\"props.conditions\"\n    :level=\"0\"\n    :disableAddCondition=\"slaDataErrors.condition != ''\"\n  />\n  <div\n    v-if=\"props.conditions.length == 0\"\n    class=\"flex p-4 items-center cursor-pointer justify-center gap-2 text-sm border border-gray-300 text-gray-600 rounded-md\"\n    @click=\"props.conditions.push(['', '', ''])\"\n  >\n    <FeatherIcon name=\"plus\" class=\"h-4\" />\n    {{ __(\"Add a custom condition\") }}\n  </div>\n  <div class=\"flex items-center justify-between mt-2\">\n    <Dropdown\n      v-if=\"props.conditions.length > 0\"\n      v-slot=\"{ open }\"\n      :options=\"dropdownOptions\"\n    >\n      <Button\n        :disabled=\"slaDataErrors.condition != ''\"\n        :icon-right=\"open ? 'chevron-up' : 'chevron-down'\"\n        :label=\"__('Add condition')\"\n      />\n    </Dropdown>\n    <ErrorMessage :message=\"slaDataErrors.condition\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, Dropdown, ErrorMessage, FeatherIcon } from \"frappe-ui\";\nimport { slaDataErrors, validateSlaData } from \"@/stores/sla\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport CFConditions from \"@/components/conditions-filter/CFConditions.vue\";\nimport { validateConditions } from \"@/utils\";\n\nconst props = defineProps({\n  conditions: {\n    type: Array<any>,\n    required: true,\n  },\n});\n\nconst getConjunction = () => {\n  let conjunction = \"and\";\n  props.conditions.forEach((condition) => {\n    if (typeof condition == \"string\") {\n      conjunction = condition;\n    }\n  });\n  return conjunction;\n};\n\nconst dropdownOptions = [\n  {\n    label: \"Add condition\",\n    onClick: () => {\n      addCondition();\n    },\n  },\n  {\n    label: \"Add condition group\",\n    onClick: () => {\n      const conjunction = getConjunction();\n      props.conditions.push(conjunction, [[]]);\n    },\n  },\n];\n\nconst addCondition = () => {\n  const isValid = validateConditions(props.conditions);\n\n  if (!isValid) {\n    return;\n  }\n  const conjunction = getConjunction();\n\n  props.conditions.push(conjunction, [\"\", \"\", \"\"]);\n};\n\nwatchDebounced(\n  () => [...props.conditions],\n  () => {\n    validateSlaData(\"condition\");\n  },\n  { deep: true, debounce: 100 }\n);\n</script>\n","<template>\n  <Dialog\n    v-model=\"dialog.show\"\n    @after-leave=\"resetForm\"\n    :options=\"{ title: dialog.isEditing ? 'Edit workday' : 'Add workday' }\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <div>\n          <FormControl\n            :type=\"'select'\"\n            size=\"sm\"\n            variant=\"subtle\"\n            placeholder=\"Select Workday\"\n            label=\"Workday\"\n            v-model=\"workDayData.workday\"\n            :options=\"[\n              {\n                label: 'Monday',\n                value: 'Monday',\n              },\n              {\n                label: 'Tuesday',\n                value: 'Tuesday',\n              },\n              {\n                label: 'Wednesday',\n                value: 'Wednesday',\n              },\n              {\n                label: 'Thursday',\n                value: 'Thursday',\n              },\n              {\n                label: 'Friday',\n                value: 'Friday',\n              },\n              {\n                label: 'Saturday',\n                value: 'Saturday',\n              },\n              {\n                label: 'Sunday',\n                value: 'Sunday',\n              },\n            ]\"\n            :class=\"{ 'border-red-500': errors.workday }\"\n            @blur=\"validateField('workday')\"\n          />\n          <ErrorMessage :message=\"errors.workday\" class=\"mt-2\" />\n        </div>\n\n        <div>\n          <FormControl\n            :type=\"'time'\"\n            size=\"sm\"\n            variant=\"subtle\"\n            placeholder=\"Start Time\"\n            label=\"Start Time\"\n            v-model=\"workDayData.start_time\"\n            :class=\"{ 'border-red-500': errors.start_time }\"\n            @blur=\"validateField('start_time')\"\n          />\n          <ErrorMessage :message=\"errors.start_time\" class=\"mt-2\" />\n        </div>\n\n        <div>\n          <FormControl\n            :type=\"'time'\"\n            size=\"sm\"\n            variant=\"subtle\"\n            placeholder=\"End Time\"\n            label=\"End Time\"\n            v-model=\"workDayData.end_time\"\n            :class=\"{ 'border-red-500': errors.end_time }\"\n            @blur=\"validateTimeRange\"\n          />\n          <ErrorMessage :message=\"errors.end_time\" class=\"mt-2\" />\n        </div>\n      </div>\n    </template>\n    <template #actions>\n      <div\n        class=\"flex\"\n        :class=\"{\n          'justify-between': dialog.isEditing,\n          'justify-end': !dialog.isEditing,\n        }\"\n      >\n        <div v-if=\"dialog.isEditing\">\n          <Button\n            variant=\"subtle\"\n            :theme=\"isConfirmingDelete ? 'red' : 'gray'\"\n            :label=\"isConfirmingDelete ? 'Confirm Delete' : 'Delete'\"\n            @click=\"deleteWorkDay\"\n            icon-left=\"trash-2\"\n          />\n        </div>\n        <div class=\"flex gap-2\">\n          <Button\n            variant=\"subtle\"\n            theme=\"gray\"\n            @click=\"dialog.show = false\"\n            label=\"Cancel\"\n          />\n          <Button variant=\"solid\" @click=\"onSave\" label=\"Save\" />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, defineModel, reactive, watch } from \"vue\";\nimport { Dialog, FormControl, Button, toast } from \"frappe-ui\";\n\nconst isConfirmingDelete = ref(false);\nconst props = defineProps({\n  workDaysList: {\n    type: Array<any>,\n    required: true,\n  },\n});\n\ninterface DialogData {\n  show: boolean;\n  isEditing: boolean;\n  data?: any;\n}\n\nconst dialog = defineModel<DialogData>({\n  required: true,\n  default: () => ({\n    show: false,\n    isEditing: false,\n    data: {\n      workday: \"\",\n      start_time: \"\",\n      end_time: \"\",\n    },\n  }),\n});\n\nconst workDayData = reactive({\n  workday: \"\",\n  start_time: \"\",\n  end_time: \"\",\n});\n\nconst errors = reactive({\n  workday: \"\",\n  start_time: \"\",\n  end_time: \"\",\n});\n\nconst deleteWorkDay = (event) => {\n  event.preventDefault();\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  const item = props.workDaysList.findIndex(\n    (item) => item.workday === workDayData.workday\n  );\n  if (item !== -1) {\n    props.workDaysList.splice(item, 1);\n  }\n};\n\nfunction formatTimeToHHMMSS(timeStr: string) {\n  if (!timeStr) return \"\";\n\n  if (/^\\d{1,2}:\\d{2}:\\d{2}$/.test(timeStr)) {\n    const [hours, minutes, seconds] = timeStr.split(\":\");\n    return `${hours.padStart(2, \"0\")}:${minutes.padStart(\n      2,\n      \"0\"\n    )}:${seconds.padStart(2, \"0\")}`;\n  }\n\n  if (/^\\d{1,2}:\\d{2}$/.test(timeStr)) {\n    const [hours, minutes] = timeStr.split(\":\");\n    return `${hours.padStart(2, \"0\")}:${minutes.padStart(2, \"0\")}:00`;\n  }\n\n  return \"\";\n}\n\nfunction resetForm() {\n  workDayData.workday = \"\";\n  workDayData.start_time = \"\";\n  workDayData.end_time = \"\";\n  errors.workday = \"\";\n  errors.start_time = \"\";\n  errors.end_time = \"\";\n  isConfirmingDelete.value = false;\n}\n\nconst validateField = (field: string) => {\n  if (!workDayData[field as keyof typeof workDayData]) {\n    errors[field as keyof typeof errors] = \"This field is required\";\n    return false;\n  }\n  errors[field as keyof typeof errors] = \"\";\n  return true;\n};\n\nconst validateTimeRange = () => {\n  if (!workDayData.start_time || !workDayData.end_time) {\n    if (!workDayData.start_time) errors.start_time = \"Start time is required\";\n    if (!workDayData.end_time) errors.end_time = \"End time is required\";\n    return false;\n  }\n\n  const [startHours, startMinutes] = workDayData.start_time\n    .split(\":\")\n    .map(Number);\n  const [endHours, endMinutes] = workDayData.end_time.split(\":\").map(Number);\n\n  if (\n    endHours < startHours ||\n    (endHours === startHours && endMinutes <= startMinutes)\n  ) {\n    errors.end_time = \"End time must be after start time\";\n    return false;\n  }\n\n  errors.end_time = \"\";\n  return true;\n};\n\nconst validateForm = () => {\n  const isWorkdayValid = validateField(\"workday\");\n  const isStartTimeValid = validateField(\"start_time\");\n  const isEndTimeValid = validateField(\"end_time\") && validateTimeRange();\n\n  return isWorkdayValid && isStartTimeValid && isEndTimeValid;\n};\n\nconst onSave = () => {\n  if (!validateForm()) {\n    toast.error(\"Please fix the errors in the form\");\n    return;\n  }\n\n  try {\n    if (dialog.value.isEditing) {\n      const itemIndex = props.workDaysList.findIndex(\n        (item) => item.workday === dialog.value.data?.workday\n      );\n      if (itemIndex !== -1) {\n        const updatedItem = {\n          ...props.workDaysList[itemIndex],\n          ...workDayData,\n        };\n        props.workDaysList.splice(itemIndex, 1, updatedItem);\n        toast.success(\"Workday updated\");\n      }\n    } else {\n      const isDuplicate = props.workDaysList.some(\n        (item) => item.workday === workDayData.workday\n      );\n\n      if (isDuplicate) {\n        errors.workday = \"This workday already exists\";\n        toast.error(\"A workday with this name already exists\");\n        return;\n      }\n\n      const newWorkDay = { ...workDayData };\n      props.workDaysList.push(newWorkDay);\n      toast.success(\"Workday added\");\n    }\n    dialog.value.show = false;\n  } catch (error) {\n    toast.error(`Failed to save workday: ${error}`);\n  }\n};\n\nwatch(\n  () => dialog.value.show,\n  (isOpen) => {\n    if (isOpen) {\n      if (dialog.value.isEditing && dialog.value.data) {\n        workDayData.workday = dialog.value.data.workday;\n        workDayData.start_time = formatTimeToHHMMSS(\n          dialog.value.data.start_time\n        );\n        workDayData.end_time = formatTimeToHHMMSS(dialog.value.data.end_time);\n      } else {\n        resetForm();\n      }\n    }\n  }\n);\n</script>\n","<template>\n  <div\n    class=\"grid gap-2 py-3.5 px-4 items-center\"\n    :style=\"{\n      gridTemplateColumns: getGridTemplateColumnsForTable(props.columns),\n    }\"\n  >\n    <div\n      v-for=\"column in props.columns\"\n      :key=\"column.key\"\n      class=\"w-full overflow-hidden whitespace-nowrap text-ellipsis\"\n    >\n      <div v-if=\"column.key === 'start_time' || column.key === 'end_time'\">\n        {{ formatTime(props.row[column.key]) }}\n      </div>\n      <div v-else>\n        <Select\n          class=\"bg-transparent cursor-pointer border-0 focus-visible:!ring-0 bg-none\"\n          :options=\"workDayOptions\"\n          v-model=\"props.row[column.key]\"\n        />\n      </div>\n    </div>\n    <div class=\"flex justify-end\">\n      <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n        <Button\n          icon=\"more-horizontal\"\n          variant=\"ghost\"\n          @click=\"isConfirmingDelete = false\"\n        />\n      </Dropdown>\n    </div>\n  </div>\n  <hr v-if=\"!props.isLast\" />\n  <WorkDayModal\n    v-model=\"dialog\"\n    :workDaysList=\"slaData.support_and_resolution\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { Button, Select } from \"frappe-ui\";\nimport WorkDayModal from \"./Modals/WorkDayModal.vue\";\nimport { ConfirmDelete, getGridTemplateColumnsForTable } from \"@/utils\";\nimport { slaData } from \"@/stores/sla\";\n\ninterface Column {\n  key: string;\n  label: string;\n  isRequired?: boolean;\n}\n\ninterface WorkDay {\n  id: string;\n  workday: string;\n  start_time: string;\n  end_time: string;\n}\n\nconst props = defineProps<{\n  columns: Column[];\n  row: WorkDay;\n  isLast?: boolean;\n}>();\n\nconst workDayOptions = [\n  { label: \"Monday\", value: \"Monday\" },\n  { label: \"Tuesday\", value: \"Tuesday\" },\n  { label: \"Wednesday\", value: \"Wednesday\" },\n  { label: \"Thursday\", value: \"Thursday\" },\n  { label: \"Friday\", value: \"Friday\" },\n  { label: \"Saturday\", value: \"Saturday\" },\n  { label: \"Sunday\", value: \"Sunday\" },\n];\n\nconst dialog = ref({\n  show: false,\n  isEditing: false,\n  data: {},\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst dropdownOptions = [\n  {\n    label: \"Edit\",\n    onClick: () => editWorkDay(),\n    icon: \"edit\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteWorkDay(),\n    isConfirmingDelete,\n  }),\n];\n\nconst deleteWorkDay = () => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  const item = slaData.value.support_and_resolution.indexOf(props.row);\n  if (item !== -1) {\n    slaData.value.support_and_resolution.splice(item, 1);\n  }\n};\n\nconst editWorkDay = () => {\n  dialog.value.show = true;\n  dialog.value.isEditing = true;\n  dialog.value.data = {\n    workday: props.row.workday,\n    start_time: props.row.start_time,\n    end_time: props.row.end_time,\n  };\n};\n\nconst formatTime = (time) => {\n  if (!time) return \"00:00\";\n  const [hours, minutes] = time.split(\":\");\n  const date = new Date();\n  date.setHours(parseInt(hours) || 0, parseInt(minutes) || 0, 0);\n\n  return date.toLocaleTimeString([], {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    hour12: true,\n  });\n};\n</script>\n","<template>\n  <div class=\"rounded-md border px-2 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 px-4 items-center\"\n      :style=\"{\n        gridTemplateColumns: getGridTemplateColumnsForTable(columns),\n      }\"\n      v-if=\"slaData.support_and_resolution?.length !== 0\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n        :class=\"{\n          'ml-2': column.key === 'workday',\n        }\"\n      >\n        {{ column.label }}\n        <span v-if=\"column.isRequired\" class=\"text-red-500\">*</span>\n      </div>\n    </div>\n    <hr v-if=\"slaData.support_and_resolution?.length !== 0\" />\n    <SlaWorkDaysListItem\n      v-for=\"(row, index) in slaData.support_and_resolution\"\n      :key=\"index + row.workday + row.id\"\n      :row=\"row\"\n      :columns=\"columns\"\n      :isLast=\"index === slaData.support_and_resolution.length - 1\"\n    />\n    <div\n      v-if=\"slaData.support_and_resolution?.length === 0\"\n      class=\"text-center p-4 text-gray-600\"\n    >\n      No workdays in the list\n    </div>\n  </div>\n  <div class=\"flex items-center justify-between mt-2.5\">\n    <Button\n      v-if=\"slaData.support_and_resolution.length < 7\"\n      variant=\"subtle\"\n      label=\"Add row\"\n      @click=\"addWorkDay\"\n      icon-left=\"plus\"\n    />\n    <ErrorMessage :message=\"slaDataErrors.support_and_resolution\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button } from \"frappe-ui\";\nimport SlaWorkDaysListItem from \"./SlaWorkDaysListItem.vue\";\nimport { slaData, slaDataErrors } from \"@/stores/sla\";\nimport { getGridTemplateColumnsForTable } from \"@/utils\";\n\ninterface Column {\n  key: string;\n  label: string;\n  isRequired?: boolean;\n}\n\nconst allDays = [\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n  \"Sunday\",\n];\n\nconst addWorkDay = () => {\n  const usedDays = new Set(\n    slaData.value.support_and_resolution.map((day) => day.workday)\n  );\n  const nextDay = allDays.find((day) => !usedDays.has(day)) || allDays[0];\n\n  slaData.value.support_and_resolution.push({\n    workday: nextDay,\n    start_time: \"09:00:00\",\n    end_time: \"17:00:00\",\n    id: Math.random().toString(36).substring(2, 9),\n  });\n};\n\nconst columns: Column[] = [\n  {\n    label: \"Day\",\n    key: \"workday\",\n    isRequired: true,\n  },\n  {\n    label: \"Start time\",\n    key: \"start_time\",\n    isRequired: true,\n  },\n  {\n    label: \"End time\",\n    key: \"end_time\",\n    isRequired: true,\n  },\n];\n</script>\n","import {\n  Holiday,\n  HolidayErrors,\n  RepetitionPattern,\n} from \"@/components/Settings/Holiday/types\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport { ref } from \"vue\";\n\nexport const holidayListActiveScreen = ref<{\n  screen: \"list\" | \"view\";\n  data: Record<string, any> | null;\n  previousScreen?: {\n    screen: \"list\" | \"view\";\n    data: string;\n  };\n}>({ screen: \"list\", data: null });\n\nexport const holidayDataErrors = ref<HolidayErrors>({\n  holiday_list_name: \"\",\n  from_date: \"\",\n  to_date: \"\",\n});\n\nexport const holidayData = ref({\n  holiday_list_name: \"\",\n  description: \"\",\n  associate_holiday_list: true,\n  loading: false,\n  total_holidays: 0,\n  holidays: [],\n  from_date: null,\n  to_date: null,\n  recurring_holidays: [],\n});\n\nexport const resetHolidayData = () => {\n  holidayData.value = {\n    holiday_list_name: \"\",\n    description: \"\",\n    associate_holiday_list: true,\n    loading: false,\n    total_holidays: 0,\n    holidays: [],\n    from_date: null,\n    to_date: null,\n    recurring_holidays: [],\n  };\n};\n\ntype HolidayField = keyof HolidayErrors;\n\nexport const validateHoliday = (key?: HolidayField) => {\n  const validateField = (field: HolidayField) => {\n    if (key && field !== key) return;\n\n    switch (field) {\n      case \"holiday_list_name\":\n        if (!holidayData.value.holiday_list_name?.trim()) {\n          holidayDataErrors.value.holiday_list_name =\n            \"Holiday list name is required\";\n        } else {\n          holidayDataErrors.value.holiday_list_name = \"\";\n        }\n        break;\n      case \"from_date\":\n        if (!holidayData.value.from_date) {\n          holidayDataErrors.value.from_date = \"Start date is required\";\n        } else {\n          holidayDataErrors.value.from_date = \"\";\n        }\n\n        if (holidayData.value.to_date) {\n          const startDate = new Date(holidayData.value.from_date);\n          const endDate = new Date(holidayData.value.to_date);\n\n          if (startDate > endDate) {\n            holidayDataErrors.value.dateRange =\n              \"Start date cannot be after end date\";\n          } else {\n            holidayDataErrors.value.dateRange = \"\";\n          }\n        }\n        break;\n      case \"to_date\":\n        if (!holidayData.value.to_date) {\n          holidayDataErrors.value.to_date = \"End date is required\";\n        } else {\n          holidayDataErrors.value.to_date = \"\";\n        }\n\n        if (holidayData.value.from_date) {\n          const startDate = new Date(holidayData.value.from_date);\n          const endDate = new Date(holidayData.value.to_date);\n\n          if (startDate > endDate) {\n            holidayDataErrors.value.dateRange =\n              \"Start date cannot be after end date\";\n          } else {\n            holidayDataErrors.value.dateRange = \"\";\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  if (key) {\n    validateField(key);\n  } else {\n    (Object.keys(holidayDataErrors.value) as HolidayField[]).forEach(\n      validateField\n    );\n  }\n\n  return holidayDataErrors.value;\n};\n\nexport function updateWeeklyOffDates() {\n  const newHolidays = holidayData.value.holidays.filter((h) => !h.weekly_off);\n\n  for (const day of holidayData.value.recurring_holidays) {\n    const weeklyOffs = getWeeklyOffDates(\n      holidayData.value.from_date,\n      holidayData.value.to_date,\n      day.day,\n      newHolidays,\n      day.repetition\n    );\n    newHolidays.push(...weeklyOffs);\n  }\n  holidayData.value.holidays = newHolidays;\n}\n\nfunction getWeekOfMonth(date: Dayjs): number {\n  const firstDayOfMonth = date.startOf(\"month\");\n  const firstDayOfWeek = firstDayOfMonth.day();\n  const offset = (date.date() + firstDayOfWeek - 1) / 7;\n  return Math.ceil(offset);\n}\n\nfunction getWeeklyOffDateList(\n  startDate: string | Date,\n  endDate: string | Date,\n  weeklyOff: string,\n  holidays: Holiday[] = [],\n  repetition?: RepetitionPattern\n): Date[] {\n  const start = dayjs(startDate);\n  const end = dayjs(endDate);\n  const dateList: Date[] = [];\n\n  const dayMap: Record<string, number> = {\n    sunday: 0,\n    monday: 1,\n    tuesday: 2,\n    wednesday: 3,\n    thursday: 4,\n    friday: 5,\n    saturday: 6,\n  };\n\n  const targetDay = dayMap[weeklyOff.toLowerCase()];\n  if (targetDay === undefined) {\n    return dateList;\n  }\n\n  const existingDates = holidays.map((h) =>\n    dayjs(h.holiday_date).startOf(\"day\").toDate()\n  );\n\n  let currentDate = start.day(targetDay);\n  if (currentDate.isBefore(start, \"day\")) {\n    currentDate = currentDate.add(1, \"week\");\n  }\n  const useAllOccurrences = !repetition || repetition.all;\n\n  while (currentDate.isSameOrBefore(end, \"day\")) {\n    const currentDateObj = currentDate.toDate();\n    const currentDateStart = dayjs(currentDateObj).startOf(\"day\");\n\n    if (useAllOccurrences || shouldIncludeDate(currentDate, repetition)) {\n      if (\n        !existingDates.some((d) =>\n          dayjs(d).startOf(\"day\").isSame(currentDateStart)\n        )\n      ) {\n        dateList.push(currentDateObj);\n      }\n    }\n    currentDate = currentDate.add(1, \"week\");\n  }\n\n  return dateList;\n}\n\nfunction shouldIncludeDate(\n  date: Dayjs,\n  repetition: RepetitionPattern\n): boolean {\n  if (repetition.all) return true;\n\n  const weekOfMonth = getWeekOfMonth(date);\n\n  switch (weekOfMonth) {\n    case 1:\n      return repetition.first;\n    case 2:\n      return repetition.second;\n    case 3:\n      return repetition.third;\n    case 4:\n      return repetition.fourth;\n    case 5:\n      return repetition.fifth;\n    default:\n      return false;\n  }\n}\n\nfunction getWeeklyOffDates(\n  startDate: string | Date,\n  endDate: string | Date,\n  weeklyOff: string,\n  holidays: Holiday[] = [],\n  repetition: RepetitionPattern = {\n    all: true,\n    first: false,\n    second: false,\n    third: false,\n    fourth: false,\n    fifth: false,\n  }\n): Holiday[] {\n  const dateList = getWeeklyOffDateList(\n    startDate,\n    endDate,\n    weeklyOff,\n    holidays,\n    repetition\n  );\n  return dateList.map((date, index) => ({\n    description: weeklyOff.charAt(0).toUpperCase() + weeklyOff.slice(1),\n    holiday_date: date,\n    weekly_off: 1,\n    idx: index + 1,\n    repetition: repetition,\n  }));\n}\n","<template>\n  <div class=\"flex items-center justify-between\">\n    <div class=\"flex flex-col gap-1\">\n      <div class=\"text-lg font-semibold text-ink-gray-8\">\n        Work schedule and holidays\n      </div>\n      <div class=\"text-p-sm text-ink-gray-6 max-w-lg\">\n        Set working days, hours, and holidays by selecting a predefined schedule\n        or creating a new one.\n      </div>\n    </div>\n    <NestedPopover>\n      <template #target=\"{ open }\">\n        <Button\n          class=\"text-sm\"\n          :icon-right=\"open ? 'chevron-up' : 'chevron-down'\"\n          :label=\"slaData.holiday_list\"\n        />\n      </template>\n      <template #body>\n        <div\n          class=\"my-2 p-1 min-w-40 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n        >\n          <div>\n            <div\n              v-for=\"holiday in holidayListData.data\"\n              :key=\"holiday.name\"\n              class=\"flex items-center justify-between gap-4 rounded px-2 py-1.5 text-base text-ink-gray-8 cursor-pointer hover:bg-surface-gray-2\"\n              @click=\"slaData.holiday_list = holiday.name\"\n            >\n              <div class=\"flex items-center gap-2 w-full\">\n                <input\n                  name=\"holiday_list\"\n                  :checked=\"holiday.name === slaData.holiday_list\"\n                  type=\"radio\"\n                />\n                <div class=\"select-none\">{{ holiday.holiday_list_name }}</div>\n              </div>\n              <div class=\"flex cursor-pointer items-center gap-1\">\n                <Button\n                  variant=\"ghost\"\n                  @click.stop=\"editHolidayList(holiday)\"\n                  icon=\"edit\"\n                />\n              </div>\n            </div>\n            <div\n              class=\"mt-1.5 flex flex-col gap-1 border-t border-outline-gray-modals pt-1.5\"\n            >\n              <Button\n                class=\"w-full !justify-start !text-ink-gray-5\"\n                variant=\"ghost\"\n                label=\"Create new business holiday\"\n                @click=\"createNewHolidayList()\"\n                icon-left=\"plus\"\n              />\n            </div>\n          </div>\n        </div>\n      </template>\n    </NestedPopover>\n  </div>\n  <div class=\"mt-5\">\n    <SlaWorkDaysList />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { NestedPopover, Button, createListResource } from \"frappe-ui\";\nimport SlaWorkDaysList from \"./SlaWorkDaysList.vue\";\nimport { setActiveSettingsTab } from \"../settingsModal\";\nimport {\n  holidayListActiveScreen,\n  resetHolidayData,\n} from \"@/stores/holidayList\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport { slaData, validateSlaData } from \"@/stores/sla\";\n\nconst createNewHolidayList = () => {\n  setActiveSettingsTab(\"Business Holidays\");\n  holidayListActiveScreen.value = {\n    screen: \"view\",\n    data: null,\n    previousScreen: {\n      screen: \"view\",\n      data: slaData.value.name,\n    },\n  };\n  resetHolidayData();\n};\n\nconst editHolidayList = (data: any) => {\n  setActiveSettingsTab(\"Business Holidays\");\n  holidayListActiveScreen.value = {\n    screen: \"view\",\n    data: data,\n    previousScreen: {\n      screen: \"view\",\n      data: slaData.value.name,\n    },\n  };\n};\n\nconst holidayListData = createListResource({\n  doctype: \"HD Service Holiday List\",\n  fields: [\"name\", \"holiday_list_name\"],\n  auto: true,\n});\n\nwatchDebounced(\n  slaData.value.support_and_resolution,\n  () => {\n    validateSlaData(\"support_and_resolution\");\n  },\n  { debounce: 300 }\n);\n</script>\n\n<style scoped>\ninput[type=\"radio\"] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  border: 2px solid #c5c2c2;\n  border-radius: 50%;\n  outline: none;\n  transition: all 0.2s ease;\n  background-color: white;\n}\n\ninput[type=\"radio\"]:checked {\n  background-color: black;\n  border: 2px solid #000;\n}\n\ninput[type=\"radio\"]:checked::after {\n  content: \"\";\n  background-color: #fff;\n}\n\ninput[type=\"radio\"]:focus {\n  outline: none !important;\n  box-shadow: none !important;\n}\n</style>\n","<template>\n  <div\n    class=\"flex gap-2 border border-gray-300 rounded w-fit min-w-max px-4 select-none shadow-sm\"\n  >\n    <div\n      v-if=\"displayOptions.hours\"\n      class=\"p-2 flex flex-col items-center group relative\"\n    >\n      <div class=\"flex items-center gap-1\">\n        <input\n          ref=\"hoursInput\"\n          v-model.number=\"hoursValue\"\n          type=\"number\"\n          min=\"0\"\n          class=\"w-8 text-sm bg-transparent border-0 p-0 text-center focus:ring-0 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\"\n          @blur=\"validateAndUpdateTime('hours')\"\n          @keyup.enter=\"handleEnter\"\n        />\n        <div\n          class=\"flex flex-col group-hover:opacity-100 opacity-0 absolute top-1/2 -translate-y-1/2 -right-3\"\n        >\n          <button\n            @mousedown=\"startAction(() => increment('hours'))\"\n            @touchstart=\"startAction(() => increment('hours'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-up\" class=\"size-3.5\" />\n          </button>\n          <button\n            @mousedown=\"startAction(() => decrement('hours'))\"\n            @touchstart=\"startAction(() => decrement('hours'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-down\" class=\"size-3.5\" />\n          </button>\n        </div>\n      </div>\n      <div class=\"text-xs text-gray-600 mt-1\">Hrs</div>\n    </div>\n    <div\n      v-if=\"displayOptions.minutes\"\n      class=\"p-2 flex flex-col items-center group relative\"\n    >\n      <div class=\"flex items-center gap-1\">\n        <input\n          ref=\"minutesInput\"\n          v-model.number=\"minutesValue\"\n          type=\"number\"\n          min=\"0\"\n          max=\"59\"\n          class=\"w-8 text-sm bg-transparent border-0 p-0 text-center focus:ring-0 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\"\n          @blur=\"validateAndUpdateTime('minutes')\"\n          @keyup.enter=\"handleEnter\"\n        />\n        <div\n          class=\"flex flex-col group-hover:opacity-100 opacity-0 absolute top-1/2 -translate-y-1/2 -right-3\"\n        >\n          <button\n            @mousedown=\"startAction(() => increment('minutes'))\"\n            @touchstart=\"startAction(() => increment('minutes'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-up\" class=\"size-3.5\" />\n          </button>\n          <button\n            @mousedown=\"startAction(() => decrement('minutes'))\"\n            @touchstart=\"startAction(() => decrement('minutes'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-down\" class=\"size-3.5\" />\n          </button>\n        </div>\n      </div>\n      <div class=\"text-xs text-gray-600 mt-1\">Min</div>\n    </div>\n    <div\n      v-if=\"displayOptions.seconds\"\n      class=\"p-2 flex flex-col items-center group relative\"\n    >\n      <div class=\"flex items-center gap-1\">\n        <input\n          ref=\"secondsInput\"\n          v-model.number=\"secondsValue\"\n          type=\"number\"\n          min=\"0\"\n          max=\"59\"\n          class=\"w-8 text-sm bg-transparent border-0 p-0 text-center focus:ring-0 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\"\n          @blur=\"validateAndUpdateTime('seconds')\"\n          @keyup.enter=\"handleEnter\"\n        />\n        <div\n          class=\"flex flex-col group-hover:opacity-100 opacity-0 absolute top-1/2 -translate-y-1/2 -right-3\"\n        >\n          <button\n            @mousedown=\"startAction(() => increment('seconds'))\"\n            @touchstart=\"startAction(() => increment('seconds'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-up\" class=\"size-3.5\" />\n          </button>\n          <button\n            @mousedown=\"startAction(() => decrement('seconds'))\"\n            @touchstart=\"startAction(() => decrement('seconds'))\"\n            @mouseup=\"clearActiveInterval\"\n            @mouseleave=\"clearActiveInterval\"\n            @touchend=\"clearActiveInterval\"\n            @touchcancel=\"clearActiveInterval\"\n            class=\"hover:bg-gray-100 rounded-sm select-none\"\n          >\n            <FeatherIcon name=\"chevron-down\" class=\"size-3.5\" />\n          </button>\n        </div>\n      </div>\n      <div class=\"text-xs text-gray-600 mt-1\">Sec</div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  ref,\n  computed,\n  watch,\n  defineEmits,\n  defineProps,\n  withDefaults,\n  onUnmounted,\n} from \"vue\";\n\ninterface Options {\n  hours?: boolean;\n  minutes?: boolean;\n  seconds?: boolean;\n}\n\nconst props = withDefaults(\n  defineProps<{\n    modelValue?: number;\n    min?: number;\n    max?: number;\n    options?: Partial<Options>;\n  }>(),\n  {\n    modelValue: 0,\n    min: 0,\n    max: Number.MAX_SAFE_INTEGER,\n    options: () => ({}),\n  }\n);\n\nconst normalizedOptions = computed<Required<Options>>(() => ({\n  hours: props.options?.hours ?? true,\n  minutes: props.options?.minutes ?? true,\n  seconds: props.options?.seconds ?? false,\n}));\n\nconst displayOptions = computed(() => {\n  const { hours, minutes, seconds } = normalizedOptions.value;\n  if (!hours && !minutes && !seconds) {\n    return { hours: true, minutes: true, seconds: false };\n  }\n  return { hours, minutes, seconds };\n});\nconst emit = defineEmits<{\n  (e: \"update:modelValue\", value: number): void;\n  (e: \"change\", value: number): void;\n}>();\n\nconst time = ref(props.modelValue);\nconst hoursInput = ref<HTMLInputElement | null>(null);\nconst minutesInput = ref<HTMLInputElement | null>(null);\nconst secondsInput = ref<HTMLInputElement | null>(null);\nconst activeInterval = ref<number | null>(null);\nconst activeAction = ref<(() => void) | null>(null);\nconst initialDelay = 300;\nconst repeatDelay = 50;\nlet isMouseDown = false;\nlet actionTimeout: number | null = null;\n\nconst hoursValue = computed({\n  get: () => Math.floor(time.value / 3600).toString(),\n  set: (value) => {\n    if (value === \"\") return;\n    const num = parseInt(value, 10);\n    if (!isNaN(num) && num >= 0) {\n      const newTime = num * 3600 + getMinutes() * 60 + getSeconds();\n      updateTime(newTime);\n    }\n  },\n});\n\nconst minutesValue = computed({\n  get: () => Math.floor((time.value % 3600) / 60).toString(),\n  set: (value) => {\n    if (value === \"\") return;\n    const num = parseInt(value, 10);\n    if (!isNaN(num) && num >= 0 && num <= 59) {\n      const newTime = getHours() * 3600 + num * 60 + getSeconds();\n      updateTime(newTime);\n    }\n  },\n});\n\nconst secondsValue = computed({\n  get: () => (time.value % 60).toString(),\n  set: (value) => {\n    if (value === \"\") return;\n    const num = parseInt(value, 10);\n    if (!isNaN(num) && num >= 0 && num <= 59) {\n      const newTime = getHours() * 3600 + getMinutes() * 60 + num;\n      updateTime(newTime);\n    }\n  },\n});\n\nfunction getHours() {\n  return Math.floor(time.value / 3600);\n}\n\nfunction getMinutes() {\n  return Math.floor((time.value % 3600) / 60);\n}\n\nfunction getSeconds() {\n  return time.value % 60;\n}\n\n// Clear any active intervals when component unmounts\nonUnmounted(() => {\n  clearActiveInterval();\n  if (actionTimeout) {\n    clearTimeout(actionTimeout);\n  }\n});\n\nfunction clearActiveInterval() {\n  if (activeInterval.value !== null) {\n    clearInterval(activeInterval.value);\n    activeInterval.value = null;\n  }\n  if (actionTimeout) {\n    clearTimeout(actionTimeout);\n    actionTimeout = null;\n  }\n  isMouseDown = false;\n}\n\nfunction startAction(action: () => void) {\n  if (isMouseDown) return;\n\n  isMouseDown = true;\n\n  action();\n\n  actionTimeout = window.setTimeout(() => {\n    if (!isMouseDown) return;\n\n    activeAction.value = action;\n    activeInterval.value = window.setInterval(() => {\n      if (activeAction.value) {\n        activeAction.value();\n      }\n    }, repeatDelay);\n  }, initialDelay);\n}\n\nfunction handlePointerUp() {\n  clearActiveInterval();\n}\n\ndocument.addEventListener(\"mouseup\", handlePointerUp);\ndocument.addEventListener(\"touchend\", handlePointerUp);\nonUnmounted(() => {\n  document.removeEventListener(\"mouseup\", handlePointerUp);\n  document.removeEventListener(\"touchend\", handlePointerUp);\n});\n\nfunction updateTime(newTime: number, emitEvent = true) {\n  newTime = Math.max(props.min, Math.min(props.max, newTime));\n  if (newTime !== time.value) {\n    time.value = newTime;\n    if (emitEvent) {\n      emit(\"update:modelValue\", time.value);\n      emit(\"change\", time.value);\n    }\n  }\n}\n\nfunction validateAndUpdateTime(unit: \"hours\" | \"minutes\" | \"seconds\") {\n  switch (unit) {\n    case \"hours\":\n      hoursValue.value = hoursValue.value;\n      break;\n    case \"minutes\":\n      minutesValue.value = minutesValue.value;\n      break;\n    case \"seconds\":\n      secondsValue.value = secondsValue.value;\n      break;\n  }\n}\n\nfunction handleEnter(e: KeyboardEvent) {\n  (e.target as HTMLInputElement).blur();\n}\n\nfunction increment(unit: \"hours\" | \"minutes\" | \"seconds\") {\n  let newTime = time.value;\n  switch (unit) {\n    case \"hours\":\n      newTime += 3600;\n      break;\n    case \"minutes\":\n      newTime += 60;\n      break;\n    case \"seconds\":\n      newTime += 1;\n      break;\n  }\n  updateTime(newTime);\n}\n\nfunction decrement(unit: \"hours\" | \"minutes\" | \"seconds\") {\n  let newTime = time.value;\n  switch (unit) {\n    case \"hours\":\n      newTime -= 3600;\n      break;\n    case \"minutes\":\n      newTime -= 60;\n      break;\n    case \"seconds\":\n      newTime -= 1;\n      break;\n  }\n  updateTime(newTime);\n}\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    if (newValue !== time.value) {\n      time.value = Math.max(props.min, Math.min(props.max, newValue));\n    }\n  },\n  { immediate: true }\n);\n</script>\n\n<style scoped>\nbutton {\n  outline: none;\n  -webkit-tap-highlight-color: transparent;\n}\n</style>\n","export function formatTimeHMS(seconds) {\n  const days = Math.floor(seconds / (3600 * 24));\n  const hours = Math.floor((seconds % (3600 * 24)) / 3600);\n  const minutes = Math.floor((seconds % 3600) / 60);\n  const remainingSeconds = Math.floor(seconds % 60);\n\n  let formattedTime = \"\";\n\n  if (days > 0) {\n    formattedTime += `${days} days `;\n  }\n\n  if (hours > 0) {\n    formattedTime += `${hours} hours `;\n  }\n\n  if (minutes > 0) {\n    formattedTime += `${minutes} minutes `;\n  }\n\n  if (remainingSeconds > 0) {\n    formattedTime += `${remainingSeconds} seconds`;\n  }\n\n  return formattedTime.trim();\n}\n","<template>\n  <Dialog\n    v-model=\"dialog\"\n    :options=\"{\n      title: 'Edit response and resolution',\n    }\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <FormControl\n          :type=\"'select'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Select Priority\"\n          label=\"Priority\"\n          v-model=\"priorityData.priority\"\n          :options=\"priorityOptions\"\n          required\n        />\n        <div>\n          <FormLabel label=\"Response time\" required />\n          <Popover class=\"mt-2\">\n            <template #target=\"{ togglePopover }\" class=\"w-max\">\n              <div\n                @click=\"togglePopover()\"\n                class=\"w-full bg-gray-100 rounded p-1.5 px-2 text-base text-gray-800\"\n              >\n                <div v-if=\"priorityData.response_time\">\n                  {{ formatTimeHMS(priorityData.response_time) }}\n                </div>\n                <div v-else class=\"text-gray-500\">Select time</div>\n              </div>\n            </template>\n            <template #body>\n              <div class=\"absolute bg-white top-2\">\n                <DurationPicker\n                  v-model=\"priorityData.response_time\"\n                  :options=\"{ seconds: false }\"\n                />\n              </div>\n            </template>\n          </Popover>\n        </div>\n        <div>\n          <FormLabel label=\"Resolution time\" required />\n          <Popover class=\"mt-2\">\n            <template #target=\"{ togglePopover }\" class=\"w-max\">\n              <div\n                @click=\"togglePopover()\"\n                class=\"w-full bg-gray-100 rounded p-1.5 px-2 text-base text-gray-800\"\n              >\n                <div v-if=\"priorityData.resolution_time\">\n                  {{ formatTimeHMS(priorityData.resolution_time) }}\n                </div>\n                <div v-else class=\"text-gray-500\">Select time</div>\n              </div>\n            </template>\n            <template #body>\n              <div class=\"absolute bg-white top-2\">\n                <DurationPicker\n                  v-model=\"priorityData.resolution_time\"\n                  :options=\"{ seconds: false }\"\n                />\n              </div>\n            </template>\n          </Popover>\n        </div>\n        <Checkbox\n          v-model=\"priorityData.default_priority\"\n          label=\"Set default priority\"\n        />\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex justify-between\">\n        <div>\n          <Button\n            variant=\"subtle\"\n            :theme=\"isConfirmingDelete ? 'red' : 'gray'\"\n            :label=\"isConfirmingDelete ? 'Confirm Delete' : 'Delete'\"\n            @click=\"deleteItem\"\n            icon-left=\"trash-2\"\n          />\n        </div>\n        <div class=\"flex gap-2\">\n          <Button\n            variant=\"subtle\"\n            theme=\"gray\"\n            @click=\"dialog = false\"\n            label=\"Cancel\"\n          />\n          <Button variant=\"solid\" @click=\"onSave\" label=\"Save\" />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  Button,\n  Checkbox,\n  Dialog,\n  FormControl,\n  FormLabel,\n  Popover,\n  toast,\n} from \"frappe-ui\";\nimport { inject, ref } from \"vue\";\nimport { formatTimeHMS } from \"../utils\";\nimport DurationPicker from \"@/components/frappe-ui/DurationPicker.vue\";\nimport { slaData } from \"@/stores/sla\";\n\nconst dialog = defineModel<boolean>();\nconst emit = defineEmits([\"onDefaultPriorityChange\"]);\nconst isConfirmingDelete = ref(false);\n\nconst props = defineProps({\n  row: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst priorityOptions = inject(\"priorityOptions\");\n\nconst priorityData = ref({\n  priority: props.row.priority,\n  resolution_time: props.row.resolution_time,\n  response_time: props.row.response_time,\n  default_priority: props.row.default_priority,\n});\n\nconst validateForm = () => {\n  if (!priorityData.value.priority) {\n    toast.error(\"Please select a priority\");\n    return false;\n  }\n\n  const resolutionTime = parseInt(priorityData.value.resolution_time);\n  if (isNaN(resolutionTime) || resolutionTime <= 0) {\n    toast.error(\"Resolution time must be a positive number\");\n    return false;\n  }\n\n  const responseTime = parseInt(priorityData.value.response_time);\n  if (isNaN(responseTime) || responseTime <= 0) {\n    toast.error(\"Response time must be a positive number\");\n    return false;\n  }\n\n  if (priorityData.value.default_priority) {\n    slaData.value.priorities.forEach((priority) => {\n      priority.default_priority = false;\n    });\n  }\n\n  return true;\n};\n\nconst deleteItem = (event) => {\n  event.preventDefault();\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  slaData.value.priorities.splice(\n    slaData.value.priorities.indexOf(props.row),\n    1\n  );\n};\n\nconst onSave = () => {\n  if (!validateForm()) return;\n  props.row.priority = priorityData.value.priority;\n  props.row.resolution_time = priorityData.value.resolution_time;\n  props.row.response_time = priorityData.value.response_time;\n  props.row.default_priority = priorityData.value.default_priority;\n\n  dialog.value = false;\n};\n</script>\n","<template>\n  <div\n    class=\"grid gap-2 py-3.5 px-4 items-center\"\n    :style=\"{\n      gridTemplateColumns,\n    }\"\n  >\n    <div\n      v-for=\"column in props.columns\"\n      :key=\"column.key\"\n      class=\"w-full overflow-hidden whitespace-nowrap text-ellipsis\"\n    >\n      <div v-if=\"column.key === 'default_priority'\">\n        <Checkbox\n          v-model=\"props.row.default_priority\"\n          @update:modelValue=\"(e) => onDefaultPriorityChange(e)\"\n        />\n      </div>\n      <div\n        v-else-if=\"\n          column.key === 'response_time' || column.key === 'resolution_time'\n        \"\n      >\n        <Popover>\n          <template #target=\"{ togglePopover }\">\n            <div\n              @click=\"togglePopover()\"\n              class=\"min-h-7 w-full cursor-pointer select-none leading-5 p-1 px-2 hover:bg-gray-200 rounded\"\n            >\n              {{ formatTimeHMS(props.row[column.key]) }}\n            </div>\n          </template>\n          <template #body>\n            <div class=\"absolute bg-white top-2\">\n              <DurationPicker v-model=\"props.row[column.key]\" />\n            </div>\n          </template>\n        </Popover>\n      </div>\n      <div v-else>\n        <Select\n          class=\"w-full bg-transparent cursor-pointer border-0 focus-visible:!ring-0 bg-none\"\n          :options=\"priorityOptions\"\n          v-model=\"props.row[column.key]\"\n        />\n      </div>\n    </div>\n    <div class=\"flex justify-end\">\n      <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n        <Button\n          icon=\"more-horizontal\"\n          variant=\"ghost\"\n          @click=\"isConfirmingDelete = false\"\n        />\n      </Dropdown>\n    </div>\n  </div>\n  <hr v-if=\"!props.isLast\" />\n  <EditResponseResolutionModal v-model=\"dialog\" :row=\"props.row\" />\n</template>\n\n<script setup lang=\"ts\">\nimport DurationPicker from \"@/components/frappe-ui/DurationPicker.vue\";\nimport { slaData } from \"@/stores/sla\";\nimport { ConfirmDelete } from \"@/utils\";\nimport { Button, Checkbox, Popover, Select } from \"frappe-ui\";\nimport { inject, ref } from \"vue\";\nimport EditResponseResolutionModal from \"./Modals/EditResponseResolutionModal.vue\";\nimport { formatTimeHMS } from \"./utils\";\n\nconst props = defineProps({\n  columns: {\n    type: Array<any>,\n    required: true,\n  },\n  row: {\n    type: Object,\n    required: true,\n  },\n  isLast: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst isConfirmingDelete = ref(false);\nconst dialog = ref(false);\nconst priorityData = ref({\n  priority: props.row.priority,\n  resolution_time: props.row.resolution_time,\n  response_time: props.row.response_time,\n  default_priority: props.row.default_priority,\n});\n\nconst priorityOptions = inject<Array<any>>(\"priorityOptions\");\n\nconst dropdownOptions = [\n  {\n    label: \"Edit\",\n    onClick: () => editItem(),\n    icon: \"edit\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteItem(),\n    isConfirmingDelete,\n  }),\n];\n\nconst gridTemplateColumns = inject<string>(\"gridTemplateColumns\");\n\nconst deleteItem = () => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  slaData.value.priorities.splice(\n    slaData.value.priorities.indexOf(props.row),\n    1\n  );\n};\n\nconst editItem = () => {\n  dialog.value = true;\n  priorityData.value = {\n    priority: props.row.priority,\n    resolution_time: props.row.resolution_time,\n    response_time: props.row.response_time,\n    default_priority: props.row.default_priority,\n  };\n};\n\nconst onDefaultPriorityChange = (defaultPriority) => {\n  slaData.value.priorities.forEach((priority) => {\n    priority.default_priority = false;\n  });\n  props.row.default_priority = defaultPriority;\n};\n</script>\n","<template>\n  <div class=\"rounded-md border px-2 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 px-4 items-center\"\n      :style=\"{\n        gridTemplateColumns,\n      }\"\n      v-if=\"slaData.priorities?.length !== 0\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n        :class=\"{\n          'ml-2':\n            column.key === 'priority' ||\n            column.key === 'response_time' ||\n            column.key === 'resolution_time',\n        }\"\n      >\n        {{ column.label }}\n        <span v-if=\"column.isRequired\" class=\"text-red-500\">*</span>\n      </div>\n    </div>\n    <hr v-if=\"slaData.priorities?.length !== 0\" />\n    <SlaPriorityListItem\n      v-for=\"(row, index) in slaData.priorities\"\n      :key=\"row.priority\"\n      :row=\"row\"\n      :columns=\"columns\"\n      :isLast=\"index === slaData.priorities.length - 1\"\n    />\n    <div\n      v-if=\"slaData.priorities?.length === 0\"\n      class=\"text-center p-4 text-gray-600\"\n    >\n      No priorities in the list\n    </div>\n  </div>\n  <div\n    class=\"flex items-center justify-between mt-2.5\"\n    v-if=\"\n      slaData.priorities.length !== priorityOptions.length ||\n      slaDataErrors.default_priority ||\n      slaDataErrors.priorities\n    \"\n  >\n    <div>\n      <Button\n        v-if=\"slaData.priorities.length !== priorityOptions.length\"\n        variant=\"subtle\"\n        label=\"Add row\"\n        @click=\"addRow\"\n        icon-left=\"plus\"\n      />\n    </div>\n    <ErrorMessage\n      :message=\"slaDataErrors.default_priority || slaDataErrors.priorities\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, createResource, toast } from \"frappe-ui\";\nimport SlaPriorityListItem from \"./SlaPriorityListItem.vue\";\nimport { computed, provide, reactive } from \"vue\";\nimport {\n  slaActiveScreen,\n  slaData,\n  slaDataErrors,\n  validateSlaData,\n} from \"@/stores/sla\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport { getGridTemplateColumnsForTable } from \"@/utils\";\n\ncreateResource({\n  url: \"frappe.client.get_list\",\n  params: {\n    doctype: \"HD Ticket Priority\",\n    fields: [\"name\"],\n    order_by: \"integer_value desc\",\n  },\n  auto: true,\n  onSuccess(data) {\n    priorityOptions.push(\n      ...data.map((p) => {\n        return {\n          label: p.name,\n          value: p.name,\n        };\n      })\n    );\n    if (!slaActiveScreen.value.data) {\n      slaData.value.priorities = priorityOptions.map((p, index) => {\n        return {\n          priority: p.value,\n          resolution_time: 60 * 60,\n          response_time: 60 * 60,\n          default_priority: index === 0,\n        };\n      });\n    }\n  },\n});\n\nconst priorityOptions = reactive([]);\n\nprovide(\"priorityOptions\", priorityOptions);\n\nconst addRow = () => {\n  const existingPriorities = slaData.value.priorities.map((p) => p.priority);\n  const availablePriorities = priorityOptions.filter(\n    (p) => !existingPriorities.includes(p.value)\n  );\n\n  if (availablePriorities.length === 0) {\n    toast.error(\"All available priorities have already been added\");\n    return;\n  }\n\n  const newPriority = availablePriorities[0].value;\n\n  slaData.value.priorities.push({\n    priority: newPriority,\n    resolution_time: 60 * 60,\n    response_time: 60 * 60,\n    default_priority: slaData.value.priorities.length === 0,\n  });\n};\n\nconst columns = computed(() => [\n  {\n    label: \"Priority\",\n    key: \"priority\",\n    isRequired: true,\n  },\n  {\n    label: \"Default priority\",\n    key: \"default_priority\",\n    isRequired: true,\n  },\n  {\n    label: \"First response time\",\n    key: \"response_time\",\n    isRequired: true,\n  },\n  {\n    label: \"Resolution time\",\n    key: \"resolution_time\",\n    isRequired: true,\n  },\n  //   slaData.value.apply_sla_for_resolution && {\n  //     label: \"Resolution time\",\n  //     key: \"resolution_time\",\n  //     isRequired: Boolean(slaData.value.apply_sla_for_resolution),\n  //   },\n  // ].filter((c) => c)\n]);\n\nconst gridTemplateColumns = computed(() => {\n  // return getGridTemplateColumnsForTable(columns.value.filter((c) => c));\n  return getGridTemplateColumnsForTable(columns.value);\n});\n\nprovide(\"gridTemplateColumns\", gridTemplateColumns);\n\nwatchDebounced(\n  () => [...slaData.value.priorities],\n  () => {\n    validateSlaData(\"priorities\");\n  },\n  { deep: true, debounce: 300 }\n);\n</script>\n","<template>\n  <div\n    class=\"grid gap-2 py-3.5 px-4 items-center\"\n    :style=\"{\n      gridTemplateColumns: getGridTemplateColumnsForTable(props.columns),\n    }\"\n  >\n    <div\n      v-for=\"column in props.columns\"\n      :key=\"column.key\"\n      class=\"w-full overflow-hidden whitespace-nowrap text-ellipsis\"\n    >\n      <div v-if=\"column.key === 'status'\">\n        <Select\n          class=\"w-[160px] bg-transparent cursor-pointer border-0 focus-visible:!ring-0 bg-none\"\n          :options=\"statusOptions\"\n          v-model=\"props.row['status']\"\n        />\n      </div>\n      <div v-else-if=\"column.key === 'sla_behavior'\">\n        <Select\n          class=\"w-[160px] bg-transparent cursor-pointer border-0 focus-visible:!ring-0 bg-none\"\n          :options=\"slaBehaviorOptions\"\n          v-model=\"props.row['sla_behavior']\"\n        />\n      </div>\n    </div>\n    <div class=\"flex justify-end\">\n      <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n        <Button\n          icon=\"more-horizontal\"\n          variant=\"ghost\"\n          @click=\"isConfirmingDelete = false\"\n        />\n      </Dropdown>\n    </div>\n  </div>\n  <hr v-if=\"!props.isLast\" />\n  <Dialog\n    v-model=\"dialog\"\n    @after-leave=\"isConfirmingDelete = false\"\n    :options=\"{\n      title: 'Edit Status',\n    }\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <FormControl\n          :type=\"'select'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Select Status\"\n          label=\"Status\"\n          v-model=\"statusData.status\"\n          :options=\"statusOptions\"\n          required\n        />\n        <FormControl\n          :type=\"'select'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Select Status\"\n          label=\"SLA behavior\"\n          v-model=\"statusData.sla_behavior\"\n          :options=\"slaBehaviorOptions\"\n          required\n        />\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex justify-between\">\n        <div>\n          <Button\n            variant=\"subtle\"\n            :theme=\"isConfirmingDelete ? 'red' : 'gray'\"\n            :label=\"isConfirmingDelete ? 'Confirm Delete' : 'Delete'\"\n            @click=\"deleteItem\"\n            icon-left=\"trash-2\"\n          />\n        </div>\n        <div class=\"flex gap-2\">\n          <Button\n            variant=\"subtle\"\n            theme=\"gray\"\n            @click=\"dialog = false\"\n            label=\"Cancel\"\n          />\n          <Button variant=\"solid\" @click=\"onSave\" label=\"Save\" />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { Button, Select, Dialog, toast } from \"frappe-ui\";\nimport { ConfirmDelete, getGridTemplateColumnsForTable } from \"@/utils\";\n\nconst props = defineProps({\n  columns: {\n    type: Array<any>,\n    required: true,\n  },\n  row: {\n    type: Object,\n    required: true,\n  },\n  isLast: {\n    type: Boolean,\n    default: false,\n  },\n  statusList: {\n    type: Array<any>,\n    required: true,\n  },\n});\n\nconst dialog = ref(false);\nconst isConfirmingDelete = ref(false);\nconst statusData = ref({\n  status: props.row.status,\n  sla_behavior: props.row.sla_behavior,\n});\n\nconst statusOptions = [\n  {\n    label: \"Open\",\n    value: \"Open\",\n  },\n  {\n    label: \"Replied\",\n    value: \"Replied\",\n  },\n  {\n    label: \"Resolved\",\n    value: \"Resolved\",\n  },\n  {\n    label: \"Closed\",\n    value: \"Closed\",\n  },\n];\n\nconst slaBehaviorOptions = [\n  {\n    label: \"Fulfilled\",\n    value: \"Fulfilled\",\n  },\n  {\n    label: \"Paused\",\n    value: \"Paused\",\n  },\n];\n\nconst dropdownOptions = [\n  {\n    label: \"Edit\",\n    onClick: () => editItem(),\n    icon: \"edit\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteItem(),\n    isConfirmingDelete,\n  }),\n];\n\nconst deleteItem = () => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  props.statusList.splice(props.statusList.indexOf(props.row), 1);\n};\n\nconst editItem = () => {\n  statusData.value = {\n    status: props.row.status,\n    sla_behavior: props.row.sla_behavior,\n  };\n  dialog.value = true;\n};\n\nfunction onSave() {\n  if (!statusData.value.status) {\n    toast.error(\"Please select a status\");\n    return;\n  }\n\n  if (!statusData.value.sla_behavior) {\n    toast.error(\"Please select an SLA behavior\");\n    return;\n  }\n\n  const isDuplicate = props.statusList.some(\n    (item) => item.status === statusData.value.status && item !== props.row\n  );\n\n  if (isDuplicate) {\n    toast.error(\"A status with this name already exists\");\n    return;\n  }\n\n  props.row.status = statusData.value.status;\n  props.row.sla_behavior = statusData.value.sla_behavior;\n\n  statusData.value = {\n    status: \"\",\n    sla_behavior: \"\",\n  };\n\n  dialog.value = false;\n}\n</script>\n","<template>\n  <div class=\"rounded-md border px-2 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 px-4 items-center\"\n      :style=\"{\n        gridTemplateColumns: getGridTemplateColumnsForTable(columns),\n      }\"\n      v-if=\"statusList?.length !== 0\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis ml-2\"\n      >\n        {{ column.label }}\n        <span v-if=\"column.isRequired\" class=\"text-red-500\">*</span>\n      </div>\n    </div>\n    <hr v-if=\"statusList?.length !== 0\" />\n    <SlaStatusListItem\n      v-for=\"(row, index) in statusList\"\n      :key=\"index + row.status + row.id\"\n      :row=\"row\"\n      :columns=\"columns\"\n      :isLast=\"index === statusList.length - 1\"\n      :statusList=\"statusList\"\n    />\n    <div v-if=\"statusList?.length === 0\" class=\"text-center p-4 text-gray-600\">\n      No status in the list\n    </div>\n  </div>\n  <div\n    class=\"flex items-center justify-between mt-2.5\"\n    v-if=\"\n      slaData.statuses.length < 4 ||\n      slaDataErrors.statuses ||\n      slaDataErrors.statuses_conflict\n    \"\n  >\n    <div>\n      <Button\n        v-if=\"slaData.statuses.length < 4\"\n        variant=\"subtle\"\n        label=\"Add row\"\n        @click=\"addRow\"\n        icon-left=\"plus\"\n      />\n    </div>\n    <ErrorMessage\n      :message=\"slaDataErrors.statuses || slaDataErrors.statuses_conflict\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, toast } from \"frappe-ui\";\nimport SlaStatusListItem from \"./SlaStatusListItem.vue\";\nimport { slaData, slaDataErrors, validateSlaData } from \"@/stores/sla\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport { getGridTemplateColumnsForTable } from \"@/utils\";\n\nconst props = defineProps({\n  statusList: {\n    type: Array<any>,\n    required: true,\n  },\n});\n\nconst statusOptions = [\"Open\", \"Resolved\", \"Closed\", \"Replied\"];\n\nconst addRow = () => {\n  const existingStatuses = props.statusList.map((s) => s?.status);\n\n  const availableStatuses = statusOptions.filter(\n    (status) => !existingStatuses.includes(status)\n  );\n\n  if (availableStatuses.length === 0) {\n    toast.error(\"All available statuses have already been added\");\n    return;\n  }\n\n  const newStatus = availableStatuses[0];\n\n  if (!newStatus) {\n    toast.error(\"No valid status available to add\");\n    return;\n  }\n\n  const newStatusItem = {\n    status: newStatus,\n    sla_behavior: \"Fulfilled\",\n    id: Math.random().toString(36).substring(2, 9),\n  };\n\n  props.statusList.push(newStatusItem);\n};\n\nconst columns = [\n  {\n    label: \"When Status is\",\n    key: \"status\",\n    isRequired: true,\n  },\n  {\n    label: \"SLA is\",\n    key: \"sla_behavior\",\n    isRequired: true,\n  },\n];\n\nwatchDebounced(\n  () => [...props.statusList],\n  () => {\n    validateSlaData(\"statuses\");\n  },\n  { deep: true, debounce: 300 }\n);\n</script>\n","<template>\n  <div v-if=\"slaData.loading\" class=\"flex items-center h-full justify-center\">\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div\n    v-if=\"!slaData.loading\"\n    class=\"sticky top-0 z-10 bg-white px-10 pt-8 pb-6\"\n  >\n    <div class=\"flex items-center justify-between w-full\">\n      <div>\n        <div class=\"flex items-center gap-2\">\n          <Button\n            variant=\"ghost\"\n            icon-left=\"chevron-left\"\n            :label=\"slaData.service_level || 'New SLA Policy'\"\n            size=\"md\"\n            @click=\"goBack()\"\n            class=\"cursor-pointer -ml-4 hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5 font-semibold text-ink-gray-7 text-xl hover:opacity-70 !pr-0\"\n          />\n          <Badge\n            :variant=\"'subtle'\"\n            :theme=\"'orange'\"\n            size=\"sm\"\n            label=\"Unsaved changes\"\n            v-if=\"isDirty\"\n          />\n        </div>\n      </div>\n      <div class=\"flex gap-4 items-center\">\n        <div\n          class=\"flex items-center justify-between gap-2 cursor-pointer\"\n          @click=\"toggleEnabled\"\n        >\n          <Switch size=\"sm\" :model-value=\"slaData.enabled\" />\n          <span class=\"text-sm text-ink-gray-7 font-medium\">Enabled</span>\n        </div>\n        <Button\n          label=\"Save\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"saveSla()\"\n          :disabled=\"Boolean(!isDirty && slaActiveScreen.data)\"\n          :loading=\"slaData.loading || slaPolicyList.setValue.loading\"\n        />\n      </div>\n    </div>\n  </div>\n  <div v-if=\"!slaData.loading\" class=\"overflow-y-auto px-10 pb-10\">\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n      <div>\n        <FormControl\n          :type=\"'text'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Name\"\n          label=\"Name\"\n          v-model=\"slaData.service_level\"\n          required\n          @change=\"validateSlaData('service_level')\"\n          :disabled=\"Boolean(slaActiveScreen.data)\"\n        />\n        <ErrorMessage :message=\"slaDataErrors.service_level\" class=\"mt-2\" />\n      </div>\n      <FormControl\n        :type=\"'textarea'\"\n        size=\"sm\"\n        variant=\"subtle\"\n        placeholder=\"Description\"\n        label=\"Description\"\n        v-model=\"slaData.description\"\n      />\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\"\n          >Assignment conditions</span\n        >\n        <span class=\"text-p-sm text-ink-gray-6\">\n          Choose which tickets are affected by this policy.\n        </span>\n      </div>\n      <div class=\"mt-3\">\n        <div class=\"flex items-center justify-between\">\n          <Checkbox\n            label=\"Set as default SLA\"\n            :model-value=\"slaData.default_sla\"\n            @update:model-value=\"toggleDefaultSla\"\n            class=\"text-ink-gray-6 text-base font-medium\"\n          />\n          <div v-if=\"isOldSla && slaActiveScreen.data && !slaData.default_sla\">\n            <Popover trigger=\"hover\" hoverDelay=\"0.25\" placement=\"top-end\">\n              <template #target>\n                <div class=\"text-sm text-ink-gray-6 flex gap-1 cursor-default\">\n                  Old Conditions\n                  <FeatherIcon name=\"info\" class=\"size-4\" />\n                </div>\n              </template>\n              <template #body-main>\n                <div\n                  class=\"text-sm text-ink-gray-6 p-2 bg-white rounded-md max-w-96 text-wrap whitespace-pre-wrap leading-5\"\n                >\n                  <code>{{ slaData.condition }}</code>\n                </div>\n              </template>\n            </Popover>\n          </div>\n        </div>\n        <div class=\"mt-5\" v-if=\"!slaData.default_sla\">\n          <div\n            class=\"flex flex-col gap-3 items-center text-center text-ink-gray-7 text-sm mb-2 border border-gray-300 rounded-md p-3 py-4\"\n            v-if=\"!useNewUI\"\n          >\n            <span class=\"text-p-sm\">\n              Conditions for this SLA were created from\n              <a :href=\"deskUrl\" target=\"_blank\" class=\"underline\">desk</a>\n              which are not compatible with this UI, you will need to recreate\n              the conditions here if you want to manage and add new conditions\n              from this UI.\n            </span>\n            <Button\n              label=\"I understand, add conditions\"\n              variant=\"subtle\"\n              theme=\"gray\"\n              @click=\"useNewUI = true\"\n            />\n          </div>\n          <SlaAssignmentConditions\n            :conditions=\"slaData.condition_json\"\n            v-if=\"useNewUI\"\n          />\n        </div>\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">Valid from</span>\n        <span class=\"text-p-sm text-ink-gray-6\">\n          Choose how long this SLA policy will be active.\n        </span>\n      </div>\n      <div class=\"mt-3.5 flex gap-5 flex-col md:flex-row\">\n        <div class=\"w-full space-y-1.5\">\n          <FormLabel label=\"From date\" for=\"from_date\" />\n          <DatePicker\n            v-model=\"slaData.start_date\"\n            variant=\"subtle\"\n            placeholder=\"11/01/2025\"\n            class=\"w-full\"\n            id=\"from_date\"\n            @change=\"validateSlaData('start_date')\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n          >\n            <template #prefix>\n              <LucideCalendar class=\"size-4\" />\n            </template>\n          </DatePicker>\n          <ErrorMessage :message=\"slaDataErrors.start_date\" />\n        </div>\n        <div class=\"w-full space-y-1.5\">\n          <FormLabel label=\"To date\" for=\"to_date\" />\n          <DatePicker\n            v-model=\"slaData.end_date\"\n            variant=\"subtle\"\n            placeholder=\"25/12/2025\"\n            class=\"w-full\"\n            id=\"to_date\"\n            @change=\"validateSlaData('end_date')\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n          >\n            <template #prefix>\n              <LucideCalendar class=\"size-4\" />\n            </template>\n          </DatePicker>\n          <ErrorMessage :message=\"slaDataErrors.end_date\" />\n        </div>\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\"\n          >Response and resolution</span\n        >\n        <span class=\"text-p-sm text-ink-gray-6\">\n          Add time targets around support milestones like first reply and\n          resolution times\n        </span>\n      </div>\n      <div class=\"mt-5\">\n        <!-- <div class=\"flex gap-6\">\n          <div\n            class=\"flex items-center gap-2\"\n            @click=\"onApplySlaForChange(false)\"\n          >\n            <input\n              name=\"apply_sla_for\"\n              :checked=\"!slaData.apply_sla_for_resolution\"\n              type=\"radio\"\n            />\n            <div class=\"select-none text-ink-gray-6 text-sm font-medium\">\n              Apply SLA for response time\n            </div>\n          </div>\n          <div\n            class=\"flex items-center gap-2\"\n            @click=\"onApplySlaForChange(true)\"\n          >\n            <input\n              name=\"apply_sla_for\"\n              :checked=\"slaData.apply_sla_for_resolution\"\n              type=\"radio\"\n            />\n            <div class=\"select-none text-ink-gray-6 text-sm font-medium\">\n              Apply SLA for response time and resolution time\n            </div>\n          </div>\n        </div> -->\n        <div class=\"mt-5\">\n          <SlaPriorityList />\n        </div>\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\"\n          >Status details</span\n        >\n        <span class=\"text-p-sm text-ink-gray-6\">\n          The SLA status updates with ticket progressfulfilled when conditions\n          are met, paused when awaiting external action.\n        </span>\n      </div>\n      <div class=\"mt-5\">\n        <SlaStatusList :statusList=\"slaData.statuses\" />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <SlaHolidays />\n  </div>\n  <ConfirmDialog\n    v-model=\"showConfirmDialog.show\"\n    :title=\"showConfirmDialog.title\"\n    :message=\"showConfirmDialog.message\"\n    :onConfirm=\"showConfirmDialog.onConfirm\"\n    :onCancel=\"() => (showConfirmDialog.show = false)\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport {\n  resetSlaDataErrors,\n  slaActiveScreen,\n  slaData,\n  slaDataErrors,\n  validateSlaData,\n} from \"@/stores/sla\";\nimport { convertToConditions, getFormattedDate } from \"@/utils\";\nimport {\n  Badge,\n  Button,\n  Checkbox,\n  createResource,\n  DatePicker,\n  ErrorMessage,\n  FormLabel,\n  LoadingIndicator,\n  Popover,\n  Switch,\n  toast,\n} from \"frappe-ui\";\nimport { inject, nextTick, onMounted, onUnmounted, ref, watch } from \"vue\";\nimport SlaAssignmentConditions from \"./SlaAssignmentConditions.vue\";\nimport SlaHolidays from \"./SlaHolidays.vue\";\nimport SlaPriorityList from \"./SlaPriorityList.vue\";\nimport SlaStatusList from \"./SlaStatusList.vue\";\nimport { disableSettingModalOutsideClick } from \"../settingsModal\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\n\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\n\nconst showConfirmDialog = ref({\n  show: false,\n  title: \"\",\n  message: \"\",\n  onConfirm: () => {},\n});\nconst isDirty = ref(false);\nconst initialData = ref(null);\n\nconst useNewUI = ref(true);\nconst isOldSla = ref(false);\n\nconst slaPolicyList = inject<any>(\"slaPolicyList\");\nconst deskUrl = `${window.location.origin}/app/hd-service-level-agreement/${slaActiveScreen.value.data?.name}`;\n\nconst getSlaData = createResource({\n  url: \"helpdesk.api.sla.get_sla\",\n  params: {\n    docname: slaActiveScreen.value.data?.name,\n  },\n  onSuccess(data) {\n    const fulfilledOn =\n      data.sla_fulfilled_on?.map((item) => {\n        return {\n          ...item,\n          sla_behavior: \"Fulfilled\",\n        };\n      }) || [];\n    const pauseOn =\n      data.pause_sla_on?.map((item) => {\n        return {\n          ...item,\n          sla_behavior: \"Paused\",\n        };\n      }) || [];\n\n    const condition_json = JSON.parse(data.condition_json || \"[]\");\n\n    const newData = {\n      ...data,\n      statuses: [...pauseOn, ...fulfilledOn],\n      loading: false,\n      condition_json: condition_json,\n    };\n    slaData.value = newData;\n    slaData.value.apply_sla_for_resolution = true;\n    initialData.value = JSON.stringify(newData);\n    const conditionsAvailable = slaData.value.condition?.length > 0;\n    const conditionsJsonAvailable = slaData.value.condition_json?.length > 0;\n    if (conditionsAvailable && !conditionsJsonAvailable) {\n      useNewUI.value = false;\n      isOldSla.value = true;\n    } else {\n      useNewUI.value = true;\n      isOldSla.value = false;\n    }\n  },\n});\n\nif (slaActiveScreen.value.data && slaActiveScreen.value.fetchData) {\n  slaData.value.loading = true;\n  getSlaData.submit();\n} else {\n  disableSettingModalOutsideClick.value = true;\n}\n\nconst goBack = () => {\n  const confirmDialogInfo = {\n    show: true,\n    title: \"Unsaved changes\",\n    message: \"Are you sure you want to go back? Unsaved changes will be lost.\",\n    onConfirm: goBack,\n  };\n  if (isDirty.value && !showConfirmDialog.value.show) {\n    showConfirmDialog.value = confirmDialogInfo;\n    return;\n  }\n  if (!slaActiveScreen.value.data && !showConfirmDialog.value.show) {\n    showConfirmDialog.value = confirmDialogInfo;\n    return;\n  }\n  // Workaround fix for settings modal not closing after going back\n  setTimeout(() => {\n    slaActiveScreen.value = {\n      screen: \"list\",\n      data: null,\n      fetchData: true,\n    };\n  }, 250);\n  showConfirmDialog.value.show = false;\n};\n\nconst saveSla = () => {\n  const validationErrors = validateSlaData(undefined, !useNewUI.value);\n\n  if (Object.values(validationErrors).some((error) => error)) {\n    toast.error(\n      \"Invalid fields, check if all are filled in and values are correct.\"\n    );\n    return;\n  }\n\n  if (slaActiveScreen.value.data) {\n    if (isOldSla.value && useNewUI.value) {\n      showConfirmDialog.value = {\n        show: true,\n        title: \"Confirm overwrite\",\n        message:\n          \"Your old conditions will be overwritten. Are you sure you want to save?\",\n        onConfirm: () => {\n          updateSla();\n          showConfirmDialog.value.show = false;\n        },\n      };\n      return;\n    }\n    updateSla();\n  } else {\n    createSla();\n  }\n};\n\nconst createSla = () => {\n  const fulfilledOn = slaData.value.statuses.filter(\n    (status) => status.sla_behavior === \"Fulfilled\"\n  );\n  const pauseOn = slaData.value.statuses.filter(\n    (status) => status.sla_behavior === \"Paused\"\n  );\n  slaPolicyList.insert.submit(\n    {\n      ...slaData.value,\n      sla_fulfilled_on: fulfilledOn,\n      pause_sla_on: pauseOn,\n      condition: convertToConditions({\n        conditions: slaData.value.condition_json,\n        fieldPrefix: \"doc\",\n      }),\n      condition_json: JSON.stringify(slaData.value.condition_json),\n    },\n    {\n      onSuccess(data) {\n        toast.success(\"SLA policy created\");\n        slaActiveScreen.value.data = data;\n        slaActiveScreen.value.screen = \"view\";\n        getSlaData.submit({\n          docname: data.name,\n        });\n        updateOnboardingStep(\"setup_sla\", true);\n      },\n    }\n  );\n};\n\nconst updateSla = () => {\n  const fulfilledOn = slaData.value.statuses.filter(\n    (status) => status.sla_behavior === \"Fulfilled\"\n  );\n  const pauseOn = slaData.value.statuses.filter(\n    (status) => status.sla_behavior === \"Paused\"\n  );\n\n  slaPolicyList.setValue.submit(\n    {\n      ...slaData.value,\n      name: slaActiveScreen.value.data.name,\n      sla_fulfilled_on: fulfilledOn,\n      pause_sla_on: pauseOn,\n      condition: useNewUI.value\n        ? convertToConditions({\n            conditions: slaData.value.condition_json,\n            fieldPrefix: \"doc\",\n          })\n        : slaData.value.condition,\n      condition_json: useNewUI.value\n        ? JSON.stringify(slaData.value.condition_json)\n        : null,\n    },\n    {\n      onSuccess() {\n        getSlaData.submit();\n        toast.success(\"SLA policy updated\");\n        slaPolicyList.reload();\n      },\n    }\n  );\n};\n\nconst toggleEnabled = () => {\n  if (slaData.value.default_sla) {\n    toast.error(\"SLA set as default cannot be disabled\");\n    return;\n  }\n  slaData.value.enabled = !slaData.value.enabled;\n};\n\nconst toggleDefaultSla = () => {\n  slaData.value.default_sla = !slaData.value.default_sla;\n  if (slaData.value.default_sla) {\n    slaData.value.enabled = true;\n  }\n};\n\nconst onApplySlaForChange = (applyForResolution: boolean) => {\n  slaData.value.apply_sla_for_resolution = applyForResolution;\n  nextTick(() => {\n    validateSlaData(\"priorities\");\n  });\n};\n\nwatch(\n  slaData,\n  (newVal) => {\n    if (!initialData.value) return;\n    isDirty.value = JSON.stringify(newVal) != initialData.value;\n    if (isDirty.value) {\n      disableSettingModalOutsideClick.value = true;\n    } else {\n      disableSettingModalOutsideClick.value = false;\n    }\n  },\n  { deep: true }\n);\n\nconst beforeUnloadHandler = (event) => {\n  if (!isDirty.value) return;\n  event.preventDefault();\n  event.returnValue = true;\n};\n\nonMounted(() => {\n  addEventListener(\"beforeunload\", beforeUnloadHandler);\n});\n\nonUnmounted(() => {\n  removeEventListener(\"beforeunload\", beforeUnloadHandler);\n  resetSlaDataErrors();\n  disableSettingModalOutsideClick.value = false;\n});\n</script>\n<style scoped>\ninput[type=\"radio\"] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  border: 2px solid #c5c2c2;\n  border-radius: 50%;\n  outline: none;\n  transition: all 0.2s ease;\n  background-color: white;\n}\n\ninput[type=\"radio\"]:checked {\n  background-color: black;\n  border: 2px solid #000;\n}\n\ninput[type=\"radio\"]:checked::after {\n  content: \"\";\n  background-color: #fff;\n}\n\ninput[type=\"radio\"]:focus {\n  outline: none !important;\n  box-shadow: none !important;\n}\n</style>\n","<template>\n  <div class=\"pb-8\">\n    <SlaPolicies v-if=\"slaActiveScreen.screen == 'list'\" />\n    <SlaPolicyView v-else-if=\"slaActiveScreen.screen == 'view'\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { slaActiveScreen } from \"@/stores/sla\";\nimport SlaPolicies from \"./SlaPolicies.vue\";\nimport SlaPolicyView from \"./SlaPolicyView.vue\";\nimport { createListResource } from \"frappe-ui\";\nimport { provide } from \"vue\";\n\nconst slaPolicyListData = createListResource({\n  doctype: \"HD Service Level Agreement\",\n  fields: [\"name\", \"default_sla\", \"enabled\", \"description\"],\n  orderBy: \"creation desc\",\n  start: 0,\n  pageLength: 999,\n  auto: true,\n});\n\nprovide(\"slaPolicyList\", slaPolicyListData);\n</script>\n","<template>\n  <div class=\"flex items-center cursor-pointer hover:bg-gray-50 rounded\">\n    <div\n      class=\"w-full py-3 pl-2\"\n      @click=\"holidayListActiveScreen = { screen: 'view', data: data }\"\n    >\n      <div class=\"text-base text-ink-gray-7 font-medium\">{{ data.name }}</div>\n      <div\n        v-if=\"data.description && data.description.length > 0\"\n        class=\"text-sm text-ink-gray-5 mt-1 whitespace-nowrap overflow-ellipsis overflow-hidden\"\n      >\n        {{ data.description }}\n      </div>\n    </div>\n    <div class=\"flex justify-between items-center pr-2\">\n      <div>\n        <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n          <Button\n            icon=\"more-horizontal\"\n            variant=\"ghost\"\n            @click=\"isConfirmingDelete = false\"\n          />\n        </Dropdown>\n      </div>\n    </div>\n  </div>\n  <Dialog\n    :options=\"{ title: `Duplicate Holiday List` }\"\n    v-model=\"duplicateDialog.show\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <FormControl\n          label=\"New Holiday List Name\"\n          type=\"text\"\n          v-model=\"duplicateDialog.name\"\n        />\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex gap-2 justify-end\">\n        <Button\n          variant=\"subtle\"\n          label=\"Close\"\n          @click=\"duplicateDialog.show = false\"\n        />\n        <Button variant=\"solid\" label=\"Duplicate\" @click=\"duplicate()\" />\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script setup lang=\"ts\">\nimport { Button, createResource, toast } from \"frappe-ui\";\nimport { inject, ref } from \"vue\";\nimport { holidayListActiveScreen } from \"@/stores/holidayList\";\nimport { ConfirmDelete } from \"@/utils\";\n\nconst props = defineProps({\n  data: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst holidayList = inject<any>(\"holidayList\");\n\nconst duplicateDialog = ref({\n  show: false,\n  name: \"\",\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst dropdownOptions = [\n  {\n    label: \"Duplicate\",\n    onClick: () => {\n      duplicateDialog.value.show = true;\n      duplicateDialog.value.name = props.data.name + \" (Copy)\";\n    },\n    icon: \"copy\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteHolidayList(),\n    isConfirmingDelete,\n  }),\n];\n\nconst duplicate = () => {\n  createResource({\n    url: \"helpdesk.api.holiday_list.duplicate_holiday_list\",\n    params: {\n      docname: props.data.name,\n      new_name: duplicateDialog.value.name,\n    },\n    onSuccess: (data) => {\n      holidayList.reload();\n      toast.success(\"Holiday list duplicated\");\n      duplicateDialog.value = {\n        show: false,\n        name: \"\",\n      };\n      setTimeout(() => {\n        holidayListActiveScreen.value = {\n          screen: \"view\",\n          data: data,\n        };\n      }, 250);\n    },\n    auto: true,\n  });\n};\n\nconst deleteHolidayList = () => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n\n  holidayList.delete.submit(props.data.name, {\n    onSuccess: () => {\n      toast.success(\"Holiday list deleted\");\n    },\n  });\n};\n</script>\n","<template>\n  <div\n    v-if=\"holidayList.list.loading && !holidayList.list.data\"\n    class=\"flex items-center justify-center mt-12\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div v-else>\n    <div\n      v-if=\"holidayList.list.data?.length === 0\"\n      class=\"flex items-center justify-center rounded-md border border-gray-200 p-4\"\n    >\n      <div class=\"text-sm text-ink-gray-7\">No items in the list</div>\n    </div>\n    <div v-else>\n      <div class=\"flex text-sm text-gray-600\">\n        <div class=\"ml-2\">Schedule name</div>\n      </div>\n      <hr class=\"mx-2 mt-2\" />\n      <div>\n        <div v-for=\"holiday in holidayList.list.data\" :key=\"holiday.name\">\n          <HolidayListItem :data=\"holiday\" />\n          <hr class=\"mx-2\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport HolidayListItem from \"./HolidayListItem.vue\";\nimport { LoadingIndicator } from \"frappe-ui\";\n\nimport { inject } from \"vue\";\n\nconst holidayList = inject<any>(\"holidayList\");\n</script>\n","<template>\n  <div class=\"px-10 py-8\">\n    <SettingsLayoutHeader\n      title=\"Business Holidays\"\n      description=\"Set your teams working days, hours, and holidays using a template or custom schedule.\"\n    >\n      <template #actions>\n        <Button\n          label=\"New\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"goToNew()\"\n          icon-left=\"plus\"\n        />\n      </template>\n    </SettingsLayoutHeader>\n  </div>\n  <div class=\"overflow-y-auto pb-8 px-10\">\n    <HolidayList />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  holidayListActiveScreen,\n  resetHolidayData,\n} from \"@/stores/holidayList\";\nimport HolidayList from \"./HolidayList.vue\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\n\nconst goToNew = () => {\n  resetHolidayData();\n  holidayListActiveScreen.value = {\n    screen: \"view\",\n    data: null,\n  };\n};\n</script>\n","<template>\n  <Dialog\n    v-model=\"dialog.show\"\n    :options=\"{\n      size: 'sm',\n      title: dialog.editing ? 'Edit Holiday' : 'Add Holiday',\n    }\"\n    @after-leave=\"resetForm\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4 mt-4\">\n        <div class=\"flex flex-col gap-1.5\">\n          <FormLabel label=\"Date\" required />\n          <DatePicker\n            :value=\"dayjs(dialog.holiday_date).format('MM-DD-YYYY')\"\n            @update:model-value=\"dialog.holiday_date = $event\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n            variant=\"subtle\"\n            placeholder=\"Date\"\n            class=\"w-full\"\n            id=\"holiday_date\"\n            required\n            @change=\"errors.holiday_date = ''\"\n          />\n          <ErrorMessage :message=\"errors.holiday_date\" />\n        </div>\n        <div class=\"flex flex-col gap-1.5\">\n          <FormControl\n            :type=\"'textarea'\"\n            size=\"sm\"\n            variant=\"subtle\"\n            placeholder=\"National holiday, etc.\"\n            label=\"Description\"\n            v-model=\"dialog.description\"\n            required\n            @change=\"errors.description = ''\"\n          />\n          <ErrorMessage :message=\"errors.description\" />\n        </div>\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex justify-end gap-2\">\n        <Button\n          variant=\"subtle\"\n          theme=\"gray\"\n          label=\"Cancel\"\n          @click=\"dialog.show = false\"\n        />\n        <Button\n          variant=\"solid\"\n          icon-left=\"plus\"\n          label=\"Add Holiday\"\n          @click=\"onSave\"\n        />\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { getFormattedDate } from \"@/utils\";\nimport {\n  Dialog,\n  FormControl,\n  Button,\n  FormLabel,\n  toast,\n  ErrorMessage,\n  DatePicker,\n} from \"frappe-ui\";\nimport { ref } from \"vue\";\nimport dayjs from \"dayjs\";\nimport { holidayData } from \"@/stores/holidayList\";\n\ninterface ModelType {\n  show: boolean;\n  holiday_date: null | string;\n  description: string;\n  editing: null | any;\n}\n\nconst dialog = defineModel<ModelType>();\n\nconst errors = ref({\n  holiday_date: \"\",\n  description: \"\",\n});\n\nconst resetForm = () => {\n  dialog.value.holiday_date = null;\n  dialog.value.description = \"\";\n  errors.value = {\n    holiday_date: \"\",\n    description: \"\",\n  };\n};\n\nconst onSave = () => {\n  if (dialog.value.description?.trim() === \"\") {\n    errors.value.description = \"Please enter a description\";\n  }\n  if (!dialog.value.holiday_date) {\n    errors.value.holiday_date = \"Please enter a valid date\";\n  }\n\n  if (errors.value.holiday_date || errors.value.description) {\n    return;\n  }\n\n  const holidayDate = dayjs(dialog.value.holiday_date).startOf(\"day\");\n  const fromDate = dayjs(holidayData.value.from_date).startOf(\"day\");\n  const toDate = dayjs(holidayData.value.to_date).startOf(\"day\");\n\n  if (holidayDate.isBefore(fromDate) || holidayDate.isAfter(toDate)) {\n    toast.error(\n      `Holiday date must be between ${getFormattedDate(\n        holidayData.value.from_date\n      )} and ${getFormattedDate(holidayData.value.to_date)}`\n    );\n    return;\n  }\n\n  if (dialog.value.editing) {\n    const holidayExists = holidayData.value.holidays.find(\n      (h) =>\n        getFormattedDate(h.holiday_date) ===\n        getFormattedDate(dialog.value.holiday_date)\n    );\n\n    // If the holiday exists and user is trying to add a new holiday on the same date, show error\n    if (\n      holidayExists &&\n      getFormattedDate(holidayExists.holiday_date) !==\n        getFormattedDate(dialog.value.editing.holiday_date)\n    ) {\n      toast.error(\"Holiday already exists\");\n      return;\n    }\n    const holidayIndex = holidayData.value.holidays.indexOf(\n      dialog.value.editing\n    );\n    holidayData.value.holidays.splice(holidayIndex, 1, {\n      ...dialog.value,\n      weekly_off: 0,\n    });\n  } else {\n    const index = holidayData.value.holidays.findIndex(\n      (h) =>\n        getFormattedDate(h.holiday_date) ===\n        getFormattedDate(dialog.value.holiday_date)\n    );\n    if (index !== -1) {\n      toast.error(\"Holiday already exists\");\n      return;\n    }\n    holidayData.value.holidays.push({\n      ...dialog.value,\n      weekly_off: 0,\n    });\n  }\n\n  dialog.value = {\n    show: false,\n    holiday_date: null,\n    description: \"\",\n    editing: null,\n  };\n};\n</script>\n","<template>\n  <div class=\"rounded-md border px-2 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 px-4 items-center gap-2\"\n      :style=\"{\n        gridTemplateColumns: '1fr 4fr 22px',\n      }\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n      >\n        {{ column.label }}\n      </div>\n    </div>\n    <hr />\n    <div v-for=\"(holiday, index) in holidays\" :key=\"holiday.name\">\n      <div\n        class=\"grid gap-2 py-3.5 px-4 items-center\"\n        :style=\"{ gridTemplateColumns: '1fr 4fr 22px' }\"\n      >\n        <div\n          v-for=\"column in columns\"\n          :key=\"column.key\"\n          class=\"w-full overflow-hidden whitespace-nowrap text-ellipsis\"\n        >\n          <input\n            v-if=\"column.key === 'description'\"\n            :type=\"'text'\"\n            placeholder=\"Description\"\n            v-model=\"holiday[column.key]\"\n            class=\"!bg-white w-full text-base px-0 focus:!ring-0 border-none hover:bg-white outline-none no-underline focus:!outline-none\"\n          />\n          <div v-else>\n            {{ dayjs(holiday[column.key]).format(\"DD MMM YYYY\") }}\n          </div>\n        </div>\n        <div class=\"flex justify-end\">\n          <Dropdown placement=\"right\" :options=\"dropdownOptions(holiday)\">\n            <Button\n              icon=\"more-horizontal\"\n              variant=\"ghost\"\n              @click=\"isConfirmingDelete = false\"\n            />\n          </Dropdown>\n        </div>\n      </div>\n      <hr v-if=\"index !== holidays.length - 1\" />\n    </div>\n    <div v-if=\"holidays?.length === 0\" class=\"text-center p-4 text-gray-600\">\n      No items in the list\n    </div>\n  </div>\n  <AddHolidayModal v-model=\"dialog\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport dayjs from \"dayjs\";\nimport { ConfirmDelete, getFormattedDate } from \"@/utils\";\nimport { holidayData } from \"@/stores/holidayList\";\nimport AddHolidayModal from \"./Modals/AddHolidayModal.vue\";\n\nconst isConfirmingDelete = ref(false);\n\ninterface Holiday {\n  holiday_date: string | null;\n  description: string;\n  weekly_off?: number;\n}\n\nconst dropdownOptions = (holiday: Holiday) => [\n  {\n    label: \"Edit\",\n    onClick: () => editHoliday(holiday),\n    icon: \"edit\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteHoliday(holiday),\n    isConfirmingDelete,\n  }),\n];\n\nconst dialog = ref({\n  show: false,\n  holiday_date: null,\n  description: \"\",\n  editing: null,\n});\n\nconst holidays = computed(() => {\n  return holidayData.value.holidays.filter((item) => {\n    return item.weekly_off == 0;\n  });\n});\n\nconst columns = [\n  {\n    label: \"Date\",\n    key: \"holiday_date\",\n  },\n  {\n    label: \"Description\",\n    key: \"description\",\n  },\n];\n\nconst editHoliday = (holiday: Holiday) => {\n  dialog.value = {\n    show: true,\n    holiday_date: holiday.holiday_date,\n    description: holiday.description,\n    editing: holiday,\n  };\n};\n\nconst deleteHoliday = (holidayToDelete?: Holiday) => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n  const index = holidayData.value.holidays.findIndex((h: Holiday) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(holidayToDelete?.holiday_date);\n    return holidayDate === editDate;\n  });\n\n  holidayData.value.holidays.splice(index, 1);\n  isConfirmingDelete.value = false;\n};\n</script>\n","!function(e,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isSameOrBefore=i()}(this,(function(){\"use strict\";return function(e,i){i.prototype.isSameOrBefore=function(e,i){return this.isSame(e,i)||this.isBefore(e,i)}}}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_weekday=t()}(this,(function(){\"use strict\";return function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,i=this.$W,n=(i<t?i+7:i)-t;return this.$utils().u(e)?n:this.subtract(n,\"day\").add(e,\"day\")}}}));","export const getRepetitionText = (repetition: any) => {\n  const parts: string[] = [];\n\n  if (repetition.all) {\n    parts.push(\"week\");\n  } else {\n    if (repetition.first) parts.push(\"first\");\n    if (repetition.second) parts.push(\"second\");\n    if (repetition.third) parts.push(\"third\");\n    if (repetition.fourth) parts.push(\"fourth\");\n    if (repetition.fifth) parts.push(\"fifth\");\n\n    if (parts.length === 0) return \"\";\n\n    if (parts.length > 1) {\n      const last = parts.pop();\n      parts[parts.length - 1] = `${parts[parts.length - 1]} and ${last}`;\n    }\n\n    parts[0] = parts[0].charAt(0) + parts[0].slice(1);\n    return `Every ${parts.join(\", \")} week`;\n  }\n\n  return parts[0] ? `Every ${parts[0]}` : \"\";\n};\n","<template>\n  <div class=\"rounded-md border p-1 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 items-center\"\n      :style=\"{\n        gridTemplateColumns: '1fr 4fr 22px',\n      }\"\n      v-if=\"holidays?.length !== 0\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n      >\n        {{ column.label }}\n      </div>\n    </div>\n    <hr class=\"my-0.5\" v-if=\"holidays?.length !== 0\" />\n    <div v-for=\"(holiday, index) in holidays\" :key=\"holiday.day\">\n      <div\n        class=\"grid gap-2 px-2 py-2 items-center\"\n        :style=\"{ gridTemplateColumns: '1fr 4fr 22px' }\"\n      >\n        <div\n          v-for=\"column in columns\"\n          :key=\"column.key\"\n          class=\"w-full py-2 overflow-hidden whitespace-nowrap text-ellipsis\"\n        >\n          <div v-if=\"column.key === 'repetition'\">\n            {{ getRepetitionText(holiday[column.key]) }}\n          </div>\n          <div v-else>{{ holiday[column.key] }}</div>\n        </div>\n        <div class=\"flex justify-end\">\n          <Dropdown placement=\"right\" :options=\"dropdownOptions(holiday)\">\n            <Button\n              icon=\"more-horizontal\"\n              variant=\"ghost\"\n              @click=\"isConfirmingDelete = false\"\n            />\n          </Dropdown>\n        </div>\n      </div>\n      <hr class=\"my-0.5\" v-if=\"index !== holidays.length - 1\" />\n    </div>\n    <div v-if=\"holidays?.length === 0\" class=\"text-center p-4 text-gray-600\">\n      No items in the list\n    </div>\n  </div>\n  <Button\n    variant=\"subtle\"\n    @click=\"addHoliday\"\n    class=\"mt-2.5\"\n    label=\"Add Recurring Holiday\"\n    icon-left=\"plus\"\n  />\n  <Dialog\n    v-model=\"dialog\"\n    :options=\"{\n      size: 'md',\n      title: recurringHolidayData.isEditing\n        ? 'Edit Recurring Holiday'\n        : 'Add Recurring Holiday',\n    }\"\n  >\n    <template #body-content>\n      <div v-if=\"!props.holidayData.from_date || !props.holidayData.to_date\">\n        <div class=\"text-center p-4 text-gray-600\">\n          Please select start and end date first\n        </div>\n      </div>\n      <div v-else class=\"flex flex-col gap-4\">\n        <div class=\"flex flex-col gap-1.5\">\n          <FormLabel label=\"Day\" required />\n          <Select\n            :options=\"availableWorkDays\"\n            v-model=\"recurringHolidayData.day\"\n            :disabled=\"availableWorkDays.length === 0\"\n          />\n        </div>\n        <div class=\"flex flex-col gap-1.5\">\n          <FormLabel label=\"Repetition\" required />\n          <div class=\"grid grid-cols-2 gap-2 mt-2\">\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.all\"\n              label=\"Every week\"\n              :disabled=\"\n                recurringHolidayData.repetition.first ||\n                recurringHolidayData.repetition.second ||\n                recurringHolidayData.repetition.third ||\n                recurringHolidayData.repetition.fourth\n              \"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.first\"\n              label=\"Every first week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.second\"\n              label=\"Every second week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.third\"\n              label=\"Every third week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.fourth\"\n              label=\"Every fourth week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n            <Checkbox\n              v-model=\"recurringHolidayData.repetition.fifth\"\n              label=\"Every fifth week\"\n              :disabled=\"recurringHolidayData.repetition.all\"\n            />\n          </div>\n        </div>\n      </div>\n    </template>\n    <template #actions>\n      <Button\n        variant=\"solid\"\n        @click=\"saveHoliday\"\n        class=\"w-full\"\n        v-if=\"props.holidayData.from_date && props.holidayData.to_date\"\n        :label=\"\n          recurringHolidayData.isEditing ? 'Update Holiday' : 'Add Holiday'\n        \"\n        :icon-left=\"recurringHolidayData.isEditing ? 'edit-2' : 'plus'\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { updateWeeklyOffDates } from \"@/stores/holidayList\";\nimport { ConfirmDelete } from \"@/utils\";\nimport dayjs from \"dayjs\";\nimport isSameOrBefore from \"dayjs/plugin/isSameOrBefore\";\nimport weekday from \"dayjs/plugin/weekday\";\nimport { Checkbox, FormLabel, Select, toast } from \"frappe-ui\";\nimport { computed, ref } from \"vue\";\nimport { getRepetitionText } from \"./utils\";\n\ndayjs.extend(weekday);\ndayjs.extend(isSameOrBefore);\n\nconst dialog = ref(false);\nconst recurringHolidayData = ref({\n  day: null,\n  repetition: {\n    all: false,\n    first: false,\n    second: false,\n    third: false,\n    fourth: false,\n    fifth: false,\n  },\n  isEditing: false,\n  editIndex: -1,\n});\n\nconst props = defineProps({\n  holidays: {\n    type: Array<any>,\n    default: () => [],\n    required: true,\n  },\n  holidayData: {\n    type: Object,\n    default: () => {},\n    required: true,\n  },\n});\n\nconst columns = [\n  {\n    label: \"Day\",\n    key: \"day\",\n  },\n  {\n    label: \"Repetition\",\n    key: \"repetition\",\n  },\n];\n\nconst workDays = ref([\n  {\n    label: \"Monday\",\n    value: \"Monday\",\n  },\n  {\n    label: \"Tuesday\",\n    value: \"Tuesday\",\n  },\n  {\n    label: \"Wednesday\",\n    value: \"Wednesday\",\n  },\n  {\n    label: \"Thursday\",\n    value: \"Thursday\",\n  },\n  {\n    label: \"Friday\",\n    value: \"Friday\",\n  },\n  {\n    label: \"Saturday\",\n    value: \"Saturday\",\n  },\n  {\n    label: \"Sunday\",\n    value: \"Sunday\",\n  },\n]);\n\nconst dropdownOptions = (holiday: any) => [\n  {\n    label: \"Edit\",\n    onClick: () => editHoliday(holiday),\n    icon: \"edit\",\n  },\n  ...ConfirmDelete({\n    onConfirmDelete: () => deleteHoliday(holiday),\n    isConfirmingDelete,\n  }),\n];\n\nconst availableWorkDays = computed(() => {\n  const usedDays = new Set(\n    props.holidays\n      .filter(\n        (_, index) =>\n          !recurringHolidayData.value.isEditing ||\n          index !== recurringHolidayData.value.editIndex\n      )\n      .map((h) => h.day)\n  );\n\n  if (recurringHolidayData.value.isEditing && recurringHolidayData.value.day) {\n    usedDays.delete(recurringHolidayData.value.day);\n  }\n\n  return workDays.value.filter((day) => !usedDays.has(day.value));\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst addHoliday = () => {\n  recurringHolidayData.value = {\n    day: null,\n    repetition: {\n      all: false,\n      first: false,\n      second: false,\n      third: false,\n      fourth: false,\n      fifth: false,\n    },\n    isEditing: false,\n    editIndex: -1,\n  };\n  dialog.value = true;\n};\n\nconst editHoliday = (holiday: any) => {\n  const index = props.holidays.findIndex((h) => h.day === holiday.day);\n  recurringHolidayData.value = {\n    ...JSON.parse(JSON.stringify(holiday)),\n    isEditing: true,\n    editIndex: index,\n  };\n  dialog.value = true;\n};\n\nconst saveHoliday = () => {\n  if (!recurringHolidayData.value.day) {\n    toast.error(\"Please select a day of the week\");\n    return;\n  }\n\n  const { all, first, second, third, fourth, fifth } =\n    recurringHolidayData.value.repetition;\n  if (!all && !first && !second && !third && !fourth && !fifth) {\n    toast.error(\"Please select at least one repetition option\");\n    return;\n  }\n\n  const holidayData = { ...recurringHolidayData.value };\n\n  if (holidayData.isEditing) {\n    if (holidayData.editIndex !== undefined && holidayData.editIndex >= 0) {\n      props.holidays[holidayData.editIndex] = { ...holidayData };\n      updateWeeklyOffDates();\n    } else {\n      toast.error(\"Error: Unable to find the holiday to update\");\n      return;\n    }\n  } else {\n    const isDuplicate = props.holidays.some(\n      (holiday) =>\n        holiday.day === holidayData.day &&\n        JSON.stringify(holiday.repetition) ===\n          JSON.stringify(holidayData.repetition)\n    );\n\n    if (isDuplicate) {\n      toast.error(\"Holiday with the same day and repetition already exists\");\n      return;\n    }\n\n    props.holidays.push({\n      ...holidayData,\n      isEditing: false,\n    });\n    updateWeeklyOffDates();\n  }\n  dialog.value = false;\n};\n\nconst deleteHoliday = (holiday: any) => {\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n  const index = props.holidays.findIndex((h: any) => {\n    return h.day === holiday.day;\n  });\n  props.holidays.splice(index, 1);\n  updateWeeklyOffDates();\n  dialog.value = false;\n  isConfirmingDelete.value = false;\n};\n</script>\n","<template>\n  <div class=\"w-max mx-auto\">\n    <div class=\"text-base font-medium mb-2 text-gray-800 ml-2.5\">\n      {{ formattedMonth }}\n    </div>\n    <div class=\"rounded-md text-sm\">\n      <div class=\"flex items-center text-xs uppercase\">\n        <div\n          class=\"flex size-7.5 items-center justify-center text-center text-gray-600\"\n          v-for=\"(d, i) in ['s', 'm', 't', 'w', 't', 'f', 's']\"\n          :key=\"i\"\n        >\n          {{ d }}\n        </div>\n      </div>\n      <div class=\"flex items-center\" v-for=\"(week, i) in datesAsWeeks\" :key=\"i\">\n        <div v-for=\"date in week\" :key=\"getFormattedDate(date)\">\n          <Popover v-if=\"isHoliday(date)\">\n            <template #target=\"{ open, close }\">\n              <div\n                class=\"flex size-7 cursor-pointer text-orange-700 bg-yellow-100 items-center justify-center rounded hover:bg-yellow-100 select-none m-[1px]\"\n                :class=\"{\n                  '!text-ink-gray-4 !bg-gray-100': isWeekOff(date),\n                }\"\n                @mouseover=\"handleMouseEnter(getFormattedDate(date), open)\"\n                @mouseleave=\"handleMouseLeave(getFormattedDate(date), close)\"\n                @click=\"\n                  () => {\n                    if (isWeekOff(date)) return;\n                    close();\n                    editHoliday(date);\n                  }\n                \"\n              >\n                {{ date.getDate() }}\n              </div>\n            </template>\n            <template #body-main=\"{ close: closePopover, open: openPopover }\">\n              <div\n                class=\"p-3 flex gap-2.5 text-ink-gray-9 w-80 border border-gray-100 rounded-md\"\n                @mouseover=\"\n                  handleMouseEnter(getFormattedDate(date), openPopover)\n                \"\n                @mouseleave=\"\n                  handleMouseLeave(getFormattedDate(date), closePopover)\n                \"\n              >\n                <div class=\"w-[5%]\">\n                  <div class=\"size-3.5 bg-orange-500 rounded-sm mt-1\" />\n                </div>\n                <div class=\"grow\">\n                  <div class=\"text-sm font-semibold\">\n                    {{ getHolidayDescription(date) }}\n                  </div>\n                  <div class=\"text-xs mt-1\">\n                    {{ date.toLocaleDateString() }}\n                  </div>\n                </div>\n                <Popover\n                  v-if=\"!isWeekOff(date)\"\n                  @close=\"isConfirmingDelete = false\"\n                >\n                  <template #target=\"{ open, close }\">\n                    <Button\n                      icon=\"more-horizontal\"\n                      variant=\"ghost\"\n                      @click=\"open\"\n                      @mouseleave=\"\n                        handleMouseLeave(\n                          getFormattedDate(date) + 'dropdown',\n                          close\n                        )\n                      \"\n                    />\n                  </template>\n                  <template\n                    #body-main=\"{ close: closeDropdown, open: openDropdown }\"\n                  >\n                    <div\n                      class=\"p-2 flex flex-col gap-1 w-40 text-ink-gray-9 border border-gray-100 rounded-md\"\n                      @mouseover=\"\n                        handleMouseEnter(getFormattedDate(date), openPopover);\n                        handleMouseEnter(\n                          getFormattedDate(date) + 'dropdown',\n                          openDropdown\n                        );\n                      \"\n                      @mouseleave=\"\n                        handleMouseLeave(getFormattedDate(date), closePopover);\n                        handleMouseLeave(\n                          getFormattedDate(date) + 'dropdown',\n                          closeDropdown\n                        );\n                      \"\n                    >\n                      <Button\n                        class=\"w-full flex !justify-start\"\n                        icon-left=\"edit\"\n                        variant=\"ghost\"\n                        label=\"Edit\"\n                        @click=\"\n                          () => {\n                            closePopover();\n                            closeDropdown();\n                            editHoliday(date);\n                          }\n                        \"\n                      />\n                      <Button\n                        class=\"w-full flex !justify-start\"\n                        icon-left=\"trash-2\"\n                        variant=\"ghost\"\n                        :label=\"\n                          isConfirmingDelete ? 'Confirm Delete' : 'Delete'\n                        \"\n                        :theme=\"isConfirmingDelete ? 'red' : 'gray'\"\n                        @click=\"\n                          (e) => {\n                            deleteHoliday(e, date, () => {\n                              closePopover();\n                              closeDropdown();\n                            });\n                          }\n                        \"\n                      />\n                    </div>\n                  </template>\n                </Popover>\n              </div>\n            </template>\n          </Popover>\n          <div\n            v-else\n            class=\"flex size-7 items-center justify-center rounded m-[1px] select-none\"\n            :class=\"{\n              'cursor-pointer hover:bg-surface-gray-2': isDateInRange(date),\n              'text-ink-gray-3':\n                // @ts-ignore\n                date.getMonth() !== currentMonth - 1 || !isDateInRange(date),\n              'bg-black text-ink-white hover:!bg-black/80 hover:text-ink-white':\n                getFormattedDate(date) === dateValue && isDateInRange(date),\n              'opacity-50 cursor-not-allowed': !isDateInRange(date),\n            }\"\n            @click=\"isDateInRange(date) ? addHoliday(date) : null\"\n          >\n            {{ date.getDate() }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <AddHolidayModal v-model=\"dialog\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { getFormattedDate, htmlToText } from \"@/utils\";\nimport { Popover } from \"frappe-ui\";\nimport { useDatePicker } from \"frappe-ui/src/components/DatePicker/useDatePicker\";\nimport { ref, watch } from \"vue\";\nimport { holidayData } from \"@/stores/holidayList\";\nimport dayjs from \"dayjs\";\nimport AddHolidayModal from \"./Modals/AddHolidayModal.vue\";\n\nconst dialog = ref({\n  show: false,\n  holiday_date: null,\n  description: \"\",\n  editing: null,\n});\n\nconst {\n  currentYear,\n  currentMonth,\n  today,\n  datesAsWeeks: daw,\n  formattedMonth,\n} = useDatePicker();\n// Workaround to fix type errors\nconst datesAsWeeks = daw as unknown as Date[][];\nconst isConfirmingDelete = ref(false);\nconst popoverTimeouts = ref({});\n\nconst props = defineProps({\n  year: {\n    type: Number,\n    required: true,\n  },\n  month: {\n    type: Number,\n    required: true,\n  },\n  holidays: {\n    type: Array<any>,\n    required: true,\n  },\n});\n\nconst dateValue = ref(getFormattedDate(today.value));\n\nconst handleMouseEnter = (date, callback) => {\n  if (popoverTimeouts.value[date]) {\n    clearTimeout(popoverTimeouts.value[date]);\n  }\n  popoverTimeouts.value[date] = setTimeout(() => {\n    callback();\n  }, 350);\n};\n\nconst handleMouseLeave = (date, callback) => {\n  if (popoverTimeouts.value[date]) {\n    clearTimeout(popoverTimeouts.value[date]);\n  }\n  popoverTimeouts.value[date] = setTimeout(() => {\n    callback();\n  }, 350);\n};\n\nconst addHoliday = (date) => {\n  dialog.value = {\n    holiday_date: date,\n    description: \"\",\n    show: true,\n    editing: null,\n  };\n};\n\nconst isDateInRange = (date: Date): boolean => {\n  if (!holidayData.value.from_date || !holidayData.value.to_date) return false;\n\n  const checkDate = dayjs(date).startOf(\"day\");\n  const from = dayjs(holidayData.value.from_date).startOf(\"day\");\n  const to = dayjs(holidayData.value.to_date).endOf(\"day\");\n\n  return (\n    (checkDate.isAfter(from) || checkDate.isSame(from, \"day\")) &&\n    (checkDate.isBefore(to) || checkDate.isSame(to, \"day\"))\n  );\n};\n\nconst isHoliday = (date: Date): boolean => {\n  if (!props.holidays?.length) return false;\n  const inputDate = dayjs(date).startOf(\"day\");\n\n  return props.holidays.some((holiday) => {\n    const holidayDate = dayjs(holiday.holiday_date).startOf(\"day\");\n    return holidayDate.isSame(inputDate);\n  });\n};\n\nconst isWeekOff = (date: Date): boolean => {\n  if (!props.holidays?.length) return false;\n\n  const inputDate = dayjs(date).startOf(\"day\");\n  return props.holidays.some((holiday) => {\n    const holidayDate = dayjs(holiday.holiday_date).startOf(\"day\");\n    return holidayDate.isSame(inputDate) && holiday.weekly_off == 1;\n  });\n};\n\nconst editHoliday = (date) => {\n  const holiday = props.holidays.find((h) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(date);\n    return holidayDate === editDate;\n  });\n  dialog.value = {\n    show: true,\n    holiday_date: holiday.holiday_date,\n    description: holiday.description,\n    editing: holiday,\n  };\n};\n\nconst deleteHoliday = (event, date, callback) => {\n  event.stopPropagation();\n  event.preventDefault();\n  if (!isConfirmingDelete.value) {\n    isConfirmingDelete.value = true;\n    return;\n  }\n  const holidayToDelete = props.holidays.find((h) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(date);\n    return holidayDate === editDate;\n  });\n  const index = props.holidays.findIndex((h) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(holidayToDelete.holiday_date);\n    return holidayDate === editDate;\n  });\n\n  props.holidays.splice(index, 1);\n  dialog.value = {\n    show: false,\n    holiday_date: null,\n    description: \"\",\n    editing: null,\n  };\n  isConfirmingDelete.value = false;\n  callback();\n};\n\nconst getHolidayDescription = (date: Date): string => {\n  const holiday = props.holidays.find((h) => {\n    const holidayDate = getFormattedDate(h.holiday_date);\n    const editDate = getFormattedDate(date);\n    return holidayDate === editDate;\n  });\n\n  const text = holiday?.weekly_off\n    ? `${htmlToText(holiday?.description || \"\")}: Recurring holiday`\n    : htmlToText(holiday?.description || \"\");\n\n  return text;\n};\n\nwatch(\n  () => [props.year, props.month],\n  ([newYear, newMonth]) => {\n    currentYear.value = newYear;\n    currentMonth.value = newMonth;\n  },\n  { immediate: true }\n);\n</script>\n","<template>\n  <div class=\"p-6.5 px-5 rounded-xl border border-gray-300\">\n    <div class=\"mb-6.5 flex justify-between items-center\">\n      <div class=\"ml-1\">\n        <Popover v-if=\"startYear !== endYear\">\n          <template #target=\"{ togglePopover }\">\n            <Button\n              class=\"flex items-center gap-2 font-semibold text-xl cursor-pointer select-none\"\n              variant=\"ghost\"\n              @click=\"togglePopover\"\n              :label=\"currentYear + ''\"\n              icon-right=\"chevron-down\"\n            />\n          </template>\n          <template #body-main=\"{ togglePopover }\">\n            <div class=\"w-24\">\n              <div ref=\"yearsContainer\" class=\"max-h-60 overflow-y-auto py-1\">\n                <div\n                  v-for=\"year in yearsList\"\n                  :key=\"year\"\n                  ref=\"yearItems\"\n                  class=\"cursor-pointer px-3 py-1.5 text-sm hover:bg-gray-100 flex items-center justify-between\"\n                  @click=\"onYearChange(togglePopover, year)\"\n                >\n                  {{ year }}\n                  <FeatherIcon\n                    name=\"check\"\n                    class=\"size-4\"\n                    v-if=\"year === currentYear\"\n                  />\n                </div>\n              </div>\n            </div>\n          </template>\n        </Popover>\n        <div\n          v-else\n          class=\"flex items-center gap-2 px-2 font-semibold text-xl select-none\"\n        >\n          {{ startYear }}\n        </div>\n      </div>\n      <div class=\"flex gap-2 items-center\">\n        <Button\n          variant=\"ghost\"\n          icon=\"chevron-left\"\n          :disabled=\"visibleMonths === 'first-half'\"\n          @click=\"visibleMonths = 'first-half'\"\n        />\n        <Button variant=\"ghost\" label=\"Today\" @click=\"goToToday()\" />\n        <Button\n          variant=\"ghost\"\n          icon=\"chevron-right\"\n          :disabled=\"visibleMonths === 'second-half'\"\n          @click=\"visibleMonths = 'second-half'\"\n        />\n      </div>\n    </div>\n    <div\n      class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5\"\n      v-if=\"visibleMonths === 'first-half'\"\n    >\n      <HLCalender\n        v-for=\"month in months.slice(0, 6)\"\n        :key=\"month\"\n        :year=\"currentYear\"\n        :month=\"month\"\n        :holidays=\"holidayData.holidays\"\n      />\n    </div>\n    <div\n      class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 justify-between gap-5\"\n      v-else\n    >\n      <HLCalender\n        v-for=\"month in months.slice(6, 12)\"\n        :key=\"month\"\n        :year=\"currentYear\"\n        :month=\"month\"\n        :holidays=\"holidayData.holidays\"\n      />\n    </div>\n    <div class=\"flex gap-2 items-center w-full justify-center mt-8\">\n      <div\n        :class=\"[\n          'size-1.5 rounded-full cursor-pointer',\n          {\n            'bg-black': visibleMonths === 'first-half',\n            'bg-gray-400': visibleMonths === 'second-half',\n          },\n        ]\"\n        @click=\"visibleMonths = 'first-half'\"\n      />\n      <div\n        :class=\"[\n          'size-1.5 rounded-full cursor-pointer',\n          {\n            'bg-black': visibleMonths === 'second-half',\n            'bg-gray-400': visibleMonths === 'first-half',\n          },\n        ]\"\n        @click=\"visibleMonths = 'second-half'\"\n      />\n    </div>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch } from \"vue\";\nimport HLCalender from \"./HLCalender.vue\";\nimport dayjs from \"dayjs\";\nimport { holidayData } from \"@/stores/holidayList\";\nimport { Button, Popover } from \"frappe-ui\";\n\nconst visibleMonths = ref<\"first-half\" | \"second-half\">(\"first-half\");\nconst months = ref([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]);\nconst currentYear = ref(dayjs().year());\n\nconst startYear = ref(dayjs(holidayData.value.from_date || dayjs()).year());\nconst endYear = ref(dayjs(holidayData.value.to_date || dayjs()).year());\n\nconst yearsList = computed(() => {\n  const yearList = [];\n  for (let year = startYear.value; year <= endYear.value; year++) {\n    yearList.push(year);\n  }\n  return yearList;\n});\n\nconst onYearChange = (togglePopover: () => void, year: number) => {\n  currentYear.value = year;\n  if (year === dayjs(holidayData.value.from_date).year()) {\n    if (dayjs(holidayData.value.from_date).month() >= 6) {\n      visibleMonths.value = \"second-half\";\n    }\n  } else if (year === dayjs(holidayData.value.to_date).year()) {\n    if (dayjs(holidayData.value.to_date).month() >= 6) {\n      visibleMonths.value = \"first-half\";\n    }\n  } else {\n    visibleMonths.value = \"first-half\";\n  }\n  togglePopover();\n};\n\nconst goToToday = () => {\n  const today = dayjs();\n  currentYear.value = today.year();\n  visibleMonths.value = today.month() >= 6 ? \"second-half\" : \"first-half\";\n};\n\nwatch(\n  () => [holidayData.value.from_date, holidayData.value.to_date],\n  ([fromDate, toDate]) => {\n    fromDate = dayjs(fromDate);\n    toDate = dayjs(toDate);\n    startYear.value = fromDate.year();\n    endYear.value = toDate.year();\n    currentYear.value = fromDate.year();\n    visibleMonths.value = fromDate.month() >= 6 ? \"second-half\" : \"first-half\";\n  }\n);\n\nonMounted(() => {\n  const fromDate = dayjs(holidayData.value.from_date || dayjs());\n  visibleMonths.value = fromDate.month() >= 6 ? \"second-half\" : \"first-half\";\n});\n</script>\n","<template>\n  <div\n    v-if=\"holidayData.loading\"\n    class=\"flex items-center h-full justify-center\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div\n    v-if=\"!holidayData.loading\"\n    class=\"flex items-center justify-between sticky top-0 z-10 bg-white px-10 pt-8 pb-4\"\n  >\n    <div>\n      <div class=\"flex items-center gap-2\">\n        <Button\n          variant=\"ghost\"\n          icon-left=\"chevron-left\"\n          :label=\"holidayData?.holiday_list_name || 'New Business Holiday'\"\n          size=\"md\"\n          @click=\"goBack()\"\n          class=\"cursor-pointer -ml-4 hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5 font-semibold text-ink-gray-7 text-xl hover:opacity-70 !pr-0\"\n        />\n        <Badge\n          :variant=\"'subtle'\"\n          :theme=\"'orange'\"\n          size=\"sm\"\n          label=\"Unsaved changes\"\n          v-if=\"isDirty\"\n        />\n      </div>\n    </div>\n    <div class=\"flex gap-2 items-center\">\n      <Button\n        label=\"Save\"\n        theme=\"gray\"\n        variant=\"solid\"\n        @click=\"saveHoliday()\"\n        :disabled=\"Boolean(!isDirty && holidayListActiveScreen.data)\"\n        :loading=\"\n          holidayList.loading ||\n          updateHolidayResource.loading ||\n          getHolidayData.loading\n        \"\n      />\n    </div>\n  </div>\n\n  <div v-if=\"!holidayData.loading\" class=\"px-10 pb-8 overflow-y-scroll h-full\">\n    <div class=\"flex items-center gap-2 mt-2\">\n      <span class=\"text-sm\">\n        There are in total <b>{{ holidayData.holidays.length }}</b> holidays in\n        this list</span\n      >\n    </div>\n    <hr class=\"mb-8 mt-2\" />\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n      <div>\n        <FormControl\n          :type=\"'text'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Name\"\n          label=\"Name\"\n          v-model=\"holidayData.holiday_list_name\"\n          required\n          @change=\"validateHoliday('holiday_list_name')\"\n        />\n        <ErrorMessage\n          :message=\"holidayDataErrors.holiday_list_name\"\n          class=\"mt-2\"\n        />\n      </div>\n      <FormControl\n        :type=\"'textarea'\"\n        size=\"sm\"\n        variant=\"subtle\"\n        placeholder=\"Description\"\n        label=\"Description\"\n        v-model=\"holidayData.description\"\n      />\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">Valid from</span>\n        <span class=\"text-p-sm text-ink-gray-6\">\n          Choose the duration of this holiday list.\n        </span>\n      </div>\n      <div class=\"mt-3.5 flex gap-5 flex-col md:flex-row\">\n        <div class=\"w-full space-y-1.5\">\n          <FormLabel label=\"From date\" for=\"from_date\" required />\n          <DatePicker\n            v-model=\"holidayData.from_date\"\n            variant=\"subtle\"\n            placeholder=\"11/01/2025\"\n            class=\"w-full\"\n            id=\"from_date\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n            :debounce=\"300\"\n            @update:model-value=\"updateDuration('from_date')\"\n          >\n            <template #prefix>\n              <LucideCalendar class=\"size-4\" />\n            </template>\n          </DatePicker>\n          <ErrorMessage\n            :message=\"\n              holidayDataErrors.from_date || holidayDataErrors.dateRange\n            \"\n          />\n        </div>\n        <div class=\"w-full space-y-1.5\">\n          <FormLabel label=\"To date\" for=\"to_date\" required />\n          <DatePicker\n            v-model=\"holidayData.to_date\"\n            variant=\"subtle\"\n            placeholder=\"25/12/2025\"\n            class=\"w-full\"\n            id=\"to_date\"\n            :formatter=\"(date) => getFormattedDate(date)\"\n            :debounce=\"300\"\n            @update:model-value=\"updateDuration('to_date')\"\n          >\n            <template #prefix>\n              <LucideCalendar class=\"size-4\" />\n            </template>\n          </DatePicker>\n          <ErrorMessage :message=\"holidayDataErrors.to_date\" />\n        </div>\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <div class=\"text-lg font-semibold text-ink-gray-8\">\n          Recurring holidays\n        </div>\n        <div class=\"text-p-sm text-ink-gray-6\">\n          Add recurring holidays such as weekends.\n        </div>\n      </div>\n      <div class=\"mt-5\">\n        <RecurringHolidaysList\n          :holidayData=\"holidayData\"\n          :holidays=\"holidayData.recurring_holidays\"\n        />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex justify-between items-center\">\n        <div class=\"flex justify-between flex-col gap-1\">\n          <span class=\"text-lg font-semibold text-ink-gray-8\">Holidays</span>\n          <div class=\"text-p-sm text-ink-gray-6\">\n            Add holidays here to make sure theyre excluded from SLA\n            calculations.\n          </div>\n        </div>\n        <TabButtons\n          :buttons=\"[\n            {\n              value: 'calendar',\n              icon: 'calendar',\n            },\n            {\n              value: 'list',\n              icon: 'list',\n            },\n          ]\"\n          v-model=\"holidayListView\"\n        />\n      </div>\n      <div class=\"mt-5\">\n        <HolidaysTableView v-if=\"holidayListView === 'list'\" />\n        <HolidaysCalendarView v-else />\n      </div>\n      <div class=\"mt-2.5 flex justify-between items-center\">\n        <Button\n          variant=\"subtle\"\n          label=\"Add Holiday\"\n          @click=\"dialog.show = true\"\n          icon-left=\"plus\"\n        />\n        <!-- Indicators -->\n        <div class=\"flex gap-4\" v-if=\"holidayListView === 'calendar'\">\n          <div class=\"gap-1 flex items-center\">\n            <span class=\"bg-yellow-100 size-4 rounded-sm\" />\n            <span class=\"text-sm text-ink-gray-6\">Holidays</span>\n          </div>\n          <div class=\"gap-1 flex items-center\">\n            <span class=\"bg-gray-100 size-4 rounded-sm\" />\n            <span class=\"text-sm text-ink-gray-6\">Recurring holidays</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <AddHolidayModal v-model=\"dialog\" />\n  <ConfirmDialog\n    v-model=\"showConfirmDialog\"\n    title=\"Unsaved changes\"\n    message=\"Are you sure you want to go back? Unsaved changes will be lost.\"\n    :onConfirm=\"goBack\"\n    :onCancel=\"() => (showConfirmDialog = false)\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  holidayData,\n  holidayDataErrors,\n  holidayListActiveScreen,\n  updateWeeklyOffDates,\n  validateHoliday,\n} from \"@/stores/holidayList\";\nimport {\n  Button,\n  createResource,\n  DatePicker,\n  FormControl,\n  LoadingIndicator,\n  TabButtons,\n  toast,\n} from \"frappe-ui\";\nimport { inject, onMounted, onUnmounted, ref, watch } from \"vue\";\nimport HolidaysTableView from \"./HolidaysTableView.vue\";\nimport RecurringHolidaysList from \"./RecurringHolidaysList.vue\";\n\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport { slaActiveScreen } from \"@/stores/sla\";\nimport { getFormattedDate, htmlToText } from \"@/utils\";\nimport dayjs from \"dayjs\";\nimport FormLabel from \"frappe-ui/src/components/FormLabel.vue\";\nimport {\n  disableSettingModalOutsideClick,\n  setActiveSettingsTab,\n} from \"../settingsModal\";\nimport HolidaysCalendarView from \"./HolidaysCalendarView.vue\";\nimport AddHolidayModal from \"./Modals/AddHolidayModal.vue\";\n\nconst dialog = ref({\n  show: false,\n  holiday_date: null,\n  description: \"\",\n  editing: null,\n});\n\nconst isDirty = ref(false);\nconst initialData = ref(null);\nconst holidayListView = ref(\"calendar\");\n\nconst showConfirmDialog = ref(false);\n\nconst holidayList = inject<any>(\"holidayList\");\n\nconst getHolidayData = createResource({\n  url: \"helpdesk.api.holiday_list.get_holiday_list\",\n  params: {\n    docname: holidayListActiveScreen.value.data?.name,\n  },\n  onSuccess(data) {\n    holidayData.value = data;\n    initialData.value = JSON.stringify(data);\n  },\n  transform(data) {\n    for (let holiday of data.holidays) {\n      holiday.description = htmlToText(holiday.description);\n    }\n    data.recurring_holidays = JSON.parse(data.recurring_holidays || \"[]\");\n    return data;\n  },\n});\n\nif (holidayListActiveScreen.value.data?.name) {\n  holidayData.value.loading = true;\n  getHolidayData.fetch();\n} else {\n  disableSettingModalOutsideClick.value = true;\n}\n\nconst updateDuration = (key) => {\n  validateHoliday(key);\n  if (\n    !holidayDataErrors.value.dateRange ||\n    holidayDataErrors.value.dateRange === \"\"\n  ) {\n    updateWeeklyOffDates();\n  }\n};\n\nconst goBack = () => {\n  if (isDirty.value && !showConfirmDialog.value) {\n    showConfirmDialog.value = true;\n    return;\n  }\n  if (!holidayListActiveScreen.value.data && !showConfirmDialog.value) {\n    showConfirmDialog.value = true;\n    return;\n  }\n  if (holidayListActiveScreen.value.previousScreen) {\n    setActiveSettingsTab(\"SLA Policies\");\n\n    slaActiveScreen.value = {\n      screen: \"view\",\n      data: { name: holidayListActiveScreen.value.previousScreen.data },\n      fetchData: false,\n    };\n  }\n  showConfirmDialog.value = false;\n  // Workaround fix for settings modal not closing after going back\n  setTimeout(() => {\n    holidayListActiveScreen.value = {\n      screen: \"list\",\n      data: null,\n    };\n  }, 250);\n};\n\nconst saveHoliday = () => {\n  const validationErrors = validateHoliday();\n  if (Object.values(validationErrors).some((error) => error)) {\n    toast.error(\n      \"Invalid fields, check if all are filled in and values are correct.\"\n    );\n    return;\n  }\n\n  if (holidayListActiveScreen.value.data) {\n    updateHoliday();\n  } else {\n    createHoliday();\n  }\n};\n\nconst createHoliday = () => {\n  const holidays = holidayData.value.holidays.map((holiday) => {\n    return {\n      ...holiday,\n      holiday_date: dayjs(holiday.holiday_date).format(\"YYYY-MM-DD\"),\n    };\n  });\n  holidayList.insert.submit(\n    {\n      holiday_list_name: holidayData.value.holiday_list_name,\n      description: holidayData.value.description,\n      from_date: holidayData.value.from_date,\n      to_date: holidayData.value.to_date,\n      holidays: holidays,\n      recurring_holidays: JSON.stringify(holidayData.value.recurring_holidays),\n    },\n    {\n      onSuccess(data) {\n        toast.success(\"Holiday list created\");\n        holidayListActiveScreen.value.data = data;\n        holidayListActiveScreen.value.screen = \"view\";\n        getHolidayData.submit({\n          docname: data.name,\n        });\n      },\n    }\n  );\n};\n\nconst updateHolidayResource = createResource({\n  url: \"helpdesk.api.holiday_list.update_holiday_list\",\n  onSuccess(data) {\n    holidayListActiveScreen.value.data = data;\n    getHolidayData.submit({\n      docname: data.name,\n    });\n    toast.success(\"Holiday list updated\");\n  },\n});\n\nconst updateHoliday = () => {\n  const holidays = holidayData.value.holidays.map((holiday) => {\n    return {\n      ...holiday,\n      holiday_date: dayjs(holiday.holiday_date).format(\"YYYY-MM-DD\"),\n    };\n  });\n\n  updateHolidayResource.submit({\n    docname: holidayListActiveScreen.value.data.name,\n    doc: {\n      holiday_list_name: holidayData.value.holiday_list_name,\n      description: holidayData.value.description,\n      from_date: holidayData.value.from_date,\n      to_date: holidayData.value.to_date,\n      holidays: holidays,\n      recurring_holidays: JSON.stringify(holidayData.value.recurring_holidays),\n    },\n  });\n};\n\nwatch(\n  holidayData,\n  (newVal) => {\n    if (!initialData.value) return;\n    isDirty.value = JSON.stringify(newVal) != initialData.value;\n    if (isDirty.value) {\n      disableSettingModalOutsideClick.value = true;\n    } else {\n      disableSettingModalOutsideClick.value = false;\n    }\n  },\n  { deep: true }\n);\n\nconst beforeUnloadHandler = (event) => {\n  if (!isDirty.value) return;\n  event.preventDefault();\n  event.returnValue = true;\n};\n\nonMounted(() => {\n  addEventListener(\"beforeunload\", beforeUnloadHandler);\n});\n\nonUnmounted(() => {\n  removeEventListener(\"beforeunload\", beforeUnloadHandler);\n  holidayDataErrors.value = {\n    holiday_list_name: \"\",\n    from_date: \"\",\n    to_date: \"\",\n  };\n  disableSettingModalOutsideClick.value = false;\n});\n</script>\n\n<style scoped>\ninput[type=\"radio\"] {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  border: 2px solid #c5c2c2;\n  border-radius: 50%;\n  outline: none;\n  transition: all 0.2s ease;\n  background-color: white;\n}\n\ninput[type=\"radio\"]:checked {\n  background-color: black;\n  border: 2px solid #000;\n}\n\ninput[type=\"radio\"]:checked::after {\n  content: \"\";\n  background-color: #fff;\n}\n\ninput[type=\"radio\"]:focus {\n  outline: none !important;\n  box-shadow: none !important;\n}\n</style>\n","<template>\n  <div class=\"pb-8\">\n    <Holidays v-if=\"holidayListActiveScreen.screen == 'list'\" />\n    <HolidayView v-else-if=\"holidayListActiveScreen.screen == 'view'\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { holidayListActiveScreen } from \"@/stores/holidayList\";\nimport Holidays from \"./Holidays.vue\";\nimport HolidayView from \"./HolidayView.vue\";\nimport { createListResource } from \"frappe-ui\";\nimport { provide } from \"vue\";\n\nconst holidayListData = createListResource({\n  doctype: \"HD Service Holiday List\",\n  fields: [\"name\", \"description\"],\n  orderBy: \"creation desc\",\n  start: 0,\n  pageLength: 999,\n  auto: true,\n});\n\nprovide(\"holidayList\", holidayListData);\n</script>\n","import { call, createListResource } from \"frappe-ui\";\nimport { computed, reactive } from \"vue\";\n\nexport const fieldDependenciesList = createListResource({\n  doctype: \"HD Form Script\",\n  filters: { is_standard: 1, name: [\"like\", \"%Field Dependency%\"] },\n  fields: [\"name\", \"enabled\", \"owner\"],\n  auto: true,\n  cache: [\"FD\", \"List\"],\n  orderBy: \"modified desc\",\n});\n\nexport const hiddenChildFields = computed(() => {\n  let _fields = [];\n  fieldDependenciesList.data?.forEach((item) => {\n    let [_, parent, child] = item.name.split(\"-\");\n    if (parent && child) {\n      _fields.push(child);\n      _fields.push(parent);\n    }\n  });\n  return _fields;\n});\n\nconst optionsMap = reactive({});\n\nexport async function getFieldOptions(field: any): Promise<string[]> {\n  if (optionsMap[field.value]) {\n    return optionsMap[field.value];\n  }\n\n  if (field.type === \"Select\") {\n    optionsMap[field.value] = field.options.split(\"\\n\");\n    return optionsMap[field.value];\n  } else if (field.type === \"Link\") {\n    let options = await call(\"frappe.client.get_list\", {\n      doctype: field.options,\n      fields: [\"name\"],\n      limit_page_length: 999,\n    });\n    optionsMap[field.value] = options.map((o) => o.name);\n    return optionsMap[field.value];\n  }\n}\n","<template>\n  <Combobox\n    v-model=\"selectedValue\"\n    :multiple=\"multiple\"\n    nullable\n    v-slot=\"{ open: isComboboxOpen }\"\n  >\n    <Popover class=\"w-full\" v-model:show=\"showOptions\" :placement=\"placement\">\n      <template\n        #target=\"{ open: openPopover, togglePopover, close: closePopover }\"\n      >\n        <slot\n          name=\"target\"\n          v-bind=\"{\n            open: openPopover,\n            close: closePopover,\n            togglePopover,\n            isOpen: isComboboxOpen,\n          }\"\n        >\n          <div class=\"w-full space-y-1.5\">\n            <label v-if=\"$props.label\" class=\"block text-xs text-gray-600\">\n              {{ $props.label }}\n            </label>\n            <button\n              class=\"flex h-7 w-full items-center justify-between gap-2 rounded bg-gray-100 py-1 px-2 transition-colors hover:bg-gray-200 focus:ring-2 focus:ring-gray-400\"\n              :class=\"[\n                isComboboxOpen ? 'bg-gray-200' : '',\n                $props.buttonClasses,\n                disabled ? 'cursor-not-allowed opacity-50' : '',\n              ]\"\n              @click=\"\n                () => {\n                  !disabled && togglePopover();\n                }\n              \"\n            >\n              <div class=\"flex flex-1 items-center gap-2 overflow-hidden\">\n                <slot name=\"prefix\" />\n                <span\n                  v-if=\"selectedValue\"\n                  class=\"flex-1 truncate text-left text-base leading-5\"\n                >\n                  {{ displayValue(selectedValue) }}\n                </span>\n                <span v-else class=\"text-base leading-5 text-gray-600\">\n                  {{ placeholder || \"\" }}\n                </span>\n                <slot name=\"suffix\" />\n              </div>\n              <FeatherIcon\n                v-show=\"!loading\"\n                name=\"chevron-down\"\n                class=\"h-4 w-4 text-gray-600\"\n                aria-hidden=\"true\"\n              />\n              <LoadingIndicator\n                class=\"h-4 w-4 text-gray-600\"\n                v-show=\"loading\"\n              />\n            </button>\n          </div>\n        </slot>\n      </template>\n      <template #body=\"{ isOpen, togglePopover }\">\n        <div v-show=\"isOpen\">\n          <div\n            class=\"relative mt-1 overflow-hidden rounded-lg bg-white text-base shadow-2xl\"\n            :class=\"bodyClasses\"\n          >\n            <ComboboxOptions\n              class=\"flex max-h-[15rem] flex-col overflow-hidden p-1.5\"\n              static\n            >\n              <div\n                v-if=\"!hideSearch\"\n                class=\"relative mb-1 w-full flex-shrink-0\"\n              >\n                <ComboboxInput\n                  ref=\"searchInput\"\n                  class=\"form-input w-full\"\n                  type=\"text\"\n                  :value=\"query\"\n                  @change=\"query = $event.target.value\"\n                  autocomplete=\"off\"\n                  placeholder=\"Search\"\n                />\n                <button\n                  class=\"absolute right-0 inline-flex h-7 w-7 items-center justify-center\"\n                  @click=\"selectedValue = null\"\n                >\n                  <FeatherIcon name=\"x\" class=\"w-4\" />\n                </button>\n              </div>\n              <div class=\"w-full flex-1 overflow-y-auto\">\n                <div\n                  v-for=\"group in groups\"\n                  :key=\"group.key\"\n                  v-show=\"group.items.length > 0\"\n                >\n                  <div\n                    v-if=\"group.group && !group.hideLabel\"\n                    class=\"sticky top-0 truncate bg-white px-2.5 py-1.5 text-sm font-medium text-gray-600\"\n                  >\n                    {{ group.group }}\n                  </div>\n                  <ComboboxOption\n                    as=\"template\"\n                    v-for=\"(option, idx) in group.items.slice(0, 50)\"\n                    :key=\"option?.value || idx\"\n                    :value=\"option\"\n                    v-slot=\"{ active, selected }\"\n                  >\n                    <li\n                      :class=\"[\n                        'flex h-7 cursor-pointer items-center justify-between rounded px-2.5 text-base',\n                        { 'bg-gray-100': active },\n                      ]\"\n                    >\n                      <div\n                        class=\"flex flex-1 items-center gap-2 overflow-hidden\"\n                      >\n                        <div\n                          v-if=\"$slots['item-prefix'] || $props.multiple\"\n                          class=\"flex-shrink-0\"\n                        >\n                          <slot\n                            name=\"item-prefix\"\n                            v-bind=\"{ active, selected, option }\"\n                          >\n                            <LucideSquare\n                              v-show=\"!isOptionSelected(option)\"\n                              class=\"h-4 w-4 text-gray-700\"\n                            />\n                            <LucideCheckSquare\n                              v-show=\"isOptionSelected(option)\"\n                              class=\"h-4 w-4 text-gray-700\"\n                            />\n                          </slot>\n                        </div>\n                        <span class=\"flex-1 truncate\">\n                          {{ getLabel(option) }}\n                        </span>\n                      </div>\n\n                      <div\n                        v-if=\"$slots['item-suffix'] || option?.description\"\n                        class=\"ml-2 flex-shrink-0\"\n                      >\n                        <slot\n                          name=\"item-suffix\"\n                          v-bind=\"{ active, selected, option }\"\n                        >\n                          <div\n                            v-if=\"option?.description\"\n                            class=\"text-sm text-gray-600\"\n                          >\n                            {{ option.description }}\n                          </div>\n                        </slot>\n                      </div>\n                    </li>\n                  </ComboboxOption>\n                </div>\n              </div>\n              <li\n                v-if=\"groups.length == 0\"\n                class=\"rounded-md px-2.5 py-1.5 text-base text-gray-600\"\n              >\n                No results found\n              </li>\n            </ComboboxOptions>\n\n            <div\n              v-if=\"$slots.footer || showFooter || multiple\"\n              class=\"border-t p-1\"\n            >\n              <slot name=\"footer\" v-bind=\"{ togglePopover }\">\n                <div\n                  v-if=\"multiple\"\n                  class=\"flex items-center justify-end gap-1\"\n                >\n                  <Button\n                    v-if=\"!areAllOptionsSelected\"\n                    label=\"Select All\"\n                    @click.stop=\"selectAll\"\n                  />\n                </div>\n                <div v-else class=\"flex items-center justify-end\">\n                  <Button label=\"Clear\" @click.stop=\"selectedValue = null\" />\n                </div>\n              </slot>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Combobox>\n</template>\n\n<script>\nimport {\n  Combobox,\n  ComboboxButton,\n  ComboboxInput,\n  ComboboxOption,\n  ComboboxOptions,\n} from \"@headlessui/vue\";\nimport { LoadingIndicator, Popover } from \"frappe-ui\";\nimport { nextTick } from \"vue\";\nimport LucideCheckSquare from \"~icons/lucide/check-square\";\nimport LucideSquare from \"~icons/lucide/square\";\n\nexport default {\n  name: \"Autocomplete\",\n  props: [\n    \"label\",\n    \"modelValue\",\n    \"options\",\n    \"placeholder\",\n    \"bodyClasses\",\n    \"multiple\",\n    \"loading\",\n    \"hideSearch\",\n    \"autoFocus\",\n    \"placement\",\n    \"showFooter\",\n    \"buttonClasses\",\n    \"disabled\",\n  ],\n  emits: [\"update:modelValue\", \"update:query\", \"change\"],\n  components: {\n    Popover,\n    Combobox,\n    ComboboxInput,\n    ComboboxOptions,\n    ComboboxOption,\n    ComboboxButton,\n    LucideCheckSquare,\n    LucideSquare,\n  },\n  expose: [\"togglePopover\"],\n  data() {\n    return {\n      query: \"\",\n      showOptions: false,\n    };\n  },\n  computed: {\n    selectedValue: {\n      get() {\n        let _selectedOptions;\n        if (!this.multiple) {\n          _selectedOptions = this.findOption(this.modelValue);\n          if (this.modelValue && !_selectedOptions) {\n            _selectedOptions = this.sanitizeOption(this.modelValue);\n          }\n          return _selectedOptions;\n        }\n\n        _selectedOptions = this.modelValue?.map((v) => {\n          const option = this.findOption(v);\n          if (option) return option;\n          return this.sanitizeOption(v);\n        });\n        if (this.modelValue && !_selectedOptions.length) {\n          _selectedOptions = this.sanitizeOptions(this.modelValue);\n        }\n        return _selectedOptions;\n      },\n      set(val) {\n        this.query = \"\";\n        if (val && !this.multiple) this.showOptions = false;\n        this.$emit(\"update:modelValue\", val);\n      },\n    },\n    groups() {\n      if (!this.options || this.options.length == 0) return [];\n\n      let groups = this.options[0]?.group\n        ? this.options\n        : [{ group: \"\", items: this.sanitizeOptions(this.options) }];\n\n      return groups\n        .map((group, i) => {\n          return {\n            key: i,\n            group: group.group,\n            hideLabel: group.hideLabel || false,\n            items: this.filterOptions(this.sanitizeOptions(group.items)),\n          };\n        })\n        .filter((group) => group.items.length > 0);\n    },\n    allOptions() {\n      return this.groups.flatMap((group) => group.items);\n    },\n    areAllOptionsSelected() {\n      if (!this.multiple) return false;\n      return this.allOptions.length === this.selectedValue?.length;\n    },\n  },\n  watch: {\n    query(q) {\n      this.$emit(\"update:query\", q);\n    },\n    showOptions(val) {\n      if (val) nextTick(() => this.$refs.searchInput?.$el?.focus());\n    },\n  },\n  methods: {\n    togglePopover(val) {\n      this.showOptions = val ?? !this.showOptions;\n    },\n    findOption(option) {\n      if (!option) return option;\n      return this.allOptions.find((o) => o.value === (option.value || option));\n    },\n    filterOptions(options) {\n      if (!this.query) return options;\n      return fuzzySearch(options, {\n        term: this.query,\n        keys: [\"label\", \"value\"],\n      });\n    },\n    displayValue(option) {\n      if (!option) return \"\";\n\n      if (!this.multiple) {\n        if (typeof option === \"object\") {\n          return this.getLabel(option);\n        }\n        let selectedOption = this.allOptions.find((o) => o.value === option);\n        return this.getLabel(selectedOption);\n      }\n\n      if (!Array.isArray(option)) return \"\";\n\n      if (option.length === 0) return \"\";\n      if (option.length === 1) return this.getLabel(option[0]);\n      return `${option.length} values`;\n      // in case of `multiple`, option is an array of values\n      // so the display value should be comma separated labels\n      // return option\n      // \t.map((v) => {\n      // \t\tif (typeof v === 'object') {\n      // \t\t\treturn this.getLabel(v)\n      // \t\t}\n      // \t\tlet selectedOption = this.allOptions.find((o) => o.value === v)\n      // \t\treturn this.getLabel(selectedOption)\n      // \t})\n      // \t.join(', ')\n    },\n    getLabel(option) {\n      if (typeof option !== \"object\") return option;\n      return option?.label || option?.value || \"No label\";\n    },\n    sanitizeOptions(options) {\n      if (!options) return [];\n      // in case the options are just strings, convert them to objects\n      return options.map((option) => this.sanitizeOption(option));\n    },\n    sanitizeOption(option) {\n      return typeof option === \"string\"\n        ? { label: option, value: option }\n        : option;\n    },\n    isOptionSelected(option) {\n      if (!this.multiple) {\n        return this.selectedValue?.value === option.value;\n      }\n      return this.selectedValue?.find((v) => v && v.value === option.value);\n    },\n    selectAll() {\n      this.selectedValue = this.allOptions;\n    },\n    fuzzySearch(arr, { term, keys }) {\n      // search for term in all keys of arr items and sort by relevance\n      const lowerCaseTerm = term.toLowerCase();\n      const results = arr.reduce((acc, item) => {\n        const score = keys.reduce((acc, key) => {\n          const value = item[key];\n          if (value) {\n            const match = value.toLowerCase().indexOf(lowerCaseTerm);\n            if (match !== -1) {\n              return acc + match + 1;\n            }\n          }\n          return acc;\n        }, 0);\n        if (score) {\n          acc.push({ item, score });\n        }\n        return acc;\n      }, []);\n      return results.sort((a, b) => a.score - b.score).map((item) => item.item);\n    },\n  },\n};\n</script>\n","<template>\n  <Tooltip text=\"View documentation\">\n    <a :href=\"url\" target=\"_blank\">\n      <lucide-info class=\"h-4 w-4 text-ink-gray-6\" :class=\"color\" />\n    </a>\n  </Tooltip>\n</template>\n\n<script setup lang=\"ts\">\ndefineProps<{\n  url: string;\n  color?: string;\n}>();\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"flex justify-between items-start flex-col gap-6\">\n    <span class=\"text-sm text-ink-gray-5 pt-4 w-full\"\n      >Set visibility and mandatory criteria for child field:</span\n    >\n    <div class=\"flex flex-col gap-4 w-full pb-2\">\n      <!-- Display Criteria -->\n      <div class=\"flex items-center gap-3 justify-between\">\n        <div class=\"flex gap-3 items-center\">\n          <Switch v-model=\"fieldCriteriaState.display.enabled\" />\n          <div class=\"flex items-center gap-1\">\n            <span class=\"text-sm text-ink-gray-5\"\n              >Show child if parent field is set to</span\n            >\n            <DocumentationButton\n              url=\"https://docs.frappe.io/helpdesk/field-dependency#handling-visibility-of-child-field\"\n              color=\"!text-ink-gray-6\"\n            />\n          </div>\n        </div>\n        <MultiSelectCombobox\n          :disabled=\"!fieldCriteriaState.display.enabled\"\n          class=\"min-w-[120px] max-w-[120px]\"\n          :options=\"fieldCriteriaOptions\"\n          :model-value=\"fieldCriteriaState.display.value\"\n          @update:model-value=\"handleCriteriaSelection($event, 'display')\"\n          :multiple=\"true\"\n          placeholder=\"Select Child Field values\"\n          placement=\"top\"\n        />\n      </div>\n      <!-- Mandatory Criteria -->\n      <div class=\"flex items-center gap-3 justify-between w-full\">\n        <div class=\"flex gap-3 items-center\">\n          <Switch v-model=\"fieldCriteriaState.mandatory.enabled\" />\n          <div class=\"flex items-center gap-1\">\n            <span class=\"text-sm text-ink-gray-5\"\n              >Make child mandatory if parent field is set to</span\n            >\n            <DocumentationButton\n              url=\"https://docs.frappe.io/helpdesk/field-dependency#handling-if-the-child-field-is-mandatory\"\n              color=\"!text-ink-gray-6\"\n            />\n          </div>\n        </div>\n        <MultiSelectCombobox\n          :disabled=\"!fieldCriteriaState.mandatory.enabled\"\n          class=\"min-w-[120px] max-w-[120px]\"\n          :options=\"fieldCriteriaOptions\"\n          :model-value=\"fieldCriteriaState.mandatory.value\"\n          @update:model-value=\"handleCriteriaSelection($event, 'mandatory')\"\n          :multiple=\"true\"\n          placeholder=\"Select Child Field values\"\n          placement=\"top\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { Switch } from \"frappe-ui\";\nimport MultiSelectCombobox from \"@/components/frappe-ui/MultiSelectCombobox.vue\";\nimport DocumentationButton from \"@/components/DocumentationButton.vue\";\n\nconst props = defineProps<{\n  parentFieldValues: string[];\n}>();\n\nconst fieldCriteriaOptions = computed(() => {\n  const _options = [{ label: \"Any\", value: \"Any\" }];\n  props.parentFieldValues.forEach((value) => {\n    if (!_options.some((o) => o.value === value)) {\n      _options.push({ label: value, value });\n    }\n  });\n  return _options;\n});\n\nconst fieldCriteriaState = defineModel<{\n  display: { enabled: boolean; value: Record<\"label\" | \"value\", string>[] };\n  mandatory: { enabled: boolean; value: Record<\"label\" | \"value\", string>[] };\n}>();\n\nfunction handleCriteriaSelection(\n  values: { label: string; value: string }[],\n  stateKey: \"display\" | \"mandatory\"\n) {\n  const _values = values.map((v) => v.value);\n  fieldCriteriaState.value[stateKey].value = values;\n  if (_values.length === 0) {\n    fieldCriteriaState.value[stateKey].value = [{ label: \"Any\", value: \"Any\" }];\n  } else if (_values[0] === \"Any\" && _values.length > 1) {\n    fieldCriteriaState.value[stateKey].value = _values\n      .filter((value) => value !== \"Any\")\n      .map((value) => ({ label: value, value }));\n  } else if (_values.at(-1) === \"Any\" && _values.length > 1) {\n    fieldCriteriaState.value[stateKey].value = [{ label: \"Any\", value: \"Any\" }];\n  }\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"flex gap-3 w-full justify-between flex-1\">\n    <div class=\"flex-1 flex flex-col gap-1.5\">\n      <span class=\"block text-xs text-ink-gray-5\"\n        >Parent Field <span class=\"text-ink-red-3 select-none\">*</span>\n      </span>\n      <Combobox\n        v-model=\"state.selectedParentField\"\n        :options=\"parentFields\"\n        :disabled=\"!isNew\"\n      />\n    </div>\n    <div class=\"flex-1 flex flex-col gap-1.5\">\n      <span class=\"block text-xs text-ink-gray-5\"\n        >Child Field <span class=\"text-ink-red-3 select-none\">*</span>\n      </span>\n      <Combobox\n        v-model=\"state.selectedChildField\"\n        :options=\"state.childFields\"\n        :disabled=\"!state.selectedParentField || !isNew\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { FieldCriteriaState } from \"@/types\";\nimport { Combobox } from \"frappe-ui\";\n\nconst state = defineModel<FieldCriteriaState>();\n\nconst props = defineProps<{\n  isNew: boolean;\n  parentFields: any[];\n}>();\n</script>\n\n<style scoped></style>\n","<template>\n  <div\n    class=\"flex w-full flex-1 justify-between h-full h-[420px] max-h-[420px] min-h-[420px]\"\n  >\n    <!-- left box -->\n    <div class=\"flex-1 flex flex-col gap-1.5\">\n      <span class=\"block text-xs text-ink-gray-5\">\n        Select parent field value\n      </span>\n      <div class=\"border flex-1 border-r-0 rounded-l p-2 flex flex-col gap-2\">\n        <template v-if=\"state.selectedParentField\">\n          <FormControl\n            v-model=\"state.parentSearch\"\n            :placeholder=\"parentPlaceholder\"\n            type=\"text\"\n            class=\"w-full\"\n          >\n            <template #prefix>\n              <LucideSearch class=\"h-4 w-4 text-gray-500\" />\n            </template>\n          </FormControl>\n          <div class=\"flex-1 overflow-y-auto hide-scrollbar basis-0\">\n            <ul class=\"max-w-[350px] overflow-y-auto\">\n              <li\n                v-for=\"value in filteredParentFieldValues\"\n                :key=\"value\"\n                class=\"py-2 mb-1 px-2.5 cursor-pointer rounded flex justify-between items-center hover:bg-surface-gray-1 overflow-hidden max-w-full\"\n                :class=\"{\n                  'bg-surface-gray-2 hover:bg-surface-gray-3':\n                    state.currentParentSelection === value,\n                }\"\n                @click=\"handleParentValueClick(value)\"\n              >\n                <span class=\"text-base text-ink-gray-6 max-w-[90%] truncate\">{{\n                  value\n                }}</span>\n                <LucideChevronRight\n                  class=\"h-4 w-4 text-ink-gray-6\"\n                  v-if=\"\n                    getSelectedChildValueCount(value) === 0 ||\n                    state.currentParentSelection === value\n                  \"\n                />\n                <Badge\n                  v-else\n                  :label=\"getSelectedChildValueCount(value)\"\n                  :theme=\"'gray'\"\n                  variant=\"subtle\"\n                  class=\"!h-4\"\n                />\n              </li>\n            </ul>\n          </div>\n        </template>\n        <template v-else>\n          <div\n            class=\"flex flex-col items-center mt-20 h-full text-ink-gray-4 text-sm\"\n          >\n            Please select a parent field first\n          </div>\n        </template>\n      </div>\n    </div>\n    <!-- right box -->\n    <div class=\"flex-1 flex flex-col gap-1.5\">\n      <span class=\"block text-xs text-ink-gray-5 pl-1.5\">\n        Select child field value\n      </span>\n      <div class=\"border flex-1 rounded-r p-2 flex flex-col gap-2\">\n        <template\n          v-if=\"state.selectedChildField && state.currentParentSelection\"\n        >\n          <FormControl\n            v-model=\"state.childSearch\"\n            :placeholder=\"childPlaceholder\"\n            type=\"text\"\n            class=\"w-full\"\n          >\n            <template #prefix>\n              <LucideSearch class=\"h-4 w-4 text-gray-500\" />\n            </template>\n          </FormControl>\n          <div class=\"flex-1 overflow-y-auto hide-scrollbar basis-0\">\n            <!-- Master Check box -->\n            <li\n              class=\"py-2 mb-1 px-2.5 cursor-pointer rounded flex items-center bg-surface-gray-1 hover:bg-surface-gray-2\"\n              @click=\"handleSelectAllChildValues(!toggleAllChildValues)\"\n            >\n              <FormControl\n                type=\"checkbox\"\n                :model-value=\"toggleAllChildValues\"\n                class=\"mr-2\"\n              />\n              <span class=\"text-base text-ink-gray-8 font-medium\">\n                {{ toggleCheckboxLabel }}\n              </span>\n            </li>\n            <ul class=\"max-w-[350px] overflow-y-auto\">\n              <li\n                v-for=\"value in filteredChildFieldValues\"\n                :key=\"value\"\n                class=\"py-2 mb-1 px-2.5 cursor-pointer rounded flex items-center hover:bg-surface-gray-1 max-w-full truncate\"\n                @click=\"handleChildValueClick(value)\"\n              >\n                <FormControl\n                  type=\"checkbox\"\n                  :model-value=\"isChildValueSelected(value)\"\n                  class=\"mr-2\"\n                />\n                <span class=\"text-base text-ink-gray-6\">{{ value }}</span>\n              </li>\n            </ul>\n          </div>\n        </template>\n        <template v-else-if=\"!state.selectedChildField\">\n          <div\n            class=\"flex flex-col items-center mt-20 h-full text-ink-gray-4 text-sm\"\n          >\n            Please select a child field first\n          </div>\n        </template>\n        <template v-else>\n          <div\n            class=\"flex flex-col items-center mt-20 h-full text-ink-gray-4 text-sm\"\n          >\n            Please select a parent value first\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { FieldCriteriaState } from \"@/types\";\nimport { computed } from \"vue\";\n\nconst props = defineProps<{\n  isNew: boolean;\n  parentFields: any[];\n}>();\n\nconst state = defineModel<FieldCriteriaState>();\n\nconst filteredParentFieldValues = computed(() => {\n  if (!state.value.parentSearch) return state.value.parentFieldValues;\n  return state.value.parentFieldValues.filter((v) =>\n    v.toLowerCase().includes(state.value.parentSearch.toLowerCase())\n  );\n});\n\nconst filteredChildFieldValues = computed(() => {\n  if (!state.value.childSearch) return state.value.childFieldValues;\n  return state.value.childFieldValues.filter((v) =>\n    v.toLowerCase().includes(state.value.childSearch.toLowerCase())\n  );\n});\n\nconst parentPlaceholder = computed(() => {\n  if (!state.value.selectedParentField) return \"Search values\";\n  let label = props.parentFields.find(\n    (f) => f.value === state.value.selectedParentField\n  )?.label;\n  return `Search ${label} values`;\n});\nconst childPlaceholder = computed(() => {\n  if (!state.value.currentParentSelection) return \"Search values\";\n  return `Search ${state.value.currentParentSelection} values`;\n});\n\nfunction handleParentValueClick(value: string) {\n  state.value.currentParentSelection = value;\n}\n\nfunction handleChildValueClick(childValue: string) {\n  const parent = state.value.currentParentSelection;\n  if (!parent) return;\n  if (!(state.value.childSelections[parent] instanceof Set)) {\n    state.value.childSelections[parent] = new Set();\n  }\n  if (state.value.childSelections[parent].has(childValue)) {\n    state.value.childSelections[parent].delete(childValue);\n  } else {\n    state.value.childSelections[parent].add(childValue);\n  }\n}\n\nfunction getSelectedChildValueCount(parent: string) {\n  const selectedCount =\n    state.value.childSelections[parent] instanceof Set\n      ? state.value.childSelections[parent].size\n      : 0;\n  return selectedCount;\n}\n\n// Toggling master checkbox + child values\nconst toggleAllChildValues = computed({\n  get() {\n    const parent = state.value.currentParentSelection;\n    if (!parent) return false;\n    // If no child values are selected, return false\n    if (!(state.value.childSelections[parent] instanceof Set)) {\n      return false;\n    }\n    // If all filtered child values are selected, return true\n    return (\n      state.value.childSelections[parent].size ===\n      filteredChildFieldValues.value.length\n    );\n  },\n  set(value) {\n    handleSelectAllChildValues(value);\n  },\n});\n\nconst toggleCheckboxLabel = computed(() => {\n  const parent = state.value.currentParentSelection;\n  if (!parent) return \"Select All\";\n  const selectedCount = getSelectedChildValueCount(parent);\n  if (selectedCount === 0) return \"Select All\";\n  return `${selectedCount} ${\n    selectedCount === 1 ? \"value\" : \"values\"\n  } selected`;\n});\n\nfunction handleSelectAllChildValues(value: boolean) {\n  const parent = state.value.currentParentSelection;\n  if (!parent) return;\n\n  if (!(state.value.childSelections[parent] instanceof Set)) {\n    state.value.childSelections[parent] = new Set();\n  }\n\n  if (value) {\n    // Select all child values\n    filteredChildFieldValues.value.forEach((childValue) => {\n      state.value.childSelections[parent].add(childValue);\n    });\n  } else {\n    // Deselect all child values\n    state.value.childSelections[parent].clear();\n  }\n}\n\nfunction isChildValueSelected(childValue: string) {\n  const parent = state.value.currentParentSelection;\n  return (\n    state.value.childSelections[parent] instanceof Set &&\n    state.value.childSelections[parent].has(childValue)\n  );\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"flex flex-col py-8 gap-8 overflow-y-hidden\">\n    <SettingsLayoutHeader>\n      <template #title>\n        <div class=\"flex items-center gap-2 pl-10\">\n          <Button\n            variant=\"ghost\"\n            icon-left=\"chevron-left\"\n            :label=\"dependencyLabel\"\n            size=\"md\"\n            @click=\"handleBackNavigation\"\n            class=\"cursor-pointer hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5 pl-0 -ml-[5px] pr-0\"\n          />\n          <Badge v-if=\"isDirty\" theme=\"orange\"> Unsaved </Badge>\n        </div>\n      </template>\n      <template #actions>\n        <div class=\"flex gap-4 pr-10\">\n          <!-- Switch -->\n          <div class=\"flex gap-2 items-center\">\n            <Switch v-model=\"state.enabled\" class=\"!w-fit\" />\n            <span class=\"text-p-base text-ink-gray-6\">Enabled</span>\n          </div>\n          <!-- Actions -->\n          <div class=\"flex gap-1\">\n            <Button\n              label=\"Save\"\n              variant=\"solid\"\n              size=\"sm\"\n              :disabled=\"\n                !state.selectedParentField ||\n                !state.selectedChildField ||\n                Object.keys(state.childSelections).length === 0\n              \"\n              :loading=\"createUpdateFieldDependency.loading\"\n              @click=\"handleSubmit\"\n            />\n          </div>\n        </div>\n      </template>\n    </SettingsLayoutHeader>\n    <!-- Body -->\n    <div class=\"w-full flex-1 flex flex-col gap-8 overflow-y-hidden px-10\">\n      <!-- Field Selection -->\n      <FieldDependencyFieldsSelection\n        v-model=\"state\"\n        :is-new=\"isNew\"\n        :parent-fields=\"parentFields\"\n      />\n\n      <div class=\"flex flex-col gap-8 overflow-y-scroll\">\n        <!-- Value Selection -->\n        <FieldDependencyValueSelection\n          v-model=\"state\"\n          :is-new=\"isNew\"\n          :parent-fields=\"parentFields\"\n        />\n\n        <!-- Criteria selection -->\n        <FieldDependencyCriteria\n          :parent-field-values=\"state.parentFieldValues\"\n          v-model=\"fieldCriteriaState\"\n        />\n      </div>\n    </div>\n  </div>\n  <ConfirmDialog\n    v-model=\"showConfirmDialog\"\n    title=\"Unsaved changes\"\n    message=\"Are you sure you want to go back? Unsaved changes will be lost.\"\n    :onConfirm=\"() => $emit('update:step', 'fd-list')\"\n    :onCancel=\"() => (showConfirmDialog = false)\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { getMeta } from \"@/stores/meta\";\nimport { getFieldDependencyLabel } from \"@/utils\";\nimport { createResource, toast, Switch } from \"frappe-ui\";\nimport { reactive, watch, computed, ref } from \"vue\";\nimport { getFieldOptions, hiddenChildFields } from \"./fieldDependency\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport { disableSettingModalOutsideClick } from \"../settingsModal\";\nimport FieldDependencyCriteria from \"./FieldDependencyCriteria.vue\";\nimport FieldDependencyFieldsSelection from \"./FieldDependencyFieldsSelection.vue\";\nimport FieldDependencyValueSelection from \"./FieldDependencyValueSelection.vue\";\n\nconst props = defineProps({\n  fieldDependencyName: {\n    type: String,\n    default: \"\",\n  },\n});\nconst emit = defineEmits([\"update:step\"]);\n\nconst isNew = computed(() => !props.fieldDependencyName);\n\nconst dependencyLabel = computed(() => {\n  if (isNew.value) return \"New Field Dependency\";\n  return getFieldDependencyLabel(props.fieldDependencyName);\n});\n\nconst { getFields } = getMeta(\"HD Ticket\");\n\nconst parentFields = computed(() => {\n  let _fields = getFields();\n\n  if (!_fields || _fields.length === 0) {\n    return [];\n  }\n  const notAllowedFields = [\"status\", \"agreement_status\"];\n  _fields = _fields.filter(\n    (f) =>\n      (f.fieldtype === \"Select\" || f.fieldtype === \"Link\") &&\n      !notAllowedFields.includes(f.fieldname)\n  );\n  return _fields.map((f) => ({\n    label: f.label,\n    value: f.fieldname,\n    options: f.options || [],\n    type: f.fieldtype,\n  }));\n});\n\nlet state = reactive({\n  selectedParentField: \"\",\n  selectedChildField: \"\",\n  childFields: [],\n\n  parentFieldValues: [],\n  childFieldValues: [],\n\n  currentParentSelection: \"\",\n\n  childSelections: {}, // Initial value is a Set\n  initialChildSelections: {},\n  parentSearch: \"\",\n  childSearch: \"\",\n\n  enabled: true,\n});\n\nlet fieldCriteriaState = reactive({\n  display: {\n    enabled: true,\n    value: [{ label: \"Any\", value: \"Any\" }],\n  },\n  mandatory: {\n    enabled: true,\n    value: [{ label: \"Any\", value: \"Any\" }],\n  },\n});\n\nconst createUpdateFieldDependency = createResource({\n  url: \"helpdesk.api.settings.field_dependency.create_update_field_dependency\",\n  auto: false,\n  makeParams: () => ({\n    parent_field: state.selectedParentField,\n    child_field: state.selectedChildField,\n    parent_child_mapping: stringifyParentChildMapping(),\n    enabled: state.enabled,\n    fields_criteria: JSON.stringify(fieldCriteriaState),\n  }),\n  onSuccess: () => {\n    if (!isNew.value) {\n      fieldDependency.reload();\n      return;\n    }\n    emit(\"update:step\", \"fd-list\");\n  },\n});\n\nconst fieldDependency = createResource({\n  url: \"helpdesk.api.settings.field_dependency.get_field_dependency\",\n  params: {\n    name: props.fieldDependencyName,\n  },\n  auto: !isNew.value,\n  onSuccess: (data) => {\n    state.selectedParentField = data.parent_field;\n    state.selectedChildField = data.child_field;\n    state.enabled = data.enabled;\n    parseMapping(data.parent_child_mapping);\n    parseFieldCriteria(data.fields_criteria);\n  },\n});\nfunction parseMapping(data: string) {\n  const mapping = JSON.parse(data || \"{}\");\n  let selections = {};\n  Object.keys(mapping).forEach((parent) => {\n    selections[parent] = new Set(mapping[parent]);\n  });\n  state.childSelections = selections;\n\n  // for checking dirty state\n  state.initialChildSelections = structuredClone(selections);\n\n  if (!state.currentParentSelection) {\n    state.currentParentSelection = Object.keys(mapping)[0] || \"\";\n  }\n}\n\nfunction parseFieldCriteria(data: string) {\n  const criteria = JSON.parse(data || \"{}\");\n  fieldCriteriaState.display = criteria.display || {\n    enabled: true,\n    value: [{ label: \"Any\", value: \"Any\" }],\n  };\n  fieldCriteriaState.mandatory = criteria.mandatory || {\n    enabled: true,\n    value: [{ label: \"Any\", value: \"Any\" }],\n  };\n}\n\nconst isDirty = computed(() => {\n  if (isNew.value) {\n    return state.enabled !== true || state.selectedParentField !== \"\";\n  }\n  if (fieldDependency.loading) return false;\n  return (\n    Boolean(fieldDependency.data?.enabled) !== Boolean(state.enabled) ||\n    stringifyParentChildMapping(state.childSelections) !==\n      stringifyParentChildMapping(state.initialChildSelections) ||\n    JSON.stringify(fieldCriteriaState) !== fieldDependency.data?.fields_criteria\n  );\n});\n\nwatch(\n  () => isDirty.value,\n  (val) => {\n    disableSettingModalOutsideClick.value = val;\n  }\n);\n\nfunction stringifyParentChildMapping(selections = null) {\n  const _selections =\n    selections && Object.keys(selections).length > 0\n      ? selections\n      : state.childSelections;\n  const mapping = {};\n  Object.keys(_selections).forEach((parent) => {\n    let selections = Array.from(_selections[parent]);\n    if (selections.length) {\n      mapping[parent] = Array.from(_selections[parent]);\n    }\n  });\n  return JSON.stringify(mapping);\n}\n\nasync function handleFieldValues(fieldname: string, isParentField: boolean) {\n  if (!fieldname) return [];\n\n  if (isParentField) {\n    // if new field dependency, reset child fields\n    if (isNew.value) {\n      state.selectedChildField = \"\"; // Reset child field when parent changes\n      state.childFieldValues = [];\n      state.currentParentSelection = \"\"; // Reset current parent selection\n      state.childSelections = {}; // Reset child selections for new parent\n\n      // filter out hidden already madeup field dependencies in the child fields\n      let fieldsToHide = [fieldname, ...hiddenChildFields.value];\n      state.childFields = parentFields.value.filter(\n        (f) => !fieldsToHide.includes(f.value)\n      );\n    } else {\n      state.childFields = parentFields.value.filter(\n        (f) => f.value === state.selectedChildField\n      );\n    }\n    // show the selected child field if editing\n  }\n\n  const field = isParentField\n    ? parentFields.value.find((f) => f.value === fieldname)\n    : state.childFields.find((f) => f.value === fieldname);\n  if (!field) return [];\n  let options = await getFieldOptions(field);\n\n  return options;\n}\n\nconst showConfirmDialog = ref(false);\nfunction handleBackNavigation() {\n  if (createUpdateFieldDependency.loading) return;\n  if (isDirty.value) {\n    showConfirmDialog.value = true;\n\n    return;\n  }\n  emit(\"update:step\", \"fd-list\");\n}\n\nfunction handleSubmit() {\n  if (!isDirty.value) return;\n  createUpdateFieldDependency.submit();\n  let successMessage = isNew.value\n    ? \"Field Dependency created successfully\"\n    : \"Field Dependency updated successfully\";\n  toast.success(successMessage);\n}\n\n// parent field watcher\nwatch(\n  () => state.selectedParentField,\n  async (newParentField) => {\n    state.parentFieldValues = await handleFieldValues(newParentField, true);\n  }\n);\n\n// child field watcher\nwatch(\n  () => state.selectedChildField,\n  async (newChildField) => {\n    state.childFieldValues = await handleFieldValues(newChildField, false);\n    // Reset child selections when child field changes\n    if (isNew.value) {\n      state.childSelections = {};\n    }\n    state.currentParentSelection = state.parentFieldValues[0] || \"\";\n  }\n);\n\nwatch(\n  () => state.currentParentSelection,\n  () => {\n    state.childSearch = \"\"; // Reset child search when parent selection changes\n  }\n);\n</script>\n","<template>\n  <div class=\"px-10 py-8\">\n    <SettingsLayoutHeader>\n      <template #title>\n        <div class=\"flex items-center gap-2\">\n          <h1 class=\"text-lg font-semibold text-ink-gray-8\">\n            Field Dependencies\n          </h1>\n          <DocumentationButton\n            url=\"https://docs.frappe.io/helpdesk/field-dependency\"\n            color=\"!text-ink-gray-6\"\n          />\n        </div>\n      </template>\n      <template #description>\n        <p class=\"text-p-sm max-w-md text-ink-gray-6\">\n          Create dependencies between fields to dynamically control options\n          based on user selections.\n        </p>\n      </template>\n      <template #actions>\n        <Button\n          label=\"New\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"$emit('update:step', 'fd')\"\n          icon-left=\"plus\"\n        />\n      </template>\n    </SettingsLayoutHeader>\n  </div>\n  <div class=\"px-10 pb-8\">\n    <!-- Loading State -->\n    <div\n      v-if=\"fieldDependenciesList.loading\"\n      class=\"flex items-center justify-center py-4\"\n    >\n      <LoadingIndicator :scale=\"5\" />\n    </div>\n\n    <!-- Empty State -->\n    <div\n      v-if=\"\n        !fieldDependenciesList.loading &&\n        fieldDependenciesList.data?.length === 0\n      \"\n      class=\"flex mt-28 justify-between w-full h-full\"\n    >\n      <p class=\"text-sm text-gray-500 w-full flex justify-center\">\n        No field dependencies found.\n      </p>\n    </div>\n\n    <div\n      class=\"w-full\"\n      v-if=\"\n        !fieldDependenciesList.loading && fieldDependenciesList.data?.length > 0\n      \"\n    >\n      <!-- table heading -->\n      <div class=\"flex w-full p-2\">\n        <p class=\"w-7/12 text-p-sm text-ink-gray-5\">Name</p>\n        <p class=\"w-3/12 text-p-sm text-ink-gray-5\">Created By</p>\n        <p class=\"w-1/12 text-p-sm text-ink-gray-5\">Enabled</p>\n        <p class=\"w-1/12 text-p-sm text-ink-gray-5\"></p>\n      </div>\n      <div class=\"h-px border-t mx-1 border-outline-gray-modals\" />\n\n      <!-- Table content -->\n      <ul>\n        <!-- Each row -->\n        <li\n          class=\"w-full flex flex-col items-center cursor-pointer hover:bg-surface-menu-bar rounded\"\n          v-for=\"(row, idx) in fieldDependenciesList.data\"\n          @click.stop=\"$emit('update:step', 'fd', row.name)\"\n          :key=\"row.name\"\n        >\n          <div class=\"w-full flex items-center p-2\">\n            <!-- Parent to Child -->\n            <div class=\"flex gap-2 w-7/12 text-base text-ink-gray-7 pr-3\">\n              <span>{{ getFieldDependencyLabel(row.name) }}</span>\n            </div>\n            <!-- Owner -->\n            <p class=\"w-3/12 flex items-center gap-2 pr-3\">\n              <Avatar size=\"sm\" :image=\"row.owner\" :label=\"row.owner\" />\n              <span class=\"text-base text-ink-gray-7 truncate\">{{\n                row.owner\n              }}</span>\n            </p>\n            <!-- Enabled -->\n            <p class=\"w-1/12 flex items-center\">\n              <Switch\n                :model-value=\"row.enabled\"\n                @update:modelValue=\"(e) => handleSwitchToggle(row.name, e)\"\n                @click.stop\n              />\n            </p>\n            <!-- More Options -->\n            <p class=\"w-1/12 flex items-center justify-end\">\n              <Dropdown placement=\"right\" :options=\"getOptions(row.name)\">\n                <Button\n                  variant=\"ghost\"\n                  @click.stop=\"\n                    () => {\n                      isConfirmingDelete = false;\n                    }\n                  \"\n                >\n                  <template #icon>\n                    <LucideMoreHorizontal class=\"h-4 w-4\" />\n                  </template>\n                </Button>\n              </Dropdown>\n            </p>\n          </div>\n          <!-- Separator -->\n          <div\n            class=\"h-px border-b mx-1 border-outline-gray-modals w-[99%]\"\n            v-if=\"idx < fieldDependenciesList.data?.length - 1\"\n          />\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Avatar, LoadingIndicator, Switch, toast } from \"frappe-ui\";\nimport { getFieldDependencyLabel, ConfirmDelete } from \"@/utils\";\nimport { onMounted, ref } from \"vue\";\nimport { fieldDependenciesList } from \"./fieldDependency\";\nimport SettingsLayoutHeader from \"../SettingsLayoutHeader.vue\";\nimport DocumentationButton from \"@/components/DocumentationButton.vue\";\n\nonMounted(() => {\n  fieldDependenciesList.reload();\n});\n\nconst isConfirmingDelete = ref(false);\n\nfunction getOptions(rowName: string) {\n  return ConfirmDelete({\n    isConfirmingDelete,\n    onConfirmDelete: () => {\n      console.log(`Deleting dependency: ${rowName}`);\n\n      fieldDependenciesList.delete.submit(rowName, {\n        onSuccess: () => {\n          toast.success(\"Field dependency deleted successfully\");\n          fieldDependenciesList.reload();\n        },\n      });\n    },\n  });\n}\n\nfunction handleSwitchToggle(rowName: string, value: boolean) {\n  fieldDependenciesList.setValue.submit(\n    {\n      name: rowName,\n      enabled: value,\n    },\n    {\n      onSuccess: () => {\n        toast.success(\"Field dependency updated successfully.\");\n      },\n    }\n  );\n}\n</script>\n","<template>\n  <div v-if=\"step === 'fd-list'\" class=\"h-full\">\n    <FieldDependencyList @update:step=\"updateStep\" />\n  </div>\n  <div v-else-if=\"step === 'fd'\" class=\"h-full\">\n    <FieldDependency\n      @update:step=\"updateStep\"\n      :field-dependency-name=\"fieldDependencyName\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Ref, ref } from \"vue\";\nimport FieldDependency from \"./FieldDependency.vue\";\nimport FieldDependencyList from \"./FieldDependencyList.vue\";\n\ntype FieldDependencyStep = \"fd-list\" | \"fd\";\n\nconst step: Ref<FieldDependencyStep> = ref(\"fd-list\");\nconst fieldDependencyName = ref(\"\");\n\nfunction updateStep(\n  newStep: FieldDependencyStep,\n  fieldDependency?: string\n): void {\n  step.value = newStep;\n  fieldDependencyName.value = fieldDependency;\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div\n    class=\"grid grid-cols-11 items-center gap-4 cursor-pointer hover:bg-gray-50 rounded\"\n  >\n    <div\n      @click=\"assignmentRulesActiveScreen = { screen: 'view', data: data }\"\n      class=\"w-full py-3 pl-2 col-span-7\"\n    >\n      <div class=\"text-base text-ink-gray-7 font-medium\">{{ data.name }}</div>\n      <div\n        v-if=\"data.description && data.description.length > 0\"\n        class=\"text-sm w-full text-ink-gray-5 mt-1 whitespace-nowrap overflow-ellipsis overflow-hidden\"\n      >\n        {{ data.description }}\n      </div>\n    </div>\n    <div class=\"col-span-2\">\n      <Select\n        class=\"w-max bg-transparent -ml-2 border-0 text-ink-gray-6 focus-visible:!ring-0 bg-none\"\n        :options=\"priorityOptions\"\n        v-model=\"data.priority\"\n        @update:modelValue=\"onPriorityChange\"\n      />\n    </div>\n    <div class=\"flex justify-between items-center w-full pr-2 col-span-2\">\n      <div>\n        <Switch\n          size=\"sm\"\n          :modelValue=\"!data.disabled\"\n          @update:modelValue=\"onToggle\"\n        />\n      </div>\n      <div>\n        <Dropdown placement=\"right\" :options=\"dropdownOptions\">\n          <Button\n            icon=\"more-horizontal\"\n            variant=\"ghost\"\n            @click=\"isConfirmingDelete = false\"\n          />\n        </Dropdown>\n      </div>\n    </div>\n  </div>\n  <Dialog\n    :options=\"{ title: __('Duplicate Assignment Rule') }\"\n    v-model=\"duplicateDialog.show\"\n  >\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <FormControl\n          :label=\"__('New Assignment Rule Name')\"\n          type=\"text\"\n          v-model=\"duplicateDialog.name\"\n        />\n      </div>\n    </template>\n    <template #actions>\n      <div class=\"flex gap-2 justify-end\">\n        <Button\n          variant=\"subtle\"\n          :label=\"__('Close')\"\n          @click=\"duplicateDialog.show = false\"\n        />\n        <Button variant=\"solid\" :label=\"__('Duplicate')\" @click=\"duplicate()\" />\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { assignmentRulesActiveScreen } from \"@/stores/assignmentRules\";\nimport { ConfirmDelete } from \"@/utils\";\nimport {\n  Button,\n  createResource,\n  Dialog,\n  Dropdown,\n  FormControl,\n  Select,\n  Switch,\n  toast,\n} from \"frappe-ui\";\nimport { inject, ref } from \"vue\";\n\nconst assignmentRulesList = inject<any>(\"assignmentRulesList\");\n\nconst props = defineProps({\n  data: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst priorityOptions = [\n  { label: \"Low\", value: \"0\" },\n  { label: \"Low-Medium\", value: \"1\" },\n  { label: \"Medium\", value: \"2\" },\n  { label: \"Medium-High\", value: \"3\" },\n  { label: \"High\", value: \"4\" },\n];\n\nconst duplicateDialog = ref({\n  show: false,\n  name: \"\",\n});\n\nconst isConfirmingDelete = ref(false);\n\nconst deleteAssignmentRule = () => {\n  createResource({\n    url: \"frappe.client.delete\",\n    params: {\n      doctype: \"Assignment Rule\",\n      name: props.data.name,\n    },\n    onSuccess: () => {\n      assignmentRulesList.reload();\n      isConfirmingDelete.value = false;\n      toast.success(\"Assignment rule deleted\");\n    },\n    auto: true,\n  });\n};\n\nconst dropdownOptions = [\n  {\n    label: \"Duplicate\",\n    onClick: () => {\n      duplicateDialog.value = {\n        show: true,\n        name: props.data.name + \" (Copy)\",\n      };\n    },\n    icon: \"copy\",\n  },\n  ...ConfirmDelete({\n    isConfirmingDelete,\n    onConfirmDelete: deleteAssignmentRule,\n  }),\n];\n\nconst duplicate = () => {\n  createResource({\n    url: \"helpdesk.api.assignment_rule.duplicate_assignment_rule\",\n    params: {\n      docname: props.data.name,\n      new_name: duplicateDialog.value.name,\n    },\n    onSuccess: (data) => {\n      assignmentRulesList.reload();\n      toast.success(\"Assignment rule duplicated\");\n      duplicateDialog.value.show = false;\n      duplicateDialog.value.name = \"\";\n      assignmentRulesActiveScreen.value = {\n        screen: \"view\",\n        data: {\n          name: data.name,\n        },\n      };\n    },\n    auto: true,\n  });\n};\n\nconst onPriorityChange = () => {\n  setAssignmentRuleValue(\"priority\", props.data.priority);\n};\n\nconst onToggle = () => {\n  if (!props.data.users_exists && props.data.disabled) {\n    toast.error(\"Cannot enable rule without adding users in it\");\n    return;\n  }\n  setAssignmentRuleValue(\"disabled\", !props.data.disabled, \"status\");\n};\n\nconst setAssignmentRuleValue = (key, value, fieldName = undefined) => {\n  createResource({\n    url: \"frappe.client.set_value\",\n    params: {\n      doctype: \"Assignment Rule\",\n      name: props.data.name,\n      fieldname: key,\n      value: value,\n    },\n    onSuccess: () => {\n      assignmentRulesList.reload();\n      toast.success(`Assignment rule ${fieldName || key} updated`);\n    },\n    auto: true,\n  });\n};\n</script>\n","<template>\n  <div\n    v-if=\"assignmentRulesList.loading && !assignmentRulesList.data\"\n    class=\"flex items-center justify-center mt-12\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div v-else>\n    <div\n      v-if=\"assignmentRulesList.data?.length === 0\"\n      class=\"flex items-center justify-center rounded-md border border-gray-200 p-4\"\n    >\n      <div class=\"text-sm text-ink-gray-7\">\n        {{ __(\"No items in the list\") }}\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"grid grid-cols-11 items-center gap-4 text-sm text-gray-600\">\n        <div class=\"col-span-7 ml-2\">{{ __(\"Assignment rule\") }}</div>\n        <div class=\"col-span-2\">{{ __(\"Priority\") }}</div>\n        <div class=\"col-span-2\">{{ __(\"Enabled\") }}</div>\n      </div>\n      <hr class=\"mt-2 mx-2\" />\n      <div\n        v-for=\"assignmentRule in assignmentRulesList.data\"\n        :key=\"assignmentRule.name\"\n      >\n        <AssignmentRuleListItem :data=\"assignmentRule\" />\n        <hr class=\"mx-2\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { LoadingIndicator } from \"frappe-ui\";\nimport { inject } from \"vue\";\nimport AssignmentRuleListItem from \"./AssignmentRuleListItem.vue\";\n\nconst assignmentRulesList = inject<any>(\"assignmentRulesList\");\n</script>\n","<template>\n  <div class=\"px-10 py-8 sticky top-0\">\n    <div class=\"flex items-start justify-between\">\n      <div class=\"flex flex-col gap-1\">\n        <h1 class=\"text-lg font-semibold text-ink-gray-8\">\n          {{ __(\"Assignment rules\") }}\n        </h1>\n        <p class=\"text-p-sm text-ink-gray-6 max-w-md\">\n          {{\n            __(\n              \"Assignment Rules automatically route tickets to the right team members based on predefined conditions.\"\n            )\n          }}\n        </p>\n      </div>\n      <Button\n        :label=\"__('Create new')\"\n        theme=\"gray\"\n        variant=\"solid\"\n        @click=\"goToNew()\"\n        icon-left=\"plus\"\n      />\n    </div>\n  </div>\n  <div class=\"overflow-y-auto px-10 pb-8\">\n    <AssignmentRulesListView />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, createResource } from \"frappe-ui\";\nimport { provide } from \"vue\";\nimport {\n  assignmentRulesActiveScreen,\n  resetAssignmentRuleData,\n} from \"../../../stores/assignmentRules\";\nimport AssignmentRulesListView from \"./AssignmentRulesListView.vue\";\n\nconst assignmentRulesListData = createResource({\n  url: \"helpdesk.api.assignment_rule.get_assignment_rules_list\",\n  cache: [\"assignmentRules\", \"get_assignment_rules_list\"],\n  auto: true,\n});\n\nprovide(\"assignmentRulesList\", assignmentRulesListData);\n\nconst goToNew = () => {\n  resetAssignmentRuleData();\n  assignmentRulesActiveScreen.value = {\n    screen: \"view\",\n    data: null,\n  };\n};\n</script>\n","<template>\n  <Combobox :multiple=\"true\">\n    <Popover placement=\"bottom-end\">\n      <template #target=\"{ togglePopover }\">\n        <Button\n          variant=\"subtle\"\n          icon-left=\"plus\"\n          @click=\"togglePopover()\"\n          :label=\"__('Add Assignee')\"\n        />\n      </template>\n      <template #body=\"{ togglePopover }\">\n        <div class=\"mt-1 rounded-lg bg-white py-1 text-base shadow-2xl w-60\">\n          <div class=\"relative px-1.5 pt-0.5\">\n            <ComboboxInput\n              ref=\"search\"\n              class=\"form-input w-full\"\n              type=\"text\"\n              @change=\"\n                (e) => {\n                  query = e.target.value;\n                }\n              \"\n              :value=\"query\"\n              autocomplete=\"off\"\n              :placeholder=\"__('Search')\"\n            />\n            <button\n              class=\"absolute right-1.5 inline-flex h-7 w-7 items-center justify-center\"\n              @click=\"query = ''\"\n            >\n              <FeatherIcon name=\"x\" class=\"w-4\" />\n            </button>\n          </div>\n          <ComboboxOptions class=\"my-2 max-h-64 overflow-y-auto px-1.5\" static>\n            <ComboboxOption\n              v-show=\"users.length > 0\"\n              v-for=\"user in users\"\n              :key=\"user.username\"\n              :value=\"user\"\n              as=\"template\"\n              v-slot=\"{ active }\"\n              @click=\"\n                (e) => {\n                  e.stopPropagation();\n                  addAssignee(user);\n                }\n              \"\n            >\n              <li\n                class=\"flex items-center rounded p-1.5 w-full text-base\"\n                :class=\"{ 'bg-gray-100': active }\"\n              >\n                <div class=\"flex gap-2 items-center w-full select-none\">\n                  <Avatar\n                    :shape=\"'circle'\"\n                    :image=\"user.user_image\"\n                    :label=\"user.full_name\"\n                    size=\"lg\"\n                  />\n                  <div class=\"flex flex-col gap-1\">\n                    <div class=\"font-semibold text-ink-gray-7\">\n                      {{ user.full_name }}\n                    </div>\n                    <div class=\"text-ink-gray-6\">{{ user.email }}</div>\n                  </div>\n                </div>\n              </li>\n            </ComboboxOption>\n            <li\n              v-if=\"users.length == 0\"\n              class=\"mt-1.5 rounded-md p-1.5 text-base text-gray-600\"\n            >\n              {{ __(\"No results found\") }}\n            </li>\n          </ComboboxOptions>\n          <div class=\"border-t p-1.5 pb-0.5\">\n            <Button\n              variant=\"ghost\"\n              class=\"w-full\"\n              icon-left=\"plus\"\n              :label=\"__('Invite agent')\"\n              @click=\"\n                () => {\n                  showNewAgentsDialog = true;\n                  togglePopover();\n                }\n              \"\n            />\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Combobox>\n\n  <AddNewAgentsDialog\n    :title=\"__('Add Agents')\"\n    @close=\"showNewAgentsDialog = false\"\n    :modelValue=\"showNewAgentsDialog\"\n    :show=\"showNewAgentsDialog\"\n    @update:modelValue=\"showNewAgentsDialog = $event\"\n    @onAgentsInvited=\"addInvitedAgents\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport AddNewAgentsDialog from \"@/components/desk/global/AddNewAgentsDialog.vue\";\nimport { assignmentRuleData } from \"@/stores/assignmentRules\";\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxOption,\n  ComboboxOptions,\n} from \"@headlessui/vue\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport { Avatar, createListResource, Popover } from \"frappe-ui\";\nimport { computed, ref } from \"vue\";\n\nconst emit = defineEmits([\"addAssignee\"]);\nconst query = ref(\"\");\nconst showNewAgentsDialog = ref(false);\n\nwatchDebounced(\n  () => query.value,\n  (val) => {\n    const filters = {\n      full_name: undefined,\n      email: undefined,\n    };\n    const isEmail = val.includes(\"@\") || val.includes(\".\");\n    if (isEmail) {\n      filters.email = [\"like\", `%${val}%`];\n    } else {\n      filters.full_name = [\"like\", `%${val}%`];\n    }\n    usersList.update({\n      filters,\n    });\n    usersList.reload();\n  },\n  { debounce: 500 }\n);\n\nconst usersList = createListResource({\n  doctype: \"User\",\n  fields: [\"name\", \"email\", \"full_name\", \"user_image\"],\n  start: 0,\n  pageLength: 5,\n  auto: true,\n  transform: (data) => {\n    return data\n      .map((user) => {\n        if (user.full_name == \"Administrator\") {\n          return {\n            ...user,\n            email: \"Administrator\",\n            user: \"Administrator\",\n          };\n        }\n        return {\n          ...user,\n          user: user.email,\n        };\n      })\n      .filter((user) => user.full_name != \"Guest\");\n  },\n});\n\nconst users = computed(() => {\n  return (\n    usersList.data?.filter(\n      (user) =>\n        !assignmentRuleData.value.users.some((u) => u.user === user.email)\n    ) || []\n  );\n});\n\nconst addInvitedAgents = (users) => {\n  users.forEach((user) => {\n    addAssignee({ user });\n  });\n};\n\nconst addAssignee = (user) => {\n  const userExists = assignmentRuleData.value.users.some(\n    (u) => u.user === user.user\n  );\n  if (!userExists) {\n    assignmentRuleData.value.users.push({\n      full_name: user.full_name,\n      email: user.email,\n      user_image: user.user_image,\n      user: user.email,\n    });\n    emit(\"addAssignee\", user);\n  }\n};\n</script>\n","<template>\n  <div>\n    <div class=\"flex flex-col gap-1\">\n      <span class=\"text-lg font-semibold text-ink-gray-8\">{{\n        __(\"Assignee Rules\")\n      }}</span>\n      <span class=\"text-p-sm text-ink-gray-6\">\n        {{\n          __(\n            \"Define who receives the tickets and how theyre distributed among agents.\"\n          )\n        }}\n      </span>\n    </div>\n    <div class=\"mt-8 flex items-center justify-between gap-2\">\n      <div>\n        <div class=\"text-base font-medium text-ink-gray-8\">\n          {{ __(\"Ticket Routing\") }}\n        </div>\n        <div class=\"text-p-sm text-ink-gray-6 mt-1\">\n          {{\n            __(\"Choose how tickets are distributed among selected assignees.\")\n          }}\n        </div>\n      </div>\n      <div>\n        <Popover placement=\"bottom-end\">\n          <template #target=\"{ togglePopover }\">\n            <div\n              class=\"flex items-center justify-between text-base rounded h-7 py-1.5 pl-2 pr-2 border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 text-ink-gray-8 transition-colors w-full dark:[color-scheme:dark] select-none min-w-40\"\n              @click=\"togglePopover()\"\n            >\n              <div>\n                {{\n                  ticketRoutingOptions.find(\n                    (option) => option.value == assignmentRuleData.rule\n                  )?.label\n                }}\n              </div>\n              <FeatherIcon name=\"chevron-down\" class=\"size-4\" />\n            </div>\n          </template>\n          <template #body=\"{ togglePopover }\">\n            <div\n              class=\"p-1 text-ink-gray-7 mt-1 w-48 bg-white shadow-xl rounded\"\n            >\n              <div\n                v-for=\"option in ticketRoutingOptions\"\n                :key=\"option.value\"\n                class=\"p-2 cursor-pointer hover:bg-gray-50 text-sm flex items-center justify-between rounded\"\n                @click=\"\n                  () => {\n                    assignmentRuleData.rule = option.value;\n                    togglePopover();\n                  }\n                \"\n              >\n                <span>\n                  {{ option.label }}\n                </span>\n                <FeatherIcon\n                  v-if=\"assignmentRuleData.rule == option.value\"\n                  name=\"check\"\n                  class=\"size-4\"\n                />\n              </div>\n            </div>\n          </template>\n        </Popover>\n      </div>\n    </div>\n    <div class=\"mt-7 flex items-center justify-between gap-2\">\n      <div>\n        <div class=\"text-base font-medium text-ink-gray-8\">\n          {{ __(\"Assignees\") }}\n        </div>\n        <div class=\"text-p-sm text-ink-gray-6 mt-1\">\n          {{ __(\"Choose who receives the tickets.\") }}\n        </div>\n      </div>\n      <AssigneeSearch @addAssignee=\"validateAssignmentRule('users')\" />\n    </div>\n    <div class=\"mt-4 flex flex-wrap gap-2\">\n      <div\n        v-for=\"user in users\"\n        :key=\"user.name\"\n        class=\"flex items-center gap-2 text-sm bg-surface-gray-2 rounded-md p-1 w-max px-2 select-none\"\n      >\n        <Avatar :image=\"user.user_image\" :label=\"user.full_name\" size=\"sm\" />\n        <div class=\"text-ink-gray-7\">\n          {{ user.full_name }}\n        </div>\n        <Tooltip\n          v-if=\"user.email == assignmentRuleData.lastUser\"\n          :text=\"__('Last user assigned by this rule')\"\n          :hover-delay=\"0.35\"\n          :placement=\"'top'\"\n        >\n          <div\n            class=\"text-xs rounded-full select-none bg-blue-600 text-white p-0.5 px-2\"\n          >\n            {{ __(\"Last\") }}\n          </div>\n        </Tooltip>\n        <Button variant=\"ghost\" icon=\"x\" @click=\"removeAssignedUser(user)\" />\n      </div>\n    </div>\n    <ErrorMessage :message=\"assignmentRulesErrors.users\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Avatar, Button, ErrorMessage, Popover, Tooltip } from \"frappe-ui\";\nimport {\n  assignmentRuleData,\n  assignmentRulesErrors,\n  validateAssignmentRule,\n} from \"../../../stores/assignmentRules\";\nimport AssigneeSearch from \"./AssigneeSearch.vue\";\nimport { computed } from \"vue\";\nimport { useUserStore } from \"@/stores/user\";\n\nconst { getUser } = useUserStore();\n\nconst ticketRoutingOptions = [\n  {\n    label: \"Auto-rotate\",\n    value: \"Round Robin\",\n  },\n  {\n    label: \"Assign by workload\",\n    value: \"Load Balancing\",\n  },\n];\n\nconst removeAssignedUser = (user) => {\n  assignmentRuleData.value.users = assignmentRuleData.value.users.filter(\n    (u) => u.user !== user.name\n  );\n  validateAssignmentRule(\"users\");\n};\n\nconst users = computed(() => {\n  const _users = [];\n  assignmentRuleData.value.users.forEach((user) => {\n    _users.push(getUser(user.user));\n  });\n  return _users;\n});\n</script>\n","<template>\n  <CFConditions\n    v-if=\"props.conditions.length > 0\"\n    :conditions=\"props.conditions\"\n    :level=\"0\"\n    :disableAddCondition=\"props.errors !== ''\"\n  />\n  <div\n    v-if=\"props.conditions.length == 0\"\n    class=\"flex p-4 items-center cursor-pointer justify-center gap-2 text-sm border border-gray-300 text-gray-600 rounded-md\"\n    @click=\"\n      props.conditions.push(['', '', '']);\n      validateAssignmentRule(props.name);\n    \"\n  >\n    <FeatherIcon name=\"plus\" class=\"h-4\" />\n    {{ __(\"Add a condition\") }}\n  </div>\n  <div class=\"flex items-center justify-between\">\n    <Dropdown\n      v-if=\"props.conditions.length > 0\"\n      class=\"mt-2\"\n      v-slot=\"{ open }\"\n      :options=\"dropdownOptions\"\n    >\n      <Button\n        :disabled=\"props.errors !== ''\"\n        :icon-right=\"open ? 'chevron-up' : 'chevron-down'\"\n        :label=\"__('Add condition')\"\n      />\n    </Dropdown>\n    <ErrorMessage\n      v-if=\"props.conditions.length > 0\"\n      :message=\"props.errors\"\n      class=\"mt-2\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Button, Dropdown, ErrorMessage, FeatherIcon } from \"frappe-ui\";\nimport { watchDebounced } from \"@vueuse/core\";\nimport { validateAssignmentRule } from \"../../../stores/assignmentRules\";\nimport CFConditions from \"@/components/conditions-filter/CFConditions.vue\";\nimport { validateConditions } from \"@/utils\";\n\nconst props = defineProps({\n  conditions: Array<any>,\n  name: String,\n  errors: String,\n});\n\nconst getConjunction = () => {\n  let conjunction = \"and\";\n  props.conditions.forEach((condition) => {\n    if (typeof condition == \"string\") {\n      conjunction = condition;\n    }\n  });\n  return conjunction;\n};\n\nconst dropdownOptions = [\n  {\n    label: \"Add condition\",\n    onClick: () => {\n      addCondition();\n    },\n  },\n  {\n    label: \"Add condition group\",\n    onClick: () => {\n      const conjunction = getConjunction();\n      props.conditions.push(conjunction, [[]]);\n    },\n  },\n];\n\nconst addCondition = () => {\n  const isValid = validateConditions(props.conditions);\n\n  if (!isValid) {\n    return;\n  }\n  const conjunction = getConjunction();\n\n  props.conditions.push(conjunction, [\"\", \"\", \"\"]);\n};\n\nwatchDebounced(\n  () => [...props.conditions],\n  () => {\n    validateAssignmentRule(props.name);\n  },\n  { deep: true, debounce: 300 }\n);\n</script>\n","<template>\n  <div\n    class=\"grid py-3.5 px-4 items-center\"\n    style=\"grid-template-columns: 3fr 1fr\"\n  >\n    <div class=\"text-ink-gray-7 font-medium\">{{ data.day }}</div>\n    <div class=\"flex justify-start\">\n      <Switch v-model=\"data.active\" @update:model-value=\"toggleDay\" />\n    </div>\n  </div>\n  <hr v-if=\"!isLast\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { assignmentRuleData } from \"@/stores/assignmentRules\";\nimport { Switch } from \"frappe-ui\";\n\nconst props = defineProps({\n  data: {\n    type: Object,\n    required: true,\n  },\n  isLast: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst toggleDay = (isActive) => {\n  const dayIndex = assignmentRuleData.value.assignmentDays.findIndex(\n    (d) => d === props.data.day\n  );\n\n  if (isActive && dayIndex === -1) {\n    assignmentRuleData.value.assignmentDays.push(props.data.day);\n  } else {\n    assignmentRuleData.value.assignmentDays.splice(dayIndex, 1);\n  }\n};\n</script>\n","<template>\n  <div class=\"rounded-md border px-2 border-gray-300 text-sm\">\n    <div\n      class=\"grid p-2 px-4 items-center\"\n      style=\"grid-template-columns: 3fr 1fr\"\n    >\n      <div\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        class=\"text-gray-600 overflow-hidden whitespace-nowrap text-ellipsis\"\n      >\n        {{ column.label }}\n      </div>\n    </div>\n    <hr />\n    <AssignmentScheduleItem\n      v-for=\"(day, index) in days\"\n      :key=\"day.day\"\n      :data=\"day\"\n      :isLast=\"index === days.length - 1\"\n    />\n  </div>\n  <ErrorMessage :message=\"assignmentRulesErrors.assignmentDays\" class=\"mt-2\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { ErrorMessage } from \"frappe-ui\";\nimport { onMounted, ref } from \"vue\";\nimport {\n  assignmentRuleData,\n  assignmentRulesErrors,\n} from \"../../../stores/assignmentRules\";\nimport AssignmentScheduleItem from \"./AssignmentScheduleItem.vue\";\n\nconst columns = [\n  {\n    label: \"Days\",\n    key: \"day\",\n  },\n  {\n    label: \"Active\",\n    key: \"active\",\n  },\n];\n\nconst days = ref([\n  {\n    day: \"Monday\",\n    active: false,\n  },\n  {\n    day: \"Tuesday\",\n    active: false,\n  },\n  {\n    day: \"Wednesday\",\n    active: false,\n  },\n  {\n    day: \"Thursday\",\n    active: false,\n  },\n  {\n    day: \"Friday\",\n    active: false,\n  },\n  {\n    day: \"Saturday\",\n    active: false,\n  },\n  {\n    day: \"Sunday\",\n    active: false,\n  },\n]);\n\nonMounted(() => {\n  assignmentRuleData.value.assignmentDays.forEach((day) => {\n    const workDay = days.value.find((d) => d.day === day);\n    if (workDay) {\n      workDay.active = true;\n    }\n  });\n});\n</script>\n","<template>\n  <div\n    v-if=\"getAssignmentRuleData.loading\"\n    class=\"flex items-center h-full justify-center\"\n  >\n    <LoadingIndicator class=\"w-4\" />\n  </div>\n  <div\n    v-if=\"!getAssignmentRuleData.loading\"\n    class=\"sticky top-0 z-10 bg-white pb-6 px-10 py-8\"\n  >\n    <div class=\"flex items-center justify-between w-full\">\n      <div class=\"flex items-center gap-2\">\n        <Button\n          variant=\"ghost\"\n          icon-left=\"chevron-left\"\n          :label=\"\n            assignmentRuleData.assignmentRuleName || 'New Assignment Rule'\n          \"\n          size=\"md\"\n          @click=\"goBack()\"\n          class=\"cursor-pointer -ml-4 hover:bg-transparent focus:bg-transparent focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:none active:bg-transparent active:outline-none active:ring-0 active:ring-offset-0 active:text-ink-gray-5 font-semibold text-xl hover:opacity-70 !pr-0 !max-w-96 !justify-start\"\n        />\n        <Badge\n          :variant=\"'subtle'\"\n          :theme=\"'orange'\"\n          size=\"sm\"\n          :label=\"__('Unsaved')\"\n          v-if=\"isDirty\"\n        />\n      </div>\n      <div class=\"flex items-center gap-4\">\n        <div\n          class=\"flex items-center justify-between gap-2\"\n          @click=\"assignmentRuleData.disabled = !assignmentRuleData.disabled\"\n        >\n          <Switch size=\"sm\" :model-value=\"!assignmentRuleData.disabled\" />\n          <span class=\"text-sm text-ink-gray-7\">{{ __(\"Enabled\") }}</span>\n        </div>\n        <Button\n          :disabled=\"Boolean(!isDirty && assignmentRulesActiveScreen.data)\"\n          :label=\"__('Save')\"\n          theme=\"gray\"\n          variant=\"solid\"\n          @click=\"saveAssignmentRule()\"\n          :loading=\"isLoading || getAssignmentRuleData.loading\"\n        />\n      </div>\n    </div>\n  </div>\n  <div v-if=\"!getAssignmentRuleData.loading\" class=\"overflow-y-auto px-10 pb-8\">\n    <div class=\"grid grid-cols-2 gap-5\">\n      <div>\n        <FormControl\n          :type=\"'text'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Name\"\n          label=\"Name\"\n          v-model=\"assignmentRuleData.assignmentRuleName\"\n          required\n          maxlength=\"50\"\n          @change=\"validateAssignmentRule('assignmentRuleName')\"\n        />\n        <ErrorMessage\n          :message=\"assignmentRulesErrors.assignmentRuleName\"\n          class=\"mt-2\"\n        />\n      </div>\n      <div class=\"flex flex-col gap-1.5\">\n        <FormLabel label=\"Priority\" />\n        <Popover>\n          <template #target=\"{ togglePopover }\">\n            <div\n              class=\"flex items-center justify-between text-base rounded h-7 py-1.5 pl-2 pr-2 border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 text-ink-gray-8 transition-colors w-full dark:[color-scheme:dark] cursor-default\"\n              @click=\"togglePopover()\"\n            >\n              <div>\n                {{\n                  priorityOptions.find(\n                    (option) => option.value == assignmentRuleData.priority\n                  )?.label\n                }}\n              </div>\n              <FeatherIcon name=\"chevron-down\" class=\"size-4\" />\n            </div>\n          </template>\n          <template #body=\"{ togglePopover }\">\n            <div\n              class=\"p-1 text-ink-gray-6 top-1 absolute w-full bg-white shadow-2xl rounded\"\n            >\n              <div\n                v-for=\"option in priorityOptions\"\n                :key=\"option.value\"\n                class=\"p-2 cursor-pointer hover:bg-gray-50 text-base flex items-center justify-between rounded\"\n                @click=\"\n                  assignmentRuleData.priority = option.value;\n                  togglePopover();\n                \"\n              >\n                {{ option.label }}\n                <FeatherIcon\n                  v-if=\"assignmentRuleData.priority == option.value\"\n                  name=\"check\"\n                  class=\"size-4\"\n                />\n              </div>\n            </div>\n          </template>\n        </Popover>\n      </div>\n      <div>\n        <FormControl\n          :type=\"'textarea'\"\n          size=\"sm\"\n          variant=\"subtle\"\n          placeholder=\"Description\"\n          label=\"Description\"\n          required\n          maxlength=\"250\"\n          @change=\"validateAssignmentRule('description')\"\n          v-model=\"assignmentRuleData.description\"\n        />\n        <ErrorMessage\n          :message=\"assignmentRulesErrors.description\"\n          class=\"mt-2\"\n        />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">{{\n          __(\"Assignment condition\")\n        }}</span>\n        <div class=\"flex items-center justify-between gap-6\">\n          <span class=\"text-p-sm text-ink-gray-6\">\n            {{\n              __(\"Choose which tickets are affected by this assignment rule.\")\n            }}\n            <a\n              class=\"font-medium underline\"\n              href=\"https://docs.frappe.io/helpdesk/assignment-rule\"\n              target=\"_blank\"\n              >{{ __(\"Learn about conditions\") }}</a\n            >\n          </span>\n          <div v-if=\"isOldSla && assignmentRulesActiveScreen.data\">\n            <Popover trigger=\"hover\" :hoverDelay=\"0.25\" placement=\"top-end\">\n              <template #target>\n                <div\n                  class=\"text-sm text-ink-gray-6 flex gap-1 cursor-default text-nowrap flex items-center\"\n                >\n                  <span>{{ __(\"Old Condition\") }}</span>\n                  <FeatherIcon name=\"info\" class=\"size-4\" />\n                </div>\n              </template>\n              <template #body-main>\n                <div\n                  class=\"text-sm text-ink-gray-6 p-2 bg-white rounded-md max-w-96 text-wrap whitespace-pre-wrap leading-5\"\n                >\n                  <code>{{ assignmentRuleData.assignCondition }}</code>\n                </div>\n              </template>\n            </Popover>\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-5\">\n        <div\n          class=\"flex flex-col gap-3 items-center text-center text-ink-gray-7 text-sm mb-2 border border-gray-300 rounded-md p-3 py-4\"\n          v-if=\"!useNewUI && assignmentRuleData.assignCondition\"\n        >\n          <span class=\"text-p-sm\">\n            Conditions for this rule were created from\n            <a :href=\"deskUrl\" target=\"_blank\" class=\"underline\">desk</a> which\n            are not compatible with this UI, you will need to recreate the\n            conditions here if you want to manage and add new conditions from\n            this UI.\n          </span>\n          <Button\n            label=\"I understand, add conditions\"\n            variant=\"subtle\"\n            theme=\"gray\"\n            @click=\"useNewUI = true\"\n          />\n        </div>\n        <AssignmentRulesSection\n          :conditions=\"assignmentRuleData.assignConditionJson\"\n          name=\"assignCondition\"\n          :errors=\"assignmentRulesErrors.assignConditionError\"\n          v-else\n        />\n        <ErrorMessage\n          :message=\"assignmentRulesErrors.assignCondition\"\n          class=\"mt-2\"\n        />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">{{\n          __(\"Unassignment condition\")\n        }}</span>\n        <div class=\"flex items-center justify-between gap-6\">\n          <span class=\"text-p-sm text-ink-gray-6\">\n            {{\n              __(\n                \"Choose which tickets are affected by this un-assignment rule.\"\n              )\n            }}\n            <a\n              class=\"font-medium underline\"\n              href=\"https://docs.frappe.io/helpdesk/assignment-rule\"\n              target=\"_blank\"\n              >{{ __(\"Learn about conditions\") }}</a\n            >\n          </span>\n          <div\n            v-if=\"\n              isOldSla &&\n              assignmentRulesActiveScreen.data &&\n              assignmentRuleData.unassignCondition\n            \"\n          >\n            <Popover trigger=\"hover\" :hoverDelay=\"0.25\" placement=\"top-end\">\n              <template #target>\n                <div\n                  class=\"text-sm text-ink-gray-6 flex gap-1 cursor-default text-nowrap flex items-center\"\n                >\n                  <span> {{ __(\"Old Condition\") }} </span>\n                  <FeatherIcon name=\"info\" class=\"size-4\" />\n                </div>\n              </template>\n              <template #body-main>\n                <div\n                  class=\"text-sm text-ink-gray-6 p-2 bg-white rounded-md max-w-96 text-wrap whitespace-pre-wrap leading-5\"\n                >\n                  <code>{{ assignmentRuleData.unassignCondition }}</code>\n                </div>\n              </template>\n            </Popover>\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-5\">\n        <div\n          class=\"flex flex-col gap-3 items-center text-center text-ink-gray-7 text-sm mb-2 border border-gray-300 rounded-md p-3 py-4\"\n          v-if=\"!useNewUI && assignmentRuleData.unassignCondition\"\n        >\n          <span class=\"text-p-sm\">\n            Conditions for this rule were created from\n            <a :href=\"deskUrl\" target=\"_blank\" class=\"underline\">desk</a> which\n            are not compatible with this UI, you will need to recreate the\n            conditions here if you want to manage and add new conditions from\n            this UI.\n          </span>\n          <Button\n            label=\"I understand, add conditions\"\n            variant=\"subtle\"\n            theme=\"gray\"\n            @click=\"useNewUI = true\"\n          />\n        </div>\n        <AssignmentRulesSection\n          :conditions=\"assignmentRuleData.unassignConditionJson\"\n          name=\"unassignCondition\"\n          :errors=\"assignmentRulesErrors.unassignConditionError\"\n          v-else\n        />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <div>\n      <div class=\"flex flex-col gap-1\">\n        <span class=\"text-lg font-semibold text-ink-gray-8\">{{\n          __(\"Assignment Schedule\")\n        }}</span>\n        <span class=\"text-p-sm text-ink-gray-6\">\n          {{\n            __(\"Choose the days of the week when this rule should be active.\")\n          }}\n        </span>\n      </div>\n      <div class=\"mt-6\">\n        <AssignmentSchedule />\n      </div>\n    </div>\n    <hr class=\"my-8\" />\n    <AssigneeRules />\n  </div>\n  <ConfirmDialog\n    v-model=\"showConfirmDialog.show\"\n    :title=\"showConfirmDialog.title\"\n    :message=\"showConfirmDialog.message\"\n    :onConfirm=\"showConfirmDialog.onConfirm\"\n    :onCancel=\"() => (showConfirmDialog.show = false)\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport ConfirmDialog from \"@/components/ConfirmDialog.vue\";\nimport {\n  Badge,\n  Button,\n  call,\n  createResource,\n  ErrorMessage,\n  FormControl,\n  FormLabel,\n  LoadingIndicator,\n  Popover,\n  Switch,\n  toast,\n} from \"frappe-ui\";\nimport { onMounted, onUnmounted, ref, watch } from \"vue\";\nimport {\n  assignmentRuleData,\n  assignmentRulesActiveScreen,\n  assignmentRulesErrors,\n  resetAssignmentRuleData,\n  resetAssignmentRuleErrors,\n  validateAssignmentRule,\n} from \"../../../stores/assignmentRules\";\nimport AssigneeRules from \"./AssigneeRules.vue\";\nimport AssignmentRulesSection from \"./AssignmentRulesSection.vue\";\nimport AssignmentSchedule from \"./AssignmentSchedule.vue\";\nimport { convertToConditions } from \"@/utils\";\nimport { disableSettingModalOutsideClick } from \"../settingsModal\";\n\nconst isDirty = ref(false);\nconst initialData = ref(null);\nconst isLoading = ref(false);\n\nconst showConfirmDialog = ref({\n  show: false,\n  title: \"\",\n  message: \"\",\n  onConfirm: () => {},\n});\nconst useNewUI = ref(true);\nconst isOldSla = ref(false);\nconst deskUrl = `${window.location.origin}/app/assignment-rule/${assignmentRulesActiveScreen.value.data?.name}`;\n\nconst getAssignmentRuleData = createResource({\n  url: \"frappe.client.get\",\n  params: {\n    doctype: \"Assignment Rule\",\n    name: assignmentRulesActiveScreen.value.data?.name,\n  },\n  auto: Boolean(assignmentRulesActiveScreen.value.data),\n  onSuccess(data) {\n    assignmentRuleData.value = {\n      loading: false,\n      assignCondition: data.assign_condition,\n      unassignCondition: data.unassign_condition,\n      assignConditionJson: JSON.parse(data.assign_condition_json || \"[]\"),\n      unassignConditionJson: JSON.parse(data.unassign_condition_json || \"[]\"),\n      rule: data.rule,\n      priority: data.priority,\n      users: data.users,\n      disabled: data.disabled,\n      description: data.description,\n      name: data.name,\n      assignmentRuleName: data.name,\n      assignmentDays: data.assignment_days.map((day) => day.day),\n    };\n\n    initialData.value = JSON.stringify(assignmentRuleData.value);\n\n    const conditionsAvailable =\n      assignmentRuleData.value.assignCondition?.length > 0;\n    const conditionsJsonAvailable =\n      assignmentRuleData.value.assignConditionJson?.length > 0;\n\n    if (conditionsAvailable && !conditionsJsonAvailable) {\n      useNewUI.value = false;\n      isOldSla.value = true;\n    } else {\n      useNewUI.value = true;\n      isOldSla.value = false;\n    }\n  },\n});\n\nif (!assignmentRulesActiveScreen.value.data) {\n  disableSettingModalOutsideClick.value = true;\n}\n\nconst goBack = () => {\n  const confirmDialogInfo = {\n    show: true,\n    title: \"Unsaved changes\",\n    message: \"Are you sure you want to go back? Unsaved changes will be lost.\",\n    onConfirm: goBack,\n  };\n  if (isDirty.value && !showConfirmDialog.value.show) {\n    showConfirmDialog.value = confirmDialogInfo;\n    return;\n  }\n  if (\n    !assignmentRulesActiveScreen.value.data &&\n    !showConfirmDialog.value.show\n  ) {\n    showConfirmDialog.value = confirmDialogInfo;\n    return;\n  }\n  // Workaround fix for settings modal not closing after going back\n  setTimeout(() => {\n    assignmentRulesActiveScreen.value = {\n      screen: \"list\",\n      data: null,\n    };\n  }, 250);\n  showConfirmDialog.value.show = false;\n};\n\nconst saveAssignmentRule = () => {\n  const validationErrors = validateAssignmentRule(undefined, !useNewUI.value);\n\n  if (Object.values(validationErrors).some((error) => error)) {\n    toast.error(\n      \"Invalid fields, check if all are filled in and values are correct.\"\n    );\n    return;\n  }\n\n  if (assignmentRulesActiveScreen.value.data) {\n    if (isOldSla.value && useNewUI.value) {\n      showConfirmDialog.value = {\n        show: true,\n        title: \"Confirm overwrite\",\n        message:\n          \"Your old condition will be overwritten. Are you sure you want to save?\",\n        onConfirm: () => {\n          updateAssignmentRule();\n          showConfirmDialog.value.show = false;\n        },\n      };\n      return;\n    }\n    updateAssignmentRule();\n  } else {\n    createAssignmentRule();\n  }\n};\n\nconst createAssignmentRule = () => {\n  isLoading.value = true;\n  createResource({\n    url: \"frappe.client.insert\",\n    params: {\n      doc: {\n        doctype: \"Assignment Rule\",\n        document_type: \"HD Ticket\",\n        rule: assignmentRuleData.value.rule,\n        priority: assignmentRuleData.value.priority,\n        users: assignmentRuleData.value.users,\n        disabled: assignmentRuleData.value.disabled,\n        description: assignmentRuleData.value.description,\n        assignment_days: assignmentRuleData.value.assignmentDays.map((day) => ({\n          day: day,\n        })),\n        name: assignmentRuleData.value.assignmentRuleName,\n        assignment_rule_name: assignmentRuleData.value.assignmentRuleName,\n        assign_condition: convertToConditions({\n          conditions: assignmentRuleData.value.assignConditionJson,\n        }),\n        unassign_condition: convertToConditions({\n          conditions: assignmentRuleData.value.unassignConditionJson,\n        }),\n        assign_condition_json: JSON.stringify(\n          assignmentRuleData.value.assignConditionJson\n        ),\n        unassign_condition_json: JSON.stringify(\n          assignmentRuleData.value.unassignConditionJson\n        ),\n      },\n    },\n    auto: true,\n    onSuccess(data) {\n      getAssignmentRuleData\n        .submit({\n          doctype: \"Assignment Rule\",\n          name: data.name,\n        })\n        .then(() => {\n          isLoading.value = false;\n          toast.success(\"Assignment rule created\");\n        });\n      assignmentRulesActiveScreen.value = {\n        screen: \"view\",\n        data: data,\n      };\n    },\n    onError: () => {\n      isLoading.value = false;\n    },\n  });\n};\n\nconst priorityOptions = [\n  { label: \"Low\", value: \"0\" },\n  { label: \"Low-Medium\", value: \"1\" },\n  { label: \"Medium\", value: \"2\" },\n  { label: \"Medium-High\", value: \"3\" },\n  { label: \"High\", value: \"4\" },\n];\n\nconst updateAssignmentRule = async () => {\n  isLoading.value = true;\n\n  await call(\"frappe.client.set_value\", {\n    doctype: \"Assignment Rule\",\n    document_type: \"HD Ticket\",\n    name: assignmentRuleData.value.name,\n    fieldname: {\n      rule: assignmentRuleData.value.rule,\n      priority: assignmentRuleData.value.priority,\n      users: assignmentRuleData.value.users,\n      disabled: assignmentRuleData.value.disabled,\n      description: assignmentRuleData.value.description,\n      assignment_days: assignmentRuleData.value.assignmentDays.map((day) => ({\n        day: day,\n      })),\n      assign_condition: useNewUI.value\n        ? convertToConditions({\n            conditions: assignmentRuleData.value.assignConditionJson,\n          })\n        : assignmentRuleData.value.assignCondition,\n      unassign_condition: useNewUI.value\n        ? convertToConditions({\n            conditions: assignmentRuleData.value.unassignConditionJson,\n          })\n        : assignmentRuleData.value.unassignCondition,\n      assign_condition_json: useNewUI.value\n        ? JSON.stringify(assignmentRuleData.value.assignConditionJson)\n        : null,\n      unassign_condition_json: useNewUI.value\n        ? JSON.stringify(assignmentRuleData.value.unassignConditionJson)\n        : null,\n    },\n  }).catch((er) => {\n    const error =\n      er?.messages?.[0] || \"Some error occurred while updating assignment rule\";\n    toast.error(error);\n    isLoading.value = false;\n  });\n\n  if (\n    assignmentRuleData.value.name !==\n    assignmentRuleData.value.assignmentRuleName\n  ) {\n    await call(\"frappe.client.rename_doc\", {\n      doctype: \"Assignment Rule\",\n      old_name: assignmentRuleData.value.name,\n      new_name: assignmentRuleData.value.assignmentRuleName,\n    }).catch(async (er) => {\n      const error =\n        er?.messages?.[0] ||\n        \"Some error occurred while renaming assignment rule\";\n      toast.error(error);\n      // Reset assignment rule to previous state\n      await getAssignmentRuleData.reload();\n      isLoading.value = false;\n    });\n    await getAssignmentRuleData.submit({\n      doctype: \"Assignment Rule\",\n      name: assignmentRuleData.value.assignmentRuleName,\n    });\n  } else {\n    getAssignmentRuleData.reload();\n  }\n\n  isLoading.value = false;\n  toast.success(\"Assignment rule updated\");\n};\n\nwatch(\n  assignmentRuleData,\n  (newVal) => {\n    if (!initialData.value) return;\n    isDirty.value = JSON.stringify(newVal) != initialData.value;\n    if (isDirty.value) {\n      disableSettingModalOutsideClick.value = true;\n    } else {\n      disableSettingModalOutsideClick.value = false;\n    }\n  },\n  { deep: true }\n);\n\nconst beforeUnloadHandler = (event) => {\n  if (!isDirty.value) return;\n  event.preventDefault();\n  event.returnValue = true;\n};\n\nonMounted(() => {\n  addEventListener(\"beforeunload\", beforeUnloadHandler);\n});\n\nonUnmounted(() => {\n  resetAssignmentRuleErrors();\n  resetAssignmentRuleData();\n  removeEventListener(\"beforeunload\", beforeUnloadHandler);\n  disableSettingModalOutsideClick.value = false;\n});\n</script>\n","<template>\n  <div class=\"pb-8\">\n    <AssignmentRulesList v-if=\"assignmentRulesActiveScreen.screen === 'list'\" />\n    <AssignmentRuleView v-if=\"assignmentRulesActiveScreen.screen === 'view'\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { assignmentRulesActiveScreen } from \"../../../stores/assignmentRules\";\nimport AssignmentRulesList from \"./AssignmentRulesList.vue\";\nimport AssignmentRuleView from \"./AssignmentRuleView.vue\";\n</script>\n","import { h, markRaw, ref } from \"vue\";\nimport ImageUp from \"~icons/lucide/image-up\";\nimport LucideMail from \"~icons/lucide/mail\";\nimport LucideUser from \"~icons/lucide/user\";\nimport LucideUsers from \"~icons/lucide/users\";\nimport ShieldCheck from \"~icons/lucide/shield-check\";\nimport Briefcase from \"~icons/lucide/briefcase\";\nimport Agents from \"./Agents.vue\";\nimport Branding from \"./Branding.vue\";\nimport EmailConfig from \"./EmailConfig.vue\";\nimport TeamsConfig from \"./Teams/TeamsConfig.vue\";\nimport Sla from \"./Sla/Sla.vue\";\nimport HolidayList from \"./Holiday/Holiday.vue\";\nimport FieldDependencyConfig from \"./FieldDependency/FieldDependencyConfig.vue\";\nimport { FieldDependencyIcon } from \"@/components/icons\";\nimport AssignmentRules from \"./Assignment Rules/AssignmentRules.vue\";\nimport Settings from \"~icons/lucide/settings-2\";\n\nexport const tabs = [\n  {\n    label: \"Email Accounts\",\n    icon: markRaw(LucideMail),\n    component: markRaw(EmailConfig),\n  },\n  {\n    label: \"Branding\",\n    icon: markRaw(ImageUp),\n    component: markRaw(Branding),\n  },\n  {\n    label: \"Agents\",\n    icon: markRaw(LucideUser),\n    component: markRaw(Agents),\n  },\n  {\n    label: \"Teams\",\n    icon: markRaw(LucideUsers),\n    component: markRaw(TeamsConfig),\n  },\n  {\n    label: \"SLA Policies\",\n    icon: markRaw(ShieldCheck),\n    component: markRaw(Sla),\n  },\n  {\n    label: \"Business Holidays\",\n    icon: markRaw(Briefcase),\n    component: markRaw(HolidayList),\n  },\n  {\n    label: \"Field Dependencies\",\n    icon: markRaw(FieldDependencyIcon),\n    component: markRaw(FieldDependencyConfig),\n  },\n  {\n    label: \"Assignment Rules\",\n    icon: markRaw(h(Settings, { class: \"rotate-90\" })),\n    component: markRaw(AssignmentRules),\n  },\n];\n\nexport const activeTab = ref(tabs[0]);\n\nexport const disableSettingModalOutsideClick = ref(false);\n\nexport const setActiveSettingsTab = (tab: string) => {\n  activeTab.value = tabs.find((t) => t.label === tab);\n};\n","<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{ size: '5xl' }\"\n    :disableOutsideClickToClose=\"disableSettingModalOutsideClick\"\n  >\n    <template #body>\n      <div class=\"flex\" :style=\"{ height: 'calc(100vh - 8rem)' }\">\n        <div class=\"flex w-52 shrink-0 flex-col bg-gray-50 p-2\">\n          <h1 class=\"px-2 pt-2 text-lg font-semibold\">Settings</h1>\n          <div class=\"mt-3 space-y-1\">\n            <button\n              v-for=\"tab in tabs\"\n              :key=\"tab.label\"\n              class=\"flex h-7 w-full items-center gap-2 rounded px-2 py-1\"\n              :class=\"[\n                activeTab?.label == tab.label\n                  ? 'bg-white shadow-sm'\n                  : 'hover:bg-gray-100',\n              ]\"\n              @click=\"activeTab = tab\"\n            >\n              <component :is=\"tab.icon\" class=\"h-4 w-4 text-gray-700\" />\n              <span class=\"text-base text-gray-800\">\n                {{ tab.label }}\n              </span>\n            </button>\n          </div>\n        </div>\n        <div class=\"flex flex-1 flex-col bg-surface-modal\">\n          <component\n            :is=\"activeTab.component\"\n            v-if=\"activeTab\"\n            class=\"h-full flex flex-col w-full\"\n          />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script setup lang=\"ts\">\nimport { Dialog } from \"frappe-ui\";\nimport { ModelRef, watch } from \"vue\";\n\nimport {\n  activeTab,\n  disableSettingModalOutsideClick,\n  tabs,\n} from \"./settingsModal\";\n\nconst props = withDefaults(\n  defineProps<{\n    defaultTab?: number;\n  }>(),\n  {\n    defaultTab: 0,\n  }\n);\n\nconst show: ModelRef<boolean> = defineModel();\n\nwatch(\n  () => props.defaultTab,\n  (val) => {\n    activeTab.value = tabs[val];\n  }\n);\n</script>\n","import { globalStore } from \"@/stores/globalStore\";\nimport { createResource } from \"frappe-ui\";\nimport { ref } from \"vue\";\n\nconst baseEndpoint = ref(\"https://frappecloud.com\");\nconst siteName = ref(\"\");\n\nexport const currentSiteInfo = createResource({\n  url: \"frappe.integrations.frappe_providers.frappecloud_billing.current_site_info\",\n  cache: \"currentSiteInfo\",\n  onSuccess: (data) => {\n    baseEndpoint.value = data.base_url;\n    siteName.value = data.site_name;\n  },\n});\n\nexport const confirmLoginToFrappeCloud = () => {\n  currentSiteInfo.fetch();\n\n  const { $dialog } = globalStore();\n\n  $dialog({\n    title: \"Login to Frappe Cloud?\",\n    message: \"Are you sure you want to login to your Frappe Cloud dashboard?\",\n    actions: [\n      {\n        label: \"Confirm\",\n        variant: \"solid\",\n        onClick(close: Function) {\n          loginToFrappeCloud();\n          close();\n        },\n      },\n    ],\n  });\n};\n\nconst loginToFrappeCloud = () => {\n  window.open(\n    `${baseEndpoint.value}/dashboard/sites/${siteName.value}`,\n    \"_blank\"\n  );\n};\n","<template>\n  <div\n    class=\"flex select-none flex-col border-r border-gray-200 bg-gray-50 p-2 text-base duration-300 ease-in-out\"\n    :style=\"{\n      'min-width': width,\n      'max-width': width,\n    }\"\n  >\n    <UserMenu class=\"mb-2\" :options=\"profileSettings\" />\n    <SidebarLink\n      v-if=\"!isCustomerPortal\"\n      label=\"Search\"\n      class=\"my-0.5\"\n      :icon=\"LucideSearch\"\n      :on-click=\"() => openCommandPalette()\"\n      :is-expanded=\"isExpanded\"\n    >\n      <template #right>\n        <span class=\"flex items-center gap-0.5 font-medium text-gray-600\">\n          <component :is=\"device.modifierIcon\" class=\"h-3 w-3\" />\n          <span>K</span>\n        </span>\n      </template>\n    </SidebarLink>\n    <SidebarLink\n      v-if=\"!isCustomerPortal\"\n      class=\"relative my-0.5 min-h-7\"\n      label=\"Dashboard\"\n      :icon=\"LucideLayoutDashboard\"\n      :to=\"'Dashboard'\"\n      :is-active=\"isActiveTab('Dashboard')\"\n      :is-expanded=\"isExpanded\"\n    />\n    <div class=\"mb-4\" v-if=\"!isCustomerPortal\">\n      <div\n        v-if=\"notificationStore.unread\"\n        class=\"absolute z-20 h-1.5 w-1.5 translate-x-6 translate-y-1 rounded-full bg-blue-400 left-1\"\n        theme=\"gray\"\n        variant=\"solid\"\n      />\n      <SidebarLink\n        class=\"relative my-0.5\"\n        label=\"Notifications\"\n        :icon=\"LucideBell\"\n        :on-click=\"() => notificationStore.toggle()\"\n        :is-expanded=\"isExpanded\"\n      >\n        <template #right>\n          <Badge\n            v-if=\"isExpanded && notificationStore.unread\"\n            :label=\"\n              notificationStore.unread > 9 ? '9+' : notificationStore.unread\n            \"\n            theme=\"gray\"\n            variant=\"subtle\"\n          />\n        </template>\n      </SidebarLink>\n    </div>\n    <div class=\"overflow-y-auto overflow-x-hidden\">\n      <div v-for=\"view in allViews\" :key=\"view.label\">\n        <div\n          v-if=\"!view.hideLabel && !isExpanded && view.views?.length\"\n          class=\"mx-2 my-2 h-1 border-b\"\n        />\n        <Section\n          :label=\"view.label\"\n          :hideLabel=\"view.hideLabel\"\n          :opened=\"view.opened\"\n        >\n          <template #header=\"{ opened, hide, toggle }\">\n            <div\n              v-if=\"!hide\"\n              class=\"flex cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 transition-all duration-300 ease-in-out\"\n              :class=\"\n                !isExpanded\n                  ? 'ml-0 h-0 overflow-hidden opacity-0'\n                  : 'mt-4 h-7 w-auto opacity-100'\n              \"\n              @click=\"toggle()\"\n            >\n              <FeatherIcon\n                name=\"chevron-right\"\n                class=\"h-4 text-ink-gray-9 transition-all duration-300 ease-in-out\"\n                :class=\"{ 'rotate-90': opened }\"\n              />\n              <span>{{ view.label }}</span>\n            </div>\n          </template>\n          <nav class=\"flex flex-col\">\n            <SidebarLink\n              v-for=\"link in view.views\"\n              :icon=\"link.icon\"\n              :label=\"link.label\"\n              :to=\"link.to\"\n              :key=\"link.label\"\n              :is-expanded=\"isExpanded\"\n              :is-active=\"isActiveTab(link.to)\"\n              class=\"my-0.5 emoji\"\n              :onClick=\"link.onClick\"\n            />\n          </nav>\n        </Section>\n      </div>\n    </div>\n    <div class=\"grow\" />\n    <div class=\"flex flex-col gap-1\">\n      <TrialBanner\n        v-if=\"isFCSite && !isCustomerPortal\"\n        :isSidebarCollapsed=\"!isExpanded\"\n      />\n      <GettingStartedBanner\n        v-if=\"showOnboardingBanner\"\n        :isSidebarCollapsed=\"!isExpanded\"\n        appName=\"helpdesk\"\n      />\n      <SidebarLink\n        v-if=\"isOnboardingStepsCompleted && !isCustomerPortal\"\n        :icon=\"HelpIcon\"\n        :label=\"'Help'\"\n        :is-expanded=\"isExpanded\"\n        @click=\"\n          () => {\n            showHelpModal = minimize ? true : !showHelpModal;\n            minimize = !showHelpModal;\n          }\n        \"\n      />\n\n      <SidebarLink\n        :icon=\"isExpanded ? LucideArrowLeftFromLine : LucideArrowRightFromLine\"\n        :is-active=\"false\"\n        :is-expanded=\"isExpanded\"\n        :label=\"isExpanded ? 'Collapse' : 'Expand'\"\n        :on-click=\"() => (isExpanded = !isExpanded)\"\n      />\n    </div>\n    <TrialBanner\n      v-if=\"isFCSite && !isCustomerPortal\"\n      :isSidebarCollapsed=\"!isExpanded\"\n    />\n    <SettingsModal\n      v-model=\"showSettingsModal\"\n      :default-tab=\"defaultSettingsTab\"\n    />\n    <HelpModal\n      v-if=\"showHelpModal\"\n      v-model=\"showHelpModal\"\n      v-model:articles=\"articles\"\n      appName=\"helpdesk\"\n      title=\"Frappe Helpdesk\"\n      :logo=\"logo\"\n      docsLink=\"https://docs.frappe.io/helpdesk\"\n      :afterSkip=\"(step) => capture('onboarding_step_skipped_' + step)\"\n      :afterSkipAll=\"() => capture('onboarding_steps_skipped')\"\n      :afterReset=\"(step) => capture('onboarding_step_reset_' + step)\"\n      :afterResetAll=\"() => capture('onboarding_steps_reset')\"\n    />\n    <IntermediateStepModal\n      v-model=\"showIntermediateModal\"\n      :currentStep=\"currentStep\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport HDLogo from \"@/assets/logos/HDLogo.vue\";\nimport { Section, SidebarLink } from \"@/components\";\nimport Apps from \"@/components/Apps.vue\";\nimport { FrappeCloudIcon, InviteCustomer } from \"@/components/icons\";\nimport { showNewAgentsDialog } from \"@/components/Settings/agents\";\nimport SettingsModal from \"@/components/Settings/SettingsModal.vue\";\nimport UserMenu from \"@/components/UserMenu.vue\";\nimport { useDevice } from \"@/composables\";\nimport { confirmLoginToFrappeCloud } from \"@/composables/fc\";\nimport { useScreenSize } from \"@/composables/screen\";\nimport { currentView, useView } from \"@/composables/useView\";\nimport { showNewContactModal } from \"@/pages/desk/contact/dialogState\";\nimport {\n  showAssignmentModal,\n  showCommentBox,\n  showEmailBox,\n} from \"@/pages/ticket/modalStates\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useNotificationStore } from \"@/stores/notification\";\nimport { useSidebarStore } from \"@/stores/sidebar\";\nimport { capture } from \"@/telemetry\";\nimport { isCustomerPortal } from \"@/utils\";\nimport { call } from \"frappe-ui\";\nimport {\n  GettingStartedBanner,\n  HelpModal,\n  IntermediateStepModal,\n  minimize,\n  showHelpModal,\n  TrialBanner,\n  useOnboarding,\n} from \"frappe-ui/frappe\";\n\nimport HelpIcon from \"frappe-ui/frappe/Icons/HelpIcon.vue\";\nimport { storeToRefs } from \"pinia\";\nimport { computed, h, markRaw, onMounted, onUnmounted, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport {\n  agentPortalSidebarOptions,\n  customerPortalSidebarOptions,\n} from \"./layoutSettings\";\n\nimport { globalStore } from \"@/stores/globalStore\";\nimport LucideArrowLeftFromLine from \"~icons/lucide/arrow-left-from-line\";\nimport LucideArrowRightFromLine from \"~icons/lucide/arrow-right-from-line\";\nimport LucideBell from \"~icons/lucide/bell\";\nimport FileText from \"~icons/lucide/file-text\";\nimport Globe from \"~icons/lucide/globe\";\nimport LucideLayoutDashboard from \"~icons/lucide/layout-dashboard\";\nimport LucideMail from \"~icons/lucide/mail\";\nimport MailOpen from \"~icons/lucide/mail-open\";\nimport MessageCircle from \"~icons/lucide/message-circle\";\nimport LucideSearch from \"~icons/lucide/search\";\nimport Ticket from \"~icons/lucide/ticket\";\nimport Timer from \"~icons/lucide/timer\";\nimport UserPen from \"~icons/lucide/user-pen\";\nimport LucideUserPlus from \"~icons/lucide/user-plus\";\n\nimport { setActiveSettingsTab } from \"../Settings/settingsModal\";\n\nconst { isMobileView } = useScreenSize();\n\nconst route = useRoute();\nconst router = useRouter();\nconst authStore = useAuthStore();\nconst notificationStore = useNotificationStore();\nconst { isExpanded, width } = storeToRefs(useSidebarStore());\nconst device = useDevice();\nconst { $socket } = globalStore();\n\nconst showSettingsModal = ref(false);\n\nconst { pinnedViews, publicViews } = useView();\ndeclare global {\n  interface Window {\n    is_fc_site: boolean;\n  }\n}\nconst isFCSite = ref(window.is_fc_site);\n\nconst allViews = computed(() => {\n  const items = isCustomerPortal.value\n    ? customerPortalSidebarOptions\n    : agentPortalSidebarOptions;\n\n  const options = [\n    {\n      label: \"All Views\",\n      hideLabel: true,\n      opened: true,\n      views: items,\n    },\n  ];\n  if (publicViews.value?.length && !isCustomerPortal.value) {\n    options.push({\n      label: \"Public Views\",\n      opened: true,\n      hideLabel: false,\n      views: parseViews(publicViews.value),\n    });\n  }\n  if (pinnedViews.value?.length) {\n    options.push({\n      label: \"Private Views\",\n      opened: true,\n      hideLabel: false,\n      views: parseViews(pinnedViews.value),\n    });\n  }\n  return options;\n});\n\nfunction parseViews(views) {\n  return views.map((view) => {\n    return {\n      label: view.label,\n      icon: view.icon,\n      to: {\n        name: view.route_name,\n        query: { view: view.name },\n      },\n      onClick: () => {\n        currentView.value = {\n          label: view.label,\n          icon: view.icon,\n        };\n      },\n    };\n  });\n}\n\nconst customerPortalDropdown = computed(() => [\n  {\n    label: \"Log out\",\n    icon: \"log-out\",\n    onClick: () => authStore.logout(),\n  },\n]);\n\nconst agentPortalDropdown = computed(() => [\n  {\n    component: markRaw(Apps),\n  },\n  {\n    label: \"Customer portal\",\n    icon: \"users\",\n    onClick: () => {\n      const path = router.resolve({ name: \"TicketsCustomer\" });\n      window.open(path.href);\n    },\n  },\n  {\n    icon: \"life-buoy\",\n    label: \"Support\",\n    onClick: () => window.open(\"https://t.me/frappedesk\"),\n  },\n  {\n    icon: \"book-open\",\n    label: \"Docs\",\n    onClick: () => window.open(\"https://docs.frappe.io/helpdesk\"),\n  },\n  {\n    label: \"Login to Frappe Cloud\",\n    icon: FrappeCloudIcon,\n    onClick: () => confirmLoginToFrappeCloud(),\n    condition: () => !isMobileView.value && window.is_fc_site,\n  },\n  {\n    label: \"Settings\",\n    icon: \"settings\",\n    onClick: () => (showSettingsModal.value = true),\n    condition: () => authStore.isAdmin || authStore.isManager,\n  },\n  {\n    group: \"Danger\",\n    hideLabel: true,\n    items: [\n      {\n        label: \"Log out\",\n        icon: \"log-out\",\n        onClick: () => authStore.logout(),\n      },\n    ],\n  },\n]);\n\nconst profileSettings = computed(() => {\n  return isCustomerPortal.value\n    ? customerPortalDropdown.value\n    : agentPortalDropdown.value;\n});\n\nfunction isActiveTab(to: any) {\n  if (route.query.view) {\n    return route.query.view == to?.query?.view;\n  }\n  return route.name === to;\n}\n\nfunction openCommandPalette() {\n  window.dispatchEvent(\n    new KeyboardEvent(\"keydown\", { key: \"k\", metaKey: true })\n  );\n}\n\nconst logo = h(\n  HDLogo,\n  {\n    class: \"h-12 w-12\",\n  },\n  null\n);\n\nconst defaultSettingsTab = ref(0);\n\nconst showOnboardingBanner = computed(() => {\n  return (\n    !isCustomerPortal.value &&\n    !isOnboardingStepsCompleted.value &&\n    authStore.isManager\n  );\n});\n\nconst steps = [\n  {\n    name: \"setup_email_account\",\n    title: \"Connect your support email\",\n    completed: false,\n    icon: markRaw(LucideMail),\n    onClick: () => {\n      minimize.value = true;\n      showSettingsModal.value = true;\n      defaultSettingsTab.value = 0;\n    },\n  },\n  {\n    name: \"invite_agents\",\n    title: \"Invite agents\",\n    completed: false,\n    icon: markRaw(LucideUserPlus),\n    onClick: () => {\n      minimize.value = true;\n      showSettingsModal.value = true;\n      defaultSettingsTab.value = 2;\n      setTimeout(() => {\n        showNewAgentsDialog.value = true;\n      }, 300);\n    },\n  },\n  {\n    name: \"setup_sla\",\n    title: \"Setup SLA\",\n    completed: false,\n    icon: markRaw(Timer),\n    onClick: () => {\n      setActiveSettingsTab(\"SLA Policies\");\n      showSettingsModal.value = true;\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"create_first_ticket\",\n    title: \"Create a ticket\",\n    completed: false,\n    icon: markRaw(Ticket),\n    onClick: () => {\n      router.push({ name: \"TicketAgentNew\" });\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"assign_to_agent\",\n    title: \"Assign a ticket to an agent\",\n    completed: false,\n    icon: markRaw(UserPen),\n    onClick: async () => {\n      await handleFirstTicketNavigation();\n      showAssignmentModal.value = true;\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"reply_on_ticket\",\n    title: \"Reply on a ticket\",\n    completed: false,\n    icon: markRaw(MailOpen),\n    onClick: async () => {\n      await handleFirstTicketNavigation();\n      showEmailBox.value = true;\n      showCommentBox.value = false;\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"comment_on_ticket\",\n    title: \"Add a comment on a ticket\",\n    completed: false,\n    icon: markRaw(MessageCircle),\n    onClick: async () => {\n      await handleFirstTicketNavigation();\n      showCommentBox.value = true;\n      showEmailBox.value = false;\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"first_article\",\n    title: \"Create an article\",\n    completed: false,\n    icon: markRaw(FileText),\n    onClick: async () => {\n      const generalCategory = await getGeneralCategory();\n      router.push({\n        name: \"NewArticle\",\n        query: {\n          title: \"General\",\n        },\n        params: { id: generalCategory },\n      });\n      minimize.value = true;\n    },\n  },\n  {\n    name: \"add_invite_contact\",\n    title: \"Create & invite a contact\",\n    completed: false,\n    icon: markRaw(InviteCustomer),\n    onClick: () => {\n      console.log(\"clicked\");\n      minimize.value = true;\n      currentStep.value = {\n        title: \"Create & invite a contact\",\n        buttonLabel: \"Create\",\n        videoURL: \"/assets/helpdesk/desk/videos/createInviteContact.mp4\",\n        onClick: async () => {\n          showIntermediateModal.value = false;\n          router.push({ name: \"ContactList\" });\n          showNewContactModal.value = true;\n        },\n      };\n      showIntermediateModal.value = true;\n    },\n  },\n  {\n    name: \"explore_customer_portal\",\n    title: \"Explore customer portal\",\n    completed: false,\n    icon: markRaw(Globe),\n    onClick: () => {\n      window.open(\"/helpdesk/my-tickets\", \"_blank\");\n      updateOnboardingStep(\"explore_customer_portal\");\n      minimize.value = true;\n    },\n  },\n];\n\nconst articles = ref([\n  {\n    title: \"Introduction\",\n    opened: false,\n    subArticles: [\n      { name: \"introduction\", title: \"Introduction\" },\n      { name: \"setting-up\", title: \"Setting up\" },\n    ],\n  },\n  {\n    title: \"Getting Started\",\n    opened: false,\n    subArticles: [\n      {\n        name: \"lesson-1-your-first-ticket\",\n        title: \"Creating a ticket\",\n      },\n      {\n        name: \"lesson-2understanding-ticket-view\",\n        title: \"Understanding ticket view\",\n      },\n      {\n        name: \"lesson-3-agents-teams\",\n        title: \"Agents & Teams\",\n      },\n      {\n        name: \"customers-contacts\",\n        title: \"Customers & Contacts\",\n      },\n      {\n        name: \"lesson-4-knowledge-base\",\n        title: \"Knowledge Base\",\n      },\n      {\n        name: \"customer-portal\",\n        title: \"Customer Portal\",\n      },\n    ],\n  },\n  {\n    title: \"Masters\",\n    opened: false,\n    subArticles: [\n      { name: \"ticket\", title: \"Ticket\" },\n      { name: \"agent\", title: \"Agent\" },\n      { name: \"team\", title: \"Team\" },\n      { name: \"contact\", title: \"Contact\" },\n      { name: \"customer\", title: \"Customer\" },\n      { name: \"knowledge-base\", title: \"Knowledge Base\" },\n      { name: \"canned-response\", title: \"Canned Responses\" },\n      { name: \"service-level-agreement\", title: \"Service Level Agreement\" },\n      { name: \"ticket-type\", title: \"Ticket Type\" },\n      { name: \"ticket-priority\", title: \"Ticket Priority\" },\n    ],\n  },\n  {\n    title: \"Customizations\",\n    opened: false,\n    subArticles: [\n      { name: \"custom-actions\", title: \"Custom Actions\" },\n      { name: \"field-dependency\", title: \"Field Dependency\" },\n      { name: \"custom-views\", title: \"Custom Views\" },\n      {\n        name: \"settings\",\n        title: \"Settings\",\n      },\n    ],\n  },\n  {\n    title: \"Frappe Helpdesk Mobile\",\n    opened: false,\n    subArticles: [\n      { name: \"pwa-installation\", title: \"Mobile App Installation\" },\n    ],\n  },\n]);\n\nconst showIntermediateModal = ref(false);\nconst currentStep = ref({});\n\nconst { isOnboardingStepsCompleted, setUp, updateOnboardingStep } =\n  useOnboarding(\"helpdesk\");\n\nasync function handleFirstTicketNavigation() {\n  const ticket = await getFirstTicket();\n\n  if (ticket) {\n    router.push({\n      name: \"TicketAgent\",\n      params: { ticketId: ticket },\n    });\n  } else {\n    router.push({ name: \"TicketAgentNew\" });\n  }\n}\n\nasync function getFirstTicket() {\n  let ticket = localStorage.getItem(\"firstTicket\");\n  if (ticket) return ticket;\n  return await call(\"helpdesk.api.onboarding.get_first_ticket\");\n}\n\nasync function getGeneralCategory() {\n  let generalCategory = localStorage.getItem(\"generalCategoryId\");\n  if (!generalCategory) {\n    generalCategory = await call(\n      \"helpdesk.api.onboarding.get_general_category_id\"\n    );\n    if (!generalCategory) return;\n    localStorage.setItem(\"generalCategoryId\", generalCategory);\n  }\n  return generalCategory;\n}\n\nfunction setUpOnboarding() {\n  if (!authStore.isManager) return;\n  setUp(steps);\n}\n\nonMounted(() => {\n  setUpOnboarding();\n});\n</script>\n","<template>\n  <div class=\"flex h-screen w-screen\">\n    <Sidebar />\n    <div class=\"flex-1 flex flex-col h-full overflow-auto\">\n      <AppHeader />\n      <slot />\n    </div>\n    <Notifications />\n    <CommandPalette />\n  </div>\n</template>\n<script setup>\nimport { Notifications, CommandPalette } from \"@/components\";\nimport AppHeader from \"./AppHeader.vue\";\nimport Sidebar from \"./Sidebar.vue\";\n</script>\n"],"names":["C","oe","v","l","c","i","r","w","f","Q","u","t","p","z","P","k","ue","h","V","n","M","s","G","e","m","E","o","L","F","D","R","g","$","x","d","a","N","I","j","K","y","b","T","B","S","H","A","U","O","_","de","J","ce","q","serialize","__privateAdd","_t","__privateGet","isEqual","object1","object2","findValuesBetween","array","start","end","startIndex","endIndex","minIndex","maxIndex","isPlainObject","value","prototype","_defu","baseObject","defaults","namespace","merger","object","key","createDefu","arguments_","defu","useBodyLockStackCount","createSharedComposable","map","ref","initialOverflow","locked","computed","context","injectConfigProviderContext","stopTouchMoveListener","resetBodyStyle","isIOS","watch","val","oldVal","isClient","verticalScrollbarWidth","defaultConfig","config","_a","useEventListener","preventDefault","nextTick","useBodyScrollLock","initialState","id","tryOnBeforeUnmount","checkOverflowScroll","ele","style","parent","rawEvent","_target","useDirection","dir","useFilter","options","computedOptions","unref","collator","string","substring","scan","sliceLen","slice","useFormControl","el","toValue$1","unrefElement","getDefaultParent","originalTarget","sampleTarget","counterMap","uncontrolledNodes","markerMap","lockCount","unwrapHost","node","correctTargets","targets","target","correctedTarget","applyAttributeToOthers","parentNode","markerName","controlAttribute","markerCounter","hiddenNodes","elementsToKeep","elementsToStop","keep","deep","attr","alreadyHidden","counterValue","markerValue","hideOthers","activeParentNode","useHideOthers","undo","onUnmounted","useKbd","useTypeahead","callback","search","refAutoReset","items","currentItem","getActiveElement","itemsWithTextValue","item","_b","currentMatch","values","nextMatch","getNextMatch","newItem","wrapArray","index","normalizedSearch","char","currentMatchIndex","wrappedValues","MAP_KEY_TO_FOCUS_INTENT","getDirectionAwareKey","getFocusIntent","event","orientation","VisuallyHiddenInputBubble_vue_vue_type_script_setup_true_lang_default","defineComponent","__props","props","primitiveElement","currentElement","usePrimitiveElement","valueState","cur","prev","input","inputProto","setValue","inputEvent","changeEvent","_ctx","_cache","openBlock","createBlock","VisuallyHidden_default","mergeProps","VisuallyHiddenInputBubble_default","VisuallyHiddenInput_vue_vue_type_script_setup_true_lang_default","isFormArrayEmptyAndRequired","parsedValue","obj","createElementBlock","Fragment","createCommentVNode","renderList","parsed","VisuallyHiddenInput_default","ComboboxAnchor_vue_vue_type_script_setup_true_lang_default","forwardRef","useForwardExpose","PopperAnchor_default","withCtx","createVNode","Primitive","renderSlot","ComboboxAnchor_default","valueComparator","currentValue","comparator","compare","injectListboxRootContext","provideListboxRootContext","createContext","ListboxRoot_vue_vue_type_script_setup_true_lang_default","__expose","__emit","emits","multiple","highlightOnHover","disabled","selectionBehavior","propDir","toRefs","getItems","useCollection","handleTypeaheadSearch","kbd","isFormControl","firstValue","isUserAction","focusable","modelValue","useVModel","onValueChange","modelArray","highlightedElement","previousElement","isVirtual","isComposing","virtualFocusHook","createEventHook","virtualKeydownHook","virtualHighlightHook","getCollectionItem","changeHighlight","scrollIntoView","highlightedItem","highlightItem","onKeydownEnter","onKeydownTypeAhead","isMetaKey","collection","onCompositionStart","onCompositionEnd","highlightFirstItem","onKeydownNavigation","onLeave","onEnter","entryFocusEvent","intent","currentIndex","handleMultipleReplace","targetEl","lastValue","highlightSelected","ListboxRoot_default","ListboxContent_vue_vue_type_script_setup_true_lang_default","CollectionSlot","rootContext","isClickFocus","withModifiers","$event","ev","withKeys","ListboxContent_default","ListboxFilter_vue_vue_type_script_setup_true_lang_default","activedescendant","watchSyncEffect","onMounted","ListboxFilter_default","injectListboxGroupContext","provideListboxGroupContext","ListboxGroup_vue_vue_type_script_setup_true_lang_default","useId","ListboxGroup_default","LISTBOX_SELECT","injectListboxItemContext","provideListboxItemContext","ListboxItem_vue_vue_type_script_setup_true_lang_default","CollectionItem","isHighlighted","isSelected","handleSelect","handleSelectCustomEvent","eventDetail","handleAndDispatchCustomEvent","withMemo","ListboxItem_default","ListboxItemIndicator_vue_vue_type_script_setup_true_lang_default","itemContext","ListboxItemIndicator_default","injectComboboxRootContext","provideComboboxRootContext","ComboboxRoot_vue_vue_type_script_setup_true_lang_default","parentElement","ignoreFilter","resetSearchTermOnSelect","openOnFocus","openOnClick","open","onOpenChange","filterSearch","isUserInputted","inputElement","resetSearchTerm","triggerElement","allItems","allGroups","contains","filterState","oldValue","itemCount","filteredItems","filteredGroups","score","groupId","group","itemId","inst","getCurrentInstance","_c","PopperRoot_default","isRef","ComboboxRoot_default","injectComboboxContentContext","provideComboboxContentContext","ComboboxContentImpl_vue_vue_type_script_setup_true_lang_default","position","pickedProps","forwardedProps","useForwardProps","popperStyle","isInputWithinContent","DismissableLayer_default","resolveDynamicComponent","PopperContent_default","ComboboxContentImpl_default","ComboboxContent_vue_vue_type_script_setup_true_lang_default","forwarded","useForwardPropsEmits","Presence_default","ComboboxContent_default","ComboboxEmpty_vue_vue_type_script_setup_true_lang_default","isRender","normalizeProps","createTextVNode","ComboboxEmpty_default","injectComboboxGroupContext","provideComboboxGroupContext","ComboboxGroup_vue_vue_type_script_setup_true_lang_default","ComboboxGroup_default","ComboboxInput_vue_vue_type_script_setup_true_lang_default","listboxContext","handleKeyDown","handleInput","handleFocus","handleClick","rootModelValue","ComboboxInput_default","ComboboxItem_vue_vue_type_script_setup_true_lang_default","groupContext","filteredCurrentItem","toDisplayString","ComboboxItem_default","ComboboxItemIndicator_vue_vue_type_script_setup_true_lang_default","guardReactiveProps","ComboboxItemIndicator_default","ComboboxLabel_vue_vue_type_script_setup_true_lang_default","ComboboxLabel_default","ComboboxPortal_vue_vue_type_script_setup_true_lang_default","Teleport_default","ComboboxPortal_default","ComboboxTrigger_vue_vue_type_script_setup_true_lang_default","ComboboxTrigger_default","useNonce","nonce","ComboboxViewport_vue_vue_type_script_setup_true_lang_default","propNonce","ComboboxViewport_default","emit","searchTerm","getDisplayValue","internalModelValue","isOpen","userHasTyped","newValue","onUpdateModelValue","selectedOpt","allOptionsFlat","opt","getValue","isGroup","option","getLabel","isDisabled","getIcon","flatOptions","optionOrGroup","selectedValue","selectedOption","selectedOptionIcon","RenderIcon","iconContent","filterFunction","lowerSearch","filtered","filteredGroupOptions","label","filteredOptions","handleInputChange","handleOpenChange","handleBlur","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_unref","ComboboxRoot","ComboboxAnchor","_normalizeClass","_createElementVNode","_hoisted_2","_createBlock","ComboboxInput","placeholder","ComboboxTrigger","LucideChevronDown","ComboboxPortal","ComboboxContent","ComboboxViewport","ComboboxEmpty","_toDisplayString","_Fragment","_renderList","ComboboxGroup","ComboboxLabel","_createTextVNode","idx","ComboboxItem","_hoisted_3","ComboboxItemIndicator","LucideCheck","_hoisted_4","switchType","switchClasses","switchCircleClasses","switchLabelClasses","switchDescriptionClasses","switchGroupClasses","classes","labelContainerClasses","SwitchGroup","_withKeys","_withModifiers","SwitchLabel","SwitchDescription","Switch","notificationStore","useNotificationStore","sidebarStore","useSidebarStore","onClickOutside","handleNotificationClick","getRoute","_normalizeStyle","_component_Button","_component_LucideCheckCheck","_component_LucideX","_component_RouterLink","UserAvatar","_hoisted_5","_hoisted_9","_hoisted_10","_hoisted_11","dayjs","_hoisted_12","_sfc_render","isDependent","step","dependsOnStep","steps","dependsOnTooltip","stepsCompleted","totalSteps","completedPercentage","skip","skipAll","reset","resetAll","useOnboarding","_resolveDynamicComponent","Badge","_hoisted_6","Button","_hoisted_7","Tooltip","searchInput","articles","_useModel","parsedArticles","filteredSubArticles","subArticle","openDocs","openDoc","name","TextInput","FeatherIcon","_withDirectives","_hoisted_8","_vShow","syncStatus","isOnboardingStepsCompleted","show","headingTitle","showHelpCenter","StepsIcon","resetOnboardingSteps","footerItems","HelpIcon","minimize","Dropdown","MaximizeIcon","MinimizeIcon","OnboardingSteps","HelpCenter","openOnboarding","showHelpModal","Dialog","_renderSlot","trialMessage","trialEndDays","showBanner","baseEndpoint","siteName","trialTitle","createResource","data","calculateTrialEndDays","trialEndDate","diffTime","upgradePlan","LightningIcon","PAGE_LENGTH","agents","createListResource","isCustomerPortal","activeFilter","showNewAgentsDialog","useAgents","filters","reactive","newVal","updateAgent","agent","isActive","inviteQueue","currentInputIsValidEmail","updateOnboardingStep","isManager","useAuthStore","testEmailRegex","onSearchInputChange","valStr","inputs","clearInputFlag","addToInviteQueue","clearSearchInput","email","removeEmailFromQueue","removeAllEmailFromQueue","close","sentInvitesResource","res","toast","sendInvites","$emit","args","Input","$slots","$attrs","Avatar","_component_Badge","getUserRole","updateUserRoleCache","useUserStore","agentStore","getRoles","agentRole","roles","RoleOption","updateRole","active","role","onClick","selected","newRole","call","getOptions","dropdownOptions","_component_SettingsLayoutHeader","_component_LucidePlus","FormControl","_component_LucideSearch","_component_Dropdown","_withCtx","_component_FeatherIcon","AgentCard","IconMoreHorizontal","_component_AddNewAgentsDialog","__","useConfigStore","websiteSettings","state","loadingState","brandingConfig","settingsResource","handleLogoChange","handleFaviconChange","update","file","doctype","fieldname","url","SettingsLayoutHeader","FileUploader","openFileSelector","LogoGmail","LogoOutlook","LogoSendgrid","LogoSparkpost","LogoYahoo","LogoYandex","LogoFrappeMail","fixedFields","incomingOutgoingFields","popularProviderFields","customProviderFields","services","emailIcon","validateInputs","isCustom","validateEmailWithZod","logo","serviceName","selectedService","fields","service","addEmailRes","error","createEmailAccount","EmailProviderIcon","CircleAlert","field","_component_FormControl","_component_ErrorMessage","badgeTitleColor","emailAccount","emailAccounts","accounts","account","EmailAccountCard","_d","info","isCustomService","loading","loadingPull","useStorage","updateAccount","old","updatedEmailAccount","nameChanged","otherFieldsChanged","isDirty","callRenameDoc","succesHandler","errorHandler","callSetValue","pullEmails","accountData","updateStep","newStep","EmailAdd","EmailAccountList","EmailEdit","defaultAssignmentDays","assignmentRuleData","resetAssignmentRuleData","assignmentRulesActiveScreen","validateAssignmentRule","skipConditionCheck","validateField","assignmentRulesErrors","validateConditions","_e","_f","resetAssignmentRuleErrors","getUser","teamRestrictionApplied","_teamName","team","createDocumentResource","ignoreRestrictions","teamMembers","user","_user","agentFilters","removeMemberFromTeam","member","users","addMember","showRename","renameDialogOptions","renameTeam","params","showDelete","markRaw","Settings","setActiveSettingsTab","LucideLock","LucideUnlock","teamName","_component_LucideMoreHorizontal","Link","newTeamTitle","newTeam","isEmpty","_component_Dialog","teams","showForm","NewTeamModal","TeamsList","TeamEdit","defaultStatus","defaultSupportAndResolution","slaData","resetSlaData","slaActiveScreen","slaDataErrors","resetSlaDataErrors","validateSlaData","prioritiesError","priority","priorityNum","priorityNames","uniquePriorities","hasFulfilled","hasPaused","statusMap","duplicateStatuses","conflictingBehaviors","status","statusKey","behavior","errorMessages","conflictMessages","behaviors","validWorkdays","day","workdayMap","duplicateWorkdays","invalidTimeRanges","startTimeStr","endTimeStr","parseTime","timeStr","hours","minutes","date","startTime","endTime","slaPolicyList","inject","duplicateDialog","isConfirmingDelete","ConfirmDelete","deleteSla","duplicate","onToggle","LoadingIndicator","sla","SlaPolicyListItem","goToNew","SlaPolicyList","_sfc_main","$data","$props","$options","filterableFields","GroupIcon","UnGroupIcon","TemplateOption","typeCheck","typeLink","typeNumber","typeSelect","typeString","typeDate","typeRating","toggleConjunction","updateField","resetConditionValue","getValueControl","operator","fieldData","fieldtype","_options","getSelectOptions","DateRangePicker","DatePicker","DateTimePicker","StarRating","updateValue","updateOperator","oldOperatorValue","newOperatorValue","isSameTypeOperator","getDefaultValue","getOperators","op","oldOperator","newOperator","textOperators","Autocomplete","CFConditions","getConjunction","conjunction","condition","turnIntoGroup","isGroupCondition","removeCondition","conditionIndex","unGroupConditions","newConditions","CFCondition","addCondition","watchDebounced","ErrorMessage","dialog","workDayData","errors","deleteWorkDay","formatTimeToHHMMSS","seconds","resetForm","validateTimeRange","startHours","startMinutes","endHours","endMinutes","validateForm","isWorkdayValid","isStartTimeValid","isEndTimeValid","onSave","itemIndex","updatedItem","newWorkDay","workDayOptions","editWorkDay","formatTime","time","getGridTemplateColumnsForTable","column","Select","WorkDayModal","allDays","addWorkDay","usedDays","nextDay","columns","row","SlaWorkDaysListItem","holidayListActiveScreen","holidayDataErrors","holidayData","resetHolidayData","validateHoliday","startDate","endDate","updateWeeklyOffDates","newHolidays","weeklyOffs","getWeeklyOffDates","getWeekOfMonth","firstDayOfWeek","offset","getWeeklyOffDateList","weeklyOff","holidays","repetition","dateList","targetDay","existingDates","currentDate","useAllOccurrences","currentDateObj","currentDateStart","shouldIncludeDate","createNewHolidayList","editHolidayList","holidayListData","NestedPopover","holiday","SlaWorkDaysList","initialDelay","repeatDelay","normalizedOptions","displayOptions","hoursInput","minutesInput","secondsInput","activeInterval","activeAction","isMouseDown","actionTimeout","hoursValue","num","newTime","getMinutes","getSeconds","updateTime","minutesValue","getHours","secondsValue","clearActiveInterval","startAction","action","handlePointerUp","emitEvent","validateAndUpdateTime","unit","handleEnter","increment","decrement","formatTimeHMS","days","remainingSeconds","formattedTime","priorityOptions","priorityData","resolutionTime","responseTime","deleteItem","FormLabel","Popover","togglePopover","DurationPicker","Checkbox","editItem","gridTemplateColumns","onDefaultPriorityChange","defaultPriority","EditResponseResolutionModal","provide","addRow","existingPriorities","availablePriorities","newPriority","SlaPriorityListItem","statusData","statusOptions","slaBehaviorOptions","existingStatuses","availableStatuses","newStatus","newStatusItem","SlaStatusListItem","showConfirmDialog","initialData","useNewUI","isOldSla","deskUrl","getSlaData","fulfilledOn","pauseOn","condition_json","newData","conditionsAvailable","conditionsJsonAvailable","disableSettingModalOutsideClick","goBack","confirmDialogInfo","saveSla","validationErrors","updateSla","createSla","convertToConditions","toggleEnabled","toggleDefaultSla","beforeUnloadHandler","_hoisted_13","_hoisted_14","SlaAssignmentConditions","_hoisted_15","_hoisted_16","getFormattedDate","_component_LucideCalendar","_hoisted_17","_hoisted_18","_hoisted_19","SlaPriorityList","_hoisted_20","SlaStatusList","SlaHolidays","ConfirmDialog","slaPolicyListData","SlaPolicies","SlaPolicyView","holidayList","deleteHolidayList","HolidayListItem","HolidayList","holidayDate","fromDate","toDate","holidayExists","holidayIndex","editHoliday","deleteHoliday","holidayToDelete","editDate","AddHolidayModal","module","this","getRepetitionText","parts","last","weekday","isSameOrBefore","recurringHolidayData","workDays","availableWorkDays","addHoliday","saveHoliday","all","first","second","third","fourth","fifth","currentYear","currentMonth","today","daw","formattedMonth","useDatePicker","datesAsWeeks","popoverTimeouts","dateValue","handleMouseEnter","handleMouseLeave","isDateInRange","checkDate","from","to","isHoliday","inputDate","isWeekOff","getHolidayDescription","htmlToText","newYear","newMonth","week","closePopover","openPopover","closeDropdown","openDropdown","visibleMonths","months","startYear","endYear","yearsList","yearList","year","onYearChange","goToToday","month","HLCalender","holidayListView","getHolidayData","updateDuration","updateHoliday","createHoliday","updateHolidayResource","RecurringHolidaysList","TabButtons","HolidaysTableView","HolidaysCalendarView","Holidays","HolidayView","fieldDependenciesList","hiddenChildFields","_fields","child","optionsMap","getFieldOptions","Combobox","ComboboxOptions","ComboboxOption","ComboboxButton","LucideCheckSquare","LucideSquare","_selectedOptions","arr","term","keys","lowerCaseTerm","acc","match","_component_Combobox","isComboboxOpen","_component_Popover","_normalizeProps","_guardReactiveProps","_component_LoadingIndicator","_component_ComboboxOptions","_component_ComboboxInput","_component_ComboboxOption","_mergeProps","_component_LucideSquare","_component_LucideCheckSquare","_component_Tooltip","_component_lucide_info","color","fieldCriteriaOptions","fieldCriteriaState","handleCriteriaSelection","stateKey","_values","DocumentationButton","MultiSelectCombobox","parentFields","isNew","filteredParentFieldValues","filteredChildFieldValues","parentPlaceholder","childPlaceholder","handleParentValueClick","handleChildValueClick","childValue","getSelectedChildValueCount","toggleAllChildValues","handleSelectAllChildValues","toggleCheckboxLabel","selectedCount","isChildValueSelected","_component_LucideChevronRight","dependencyLabel","getFieldDependencyLabel","getFields","getMeta","notAllowedFields","createUpdateFieldDependency","stringifyParentChildMapping","fieldDependency","parseMapping","parseFieldCriteria","mapping","selections","criteria","_selections","handleFieldValues","isParentField","fieldsToHide","handleBackNavigation","handleSubmit","successMessage","newParentField","newChildField","FieldDependencyFieldsSelection","FieldDependencyValueSelection","FieldDependencyCriteria","rowName","handleSwitchToggle","fieldDependencyName","FieldDependencyList","FieldDependency","assignmentRulesList","onPriorityChange","setAssignmentRuleValue","fieldName","assignmentRule","AssignmentRuleListItem","assignmentRulesListData","AssignmentRulesListView","query","usersList","addInvitedAgents","addAssignee","AddNewAgentsDialog","ticketRoutingOptions","removeAssignedUser","_users","AssigneeSearch","toggleDay","dayIndex","workDay","AssignmentScheduleItem","isLoading","getAssignmentRuleData","saveAssignmentRule","updateAssignmentRule","createAssignmentRule","er","_hoisted_21","_hoisted_22","AssignmentRulesSection","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","AssignmentSchedule","AssigneeRules","AssignmentRulesList","AssignmentRuleView","tabs","LucideMail","EmailConfig","ImageUp","Branding","LucideUser","Agents","LucideUsers","TeamsConfig","ShieldCheck","Sla","Briefcase","FieldDependencyIcon","FieldDependencyConfig","AssignmentRules","activeTab","tab","currentSiteInfo","confirmLoginToFrappeCloud","$dialog","globalStore","loginToFrappeCloud","isMobileView","useScreenSize","route","useRoute","router","useRouter","authStore","isExpanded","width","storeToRefs","device","useDevice","showSettingsModal","pinnedViews","publicViews","useView","isFCSite","allViews","customerPortalSidebarOptions","agentPortalSidebarOptions","parseViews","views","view","currentView","customerPortalDropdown","agentPortalDropdown","Apps","path","FrappeCloudIcon","profileSettings","isActiveTab","openCommandPalette","HDLogo","defaultSettingsTab","showOnboardingBanner","LucideUserPlus","Timer","Ticket","UserPen","handleFirstTicketNavigation","showAssignmentModal","MailOpen","showEmailBox","showCommentBox","MessageCircle","FileText","generalCategory","getGeneralCategory","InviteCustomer","currentStep","showIntermediateModal","showNewContactModal","Globe","setUp","ticket","getFirstTicket","setUpOnboarding","UserMenu","SidebarLink","LucideSearch","LucideLayoutDashboard","LucideBell","Section","opened","hide","toggle","link","TrialBanner","GettingStartedBanner","LucideArrowLeftFromLine","LucideArrowRightFromLine","SettingsModal","HelpModal","capture","IntermediateStepModal","Sidebar","AppHeader","Notifications","CommandPalette"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,42,43,44,45,46,47,48,49,50,51,52,107,108]}