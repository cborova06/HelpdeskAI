import{bV as K,A as I,c as w,d as Q,M as T,r as J,e as b,f as X,w as V,l as h,k as D,t as A,y as Z,g as p,aJ as ee,C as te,a1 as ne,h as o,bg as U,G as z,F as E,x as q,P as ae}from"./index-62a62e6e.js";function f(...t){return new Date(...t)}function i(t){return!t||t.toString()==="Invalid Date"?"":K(t).set("hour",0).set("minute",0).set("second",0).set("millisecond",0).format("YYYY-MM-DD")}function S(t,a){let g=1;a<0&&(g=-1,a=Math.abs(a));const s=[];for(;a;)t=f(t.getFullYear(),t.getMonth(),t.getDate()+g),s.push(t),a--;return g===-1?s.reverse():s}function le(t,a){const s=[31,28,31,30,31,30,31,31,30,31,30,31][t];return t===1&&se(a)?29:s}function se(t){return t%400===0?!0:t%100===0?!1:t%4===0}function oe(){const t=I(0),a=I(0),g=w(()=>f()),s=w(()=>{if(!(t.value&&a.value))return[];const r=a.value-1,d=t.value,y=f(d,r,1),P=f(d,r+1,0),c=y.getDay(),l=6-P.getDay(),n=S(y,-c),N=S(P,l),R=le(r,d),$=S(y,R-1);let v=[...n,y,...$,...N];if(v.length<42){const B=v.at(-1);if(B){const L=S(B,42-v.length);v=v.concat(...L)}}return v}),Y=w(()=>{const r=[],d=s.value.slice();for(;d.length;){const y=d.splice(0,7);r.push(y)}return r}),W=w(()=>{if(!(t.value&&a.value))return"";const r=f(t.value,a.value-1,1);return`${r.toLocaleString("en-US",{month:"long"})}, ${r.getFullYear()}`});function C(){_(-1)}function F(){_(1)}function _(r){a.value=a.value+r,a.value<1&&(a.value=12,t.value=t.value-1),a.value>12&&(a.value=1,t.value=t.value+1)}return{currentYear:t,currentMonth:a,today:g,dates:s,datesAsWeeks:Y,formattedMonth:W,prevMonth:C,nextMonth:F,changeMonth:_}}const re={class:"flex flex-col space-y-1.5"},ue={key:0,class:"block text-xs text-ink-gray-5"},ie={class:"flex items-center p-1 text-ink-gray-4"},ce={class:"flex-1 text-center text-base font-medium text-ink-gray-6"},fe={class:"flex items-center justify-center gap-1 p-1"},de={class:"flex flex-col items-center justify-center p-1 text-ink-gray-8"},ve={class:"flex items-center text-xs uppercase"},me=["onClick"],he={class:"flex justify-end space-x-1 p-1"},ge=Q({__name:"DateRangePicker",props:{value:{},modelValue:{},placeholder:{},formatter:{type:Function},readonly:{type:Boolean},inputClass:{},placement:{},label:{}},emits:["update:modelValue","change"],setup(t,{expose:a,emit:g}){const s=t,Y=g,{currentYear:W,currentMonth:C,today:F,datesAsWeeks:_,formattedMonth:r,prevMonth:d,nextMonth:y}=oe(),P=w(()=>{var u,x,M;let e="mt-2";return(u=s.placement)!=null&&u.startsWith("top")?e="mb-2":(x=s.placement)!=null&&x.startsWith("left")?e="mr-2":(M=s.placement)!=null&&M.startsWith("right")&&(e="ml-2"),e}),c=w(()=>s.value?s.value:s.modelValue),l=I(""),n=I("");function N(e){l.value&&n.value?(l.value=i(e),n.value=""):l.value&&!n.value?n.value=i(e):l.value=i(e),R()}function R(){if(!l.value||!n.value)return;let e=f(l.value),u=f(n.value);if(e>u){let x=e;e=u,u=x}l.value=i(e),n.value=i(u)}function $(){let e=`${l.value},${n.value}`;!l.value&&!n.value&&(e=""),Y("change",e),Y("update:modelValue",e)}function v(){let e=n.value?f(n.value):F.value;W.value=e.getFullYear(),C.value=e.getMonth()+1}function B(e){return!l.value||!n.value?!1:e>=f(l.value)&&e<=f(n.value)}function L(e){return e?(typeof e=="string"&&(e=e.split(",")),s.formatter?s.formatter(e[0])+" to "+s.formatter(e[1]):e):""}function H(){l.value="",n.value="",$()}const G=I();return T(()=>{let e=typeof(c==null?void 0:c.value)=="string"?c.value.split(","):c.value;l.value=(e==null?void 0:e[0])||"",n.value=(e==null?void 0:e[1])||"",v()}),a({open:()=>{var e;(e=G.value)==null||e.open()}}),(e,u)=>{const x=J("FeatherIcon"),M=J("Button");return b(),X(o(ae),{ref_key:"popoverRef",ref:G,onOpen:v,class:"flex w-full [&>div:first-child]:w-full",placement:e.placement},{target:V(({togglePopover:j})=>[h("div",re,[s.label?(b(),D("label",ue,A(s.label),1)):Z("",!0),p(o(U),ne({readonly:"",type:"text",placeholder:e.placeholder,value:c.value&&e.formatter?L(c.value):c.value,onFocus:k=>e.readonly?null:j(),class:["w-full",e.inputClass]},e.$attrs),ee({_:2},[e.$slots.prefix?{name:"prefix",fn:V(()=>[te(e.$slots,"prefix")]),key:"0"}:void 0]),1040,["placeholder","value","onFocus","class"])])]),body:V(({togglePopover:j})=>[h("div",{class:q(["w-fit select-none text-base text-ink-gray-9 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",P.value])},[h("div",ie,[p(M,{variant:"ghost",class:"h-7 w-7",onClick:o(d)},{default:V(()=>[p(x,{"stroke-width":2,name:"chevron-left",class:"h-4 w-4"})]),_:1},8,["onClick"]),h("div",ce,A(o(r)),1),p(M,{variant:"ghost",class:"h-7 w-7",onClick:o(y)},{default:V(()=>[p(x,{"stroke-width":2,name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["onClick"])]),h("div",fe,[p(o(U),{class:"w-28 text-sm",type:"text",modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=k=>l.value=k)},null,8,["modelValue"]),p(o(U),{class:"w-28 text-sm",type:"text",modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=k=>n.value=k)},null,8,["modelValue"])]),h("div",de,[h("div",ve,[(b(),D(E,null,z(["s","m","t","w","t","f","s"],(k,O)=>h("div",{class:"flex h-6 w-8 items-center justify-center text-center",key:O},A(k),1)),64))]),(b(!0),D(E,null,z(o(_),(k,O)=>(b(),D("div",{class:"flex items-center",key:O},[(b(!0),D(E,null,z(k,m=>(b(),D("div",{key:o(i)(m),class:q(["flex h-8 w-8 cursor-pointer items-center justify-center rounded hover:bg-surface-gray-2",{"text-ink-gray-3":m.getMonth()!==o(C)-1,"text-ink-gray-9":m.getMonth()===o(C)-1,"font-extrabold text-ink-gray-9":o(i)(m)===o(i)(o(F)),"rounded-none bg-surface-gray-3":B(m),"rounded-l-md rounded-r-none bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":l.value&&o(i)(m)===o(i)(l.value),"rounded-r-md bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":n.value&&o(i)(m)===o(i)(n.value)}]),onClick:()=>N(m)},A(m.getDate()),11,me))),128))]))),128))]),h("div",he,[p(M,{label:"Clear",onClick:()=>{H(),j()},disabled:!l.value||!n.value},null,8,["onClick","disabled"]),p(M,{variant:"solid",label:"Apply",disabled:!l.value||!n.value,onClick:()=>{$(),j()}},null,8,["disabled","onClick"])])],2)]),_:3},8,["placement"])}}});export{ge as _,i as a,f as g,oe as u};
//# sourceMappingURL=DateRangePicker.vue_vue_type_script_setup_true_lang-4c092d39.js.map
